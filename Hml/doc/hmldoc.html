<!DOCTYPE html>
<html>
<head>
<!--
| You can add elements to the end of this head element using
| the HML processor's <head> element. The material you add goes
| at the end of the version supplied here, so will prempt/augment.
| the default style. Do that to customize the styling for a single
| document. Changes made in the current file affect ALL documents.
-->
<style>
	/* ----------------------------------------------------------------------
	 * Font info for the document. The line height in the listings must
	 * be sufficient to accommodate slightly different letter height in the
	 * different fonts.
	 */

	body, td {
		font: 10pt Helvetica,Arial,sans-serif;
	}

	.hmlPre {
		font-size: 10pt;
		line-height: 11pt;
	}

	.hmlCodeAnnotations {		/* line numbers in the listings */
		font-size: 9pt;
		line-height: 11pt;
	}

	/* ---------------------------------------------------------------------- */

	body {
		margin-left: .75in;
		margin-right: .5in;
	}

	@media print
	{
		body {
			margin-left: .1in;
			margin-right: .1in;
		}
	}


	td {
	}

	.hmlBox {
		margin: 3pt 0 3pt 0;
		border-style: solid;
		border-width:1px;
		padding: 3pt 3pt 3pt 3pt;
	}

	.hmlListingGroup, .hmlPreGroup { /* Group together code and annotations in listing or pre */
		margin:  1em 0em 1em 2em;
		padding: 0pt 0pt 0pt 0pt;
	}

	.hmlListingGroup {
		border: 1px solid lightgray;
	}

	.hmlCodeAnnotations {					/* All annotations (both listing and pre ) */
		text-align: right;
		display:table-cell;
	}

	.hmlListingGroup .hmlCodeAnnotations {	/* augmentations for listing annotations only */ 
		border-right: 1px solid lightgray;
		padding-right: .5em;
		width:.4in;
		color: lightblue;
		font-style: italic;
	}

	.hmlCode {				/* Div that holds the code in a listing or pre */
		padding-left:.5em;
		display:table-cell;
	}

	.hmlPre {				/* The pre block inside the div generated by a listing or pre */
		margin:  0pt 0pt 0pt 0pt;
		padding: 0pt 0pt 0pt 0pt;
	}

	.hmlComment {			/* A comment in a listing or pre */
		color: green;
		font-style: italic;
	}
	
	.hmlKeyword {			/* A keyword in a listing or pre */
		color: rgb(119,12,80);
	}

	.hmlListingTitle,
	.hmlFigureTitle,
	.hmlTableTitle
	{	font-weight: bold;
	}

	/* Tables introduced with | */
	.hmlTable {
	}

	.hmlTitle {
		font-style: italic;
	}

	.hmlTable,
	.hmlBlock {
		margin-top: 1em;
		margin-left: 2em; /* same as pre blocks. */
		margin-bottom: 1em;
	}

	.hmlTable td {
		vertical-align: top;
		padding-right: 1em;
	}

	.hmlTable .hmlTableLine {
		border-bottom: 1px solid black;
		font-size: .1pt;
	}

	.hmlToc {
		border: 1px solid black;
		padding: 1em 1em 1em 1em;
		width: auto;
	}

	.hmlTocTitle {
		font-weight: bold;
		margin-bottom: 1em;
	}

	.hmlTocLev0,
	.hmlTocLev1,
	.hmlTocLev2,
	.hmlTocLev3,
	.hmlTocLev4,
	.hmlTocLev5,
	.hmlTocLev6,
	.hmlTocLev7,
	.hmlTocLev8,
	.hmlTocLev9
	{
		font-weight: normal;
		padding: 0 0 0 0;
		margin-top: 0pt;
		margin-bottom: 0pt;
		margin-right; 0pt;
		width: auto;
	}

	.hmlTocLev2{ margin-left: 2em; }
	.hmlTocLev3{ margin-left: 4em; }
	.hmlTocLev4{ margin-left: 6em; }
	.hmlTocLev5{ margin-left: 8em; }
	.hmlTocLev6{ margin-left: 10em; }
	.hmlTocLev7{ margin-left: 12em; }
	.hmlTocLev8{ margin-left: 14em; }
	.hmlTocLev9{ margin-left: 16em; }
	
	.hmlIndex {}	/* the entire index, including the title */
	.hmlTopics {	/* The index body */
		-moz-column-count: 2;
		-webkit-column-count: 2;
		column-count: 2;
		
		-moz=column-gap: 2em;
		-webkit=column-gap: 2em;
	}
	.hmlTopicGroup {}								/* The combined topic title and references */
	.hmlTopic { display:inline; font-weight:bold; }	/* The topic title */
	.hmlTopicLocationGroup { display:inline; }		/* The set of references */
	.hmlTopicLocation { display:inline; }			/* A single reference */

	/* The entire notes section, including the title.
	 * Contains several hmlNoteGroup divs, one for each note.
	 */
	.hmlNotes {
	}

	/* A note reference and a single note. Contains an .hmlNoteRef and an .htmlNoteBody
	*/
	.hmlNoteGroup {
		margin-top: 6pt;
		display: table-row;
	}

	.hmlNoteRef { 	/* The mark designator in the hmlNotes section */
		font-size: 10pt;
		top: 0pt;
		display: table-cell;
		width: .3in;
	}  
	
	.hmlNoteBody  { /* the note text in the hmlNotes section */
		display: table-cell;
	}

	.hmlNote   { /* The reference mark to a note within the text itself */
	}
	
	.hmlSuperscript, .hmlNote {
		font-size: 7pt;
		position: relative;
		top: -3pt;
	}

	.hmlSubscript {
		font-size: 7pt;
		position: relative;
		top: 3pt;
	}

	.hmlNotePopup {
		width: 4in;
		padding: 1em 1em 1em 1em;
		border: 1px solid #B0AB9A;
		background-color: #FFF8E0;
		box-shadow: 7px 7px 10px #B0AB9A;
	}

	@media print
	{    
		.hmlNote {
			text-decoration: none;
		}
	}
</style>

<!-- This script element causes the endnote to pop up when you hover the mouse {=notePopUp}
	over the reference mark. If you'd rather click on the mark to jump to the
	note at the end of the page, just remove the script
-->
<script>
	function popupNote( leftOffset, topOffset )
	{
		var popup = document.getElementById("hmlNotePopup");

		popup.style.display  = "block";
		popup.style.position = "absolute";
		popup.style.zIndex   = 1000;
		popup.style.top	   	 = topOffset   + "px" ;
		popup.style.left	 = leftOffset  + "px" ;
	}

	window.onload =
		function setUpNotePopups()
		{
			var noteRefs = document.getElementsByClassName("hmlNote");
			for( i = 0; i < noteRefs.length; ++i )
			{
				var currentNote = noteRefs[i]
				var popup  		= document.getElementById("hmlNotePopup");

				noteRefs[i].onmouseover = function( e ) {
					var noteId 		= e.target.id.replace( /.*-/, "hmlNoteBody-");
					var	leftOffset	= e.clientX + document.documentElement.scrollLeft -10;
					var	topOffset	= e.clientY + document.documentElement.scrollTop  -10;

					popup.innerHTML = document.getElementById( noteId ).innerHTML ;
					popupNote( leftOffset, topOffset );
				}

				popup.onmouseout = function() {
					popup.style.display = "none";
				}

			}
		};
</script>

	<title>HML -- Allen Holub</title>
	<style>
		.pending { color: rgb(180,180,180); font-style:italic; }
		.NB      { border: 1px solid red; color: red; margin: 1em 1em 1em 1em; width:5in;
	</style>

	<style> 
	.macrotable .hmlBox { margin: 3pt 0 3pt 0; border-style: solid; border-width:1px; padding: 3pt 3pt 3pt 3pt; }
	</style>

	<style>
	.hmlTocLev0 { margin-top: .5em; margin-bottom: .5em; font-weight: bold; font-size: 12pt; }
	.part		{ margin-top: .5in; margin-bottom: .5in; font-weight: bold; font-size: 20pt; }
	</style>

<style>
.em { font-weight:bold; color: red; }
</style>
</head>
<body>
	<div id="hmlNotePopup" class="hmlNotePopup" style="display:none;"></div>



<span style="font-size:40pt; font-weight:bold;">HML</span>
<br>
<span style="font-size:20pt; font-weight:bold;">The Handy Markup Language</span>
<br>
<br>
<br>
<span style="font-size:14pt; font-style:italic;">Allen Holub</span>

<br>
<br>
<br>
<br>
<br>
<br>
<br>

<div class="NB">
Put notes for me into a <nobr><code>&lt;NB&gt;</code></nobr>&hellip;<nobr><code>&lt;/NB&gt;</code></nobr> element,
and it will show up in red, just like the current box.
</div>

<div style="width:6in;" class="hmlToc">
<div class="hmlTocTitle">Contents</div>
<div class="hmlTocLev0"><a href="#hmlContents0">HML</a></div>
<div class="hmlTocLev0"><a href="#hmlContents1">Part I: Core Features</a></div>
<div class="hmlTocLev1"><a href="#hmlContents2">1.  HML vs. HTML</a></div>
<div class="hmlTocLev1"><a href="#hmlContents3">2.  HML in the cloud (no installation required)</a></div>
<div class="hmlTocLev1"><a href="#hmlContents4">3.  Local installation</a></div>
<div class="hmlTocLev2"><a href="#hmlContents5">3.1.  Running the HML processor locally</a></div>
<div class="hmlTocLev1"><a href="#hmlContents6">4.  Code vs. text</a></div>
<div class="hmlTocLev1"><a href="#hmlContents7">5.  Comments</a></div>
<div class="hmlTocLev1"><a href="#hmlContents8">6.  Paragraphs</a></div>
<div class="hmlTocLev1"><a href="#hyperlink">7.  Hyperlinks</a></div>
<div class="hmlTocLev1"><a href="#boldfaceEtc">8.  Boldface, emphasis, and code-font display</a></div>
<div class="hmlTocLev1"><a href="#snippet">9.  Code snippets (<code>`code`</code>)</a></div>
<div class="hmlTocLev1"><a href="#easy-code">10.  Easy code blocks (<nobr><code>,</code></nobr>&hellip;)</a></div>
<div class="hmlTocLev1"><a href="#mwheadings">11.  Headings (MediaWiki-Style)</a></div>
<div class="hmlTocLev1"><a href="#block">12.  <nobr><code>&lt;block&gt;...&lt;/block&gt;</code></nobr></a></div>
<div class="hmlTocLev1"><a href="#lists">13.  Lists</a></div>
<div class="hmlTocLev1"><a href="#tabbed">14.  Columnar output (simple tables)</a></div>
<div class="hmlTocLev1"><a href="#hmlContents9">15.  End notes (<nobr><code>&lt;note&gt;</code></nobr>, <nobr><code>&lt;endnotes&gt;</code></nobr>)</a></div>
<div class="hmlTocLev2"><a href="#hmlContents10">15.1.  Displaying the end notes</a></div>
<div class="hmlTocLev1"><a href="#hmlContents11">16.  <nobr><code>&lt;toc&gt;Table&nbsp;of&nbsp;Contents&lt;/toc&gt;</code></nobr></a></div>
<div class="hmlTocLev1"><a href="#hmlContents12">17.  Creating an index (<nobr><code>{index</code></nobr> <em>topic</em><nobr><code>}</code></nobr>, <nobr><code>&lt;index&gt;</code></nobr>, <nobr><code>&lt;index-entry&gt;</code></nobr>)</a></div>
<div class="hmlTocLev1"><a href="#import">18.  Pulling in external files: <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;import&gt;</code></nobr></a></div>
<div class="hmlTocLev1"><a href="#hmlContents13">19.  Macro substitution</a></div>
<div class="hmlTocLev2"><a href="#hmlContents14">19.1.  Macro types</a></div>
<div class="hmlTocLev2"><a href="#macros">19.2.  Predefined macros expanded in normal text</a></div>
<div class="hmlTocLev2"><a href="#hmlContents15">19.3.  Macro nesting</a></div>
<div class="hmlTocLev0"><a href="#hmlContents16">Part II: Advanced Features</a></div>
<div class="hmlTocLev1"><a href="#H">20. Headings (HTML-style)</a></div>
<div class="hmlTocLev1"><a href="#titleElements">21. Title elements: <nobr><code>&lt;listing-title&gt;</code></nobr>, <nobr><code>&lt;figure-title&gt;</code></nobr>, and <nobr><code>&lt;table-title&gt;</code></nobr></a></div>
<div class="hmlTocLev2"><a href="#sectionRef">21.1.  Section references</a></div>
<div class="hmlTocLev2"><a href="#rollYourOwn">21.2.  Roll-your-own links</a></div>
<div class="hmlTocLev1"><a href="#userMacro">22.  User-defined macros (<nobr><code>&lt;</code></nobr><nobr><code>macro&gt;...&lt;</code></nobr><nobr><code>/macro&gt;</code></nobr>)</a></div>
<div class="hmlTocLev2"><a href="#codeMacro">22.1.  Macro categories</a></div>
<div class="hmlTocLev2"><a href="#macroFileFormat">22.2.  Defining macros</a></div>
<div class="hmlTocLev3"><a href="#regex">22.2.1.  Regular expressions</a></div>
<div class="hmlTocLev1"><a href="#advanced-code">23.  Advanced code handling: <code>`code`</code>, <nobr><code>&lt;listing&gt;</code></nobr>, and <nobr><code>&lt;pre&gt;</code></nobr></a></div>
<div class="hmlTocLev2"><a href="#hmlContents39">23.1.  Explicit code blocks (<nobr><code>&lt;listing&gt;</code></nobr>, <nobr><code>&lt;pre&gt;</code></nobr>)</a></div>
<div class="hmlTocLev2"><a href="#hmlContents40">23.2.  Substitutions Within listings (<nobr><code>&amp;&nbsp;&lt;&nbsp;&gt;&nbsp;!&lt;...&gt;!&nbsp;!{...}!&nbsp;//!</code></nobr>) )</a></div>
<div class="hmlTocLev2"><a href="#hmlContents41">23.3.  <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> Attributes</a></div>
<div class="hmlTocLev2"><a href="#hmlContents42">23.4.  Automatic <nobr><code>&lt;listing-title&gt;</code></nobr> generation</a></div>
<div class="hmlTocLev2"><a href="#lineReferences">23.5.  Referencing listing lines in your document</a></div>
<div class="hmlTocLev3"><a href="#marks">23.5.1.  Manual tags</a></div>
<div class="hmlTocLev3"><a href="#autoTagging">23.5.2.  Automatic tagging for Java source code</a></div>
<div class="hmlTocLev2"><a href="#hmlContents43">23.6.  <nobr><code>&lt;pre&gt;</code></nobr> and <nobr><code>&lt;listing&gt;</code></nobr> blocks require proper nesting</a></div>
<div class="hmlTocLev1"><a href="#advanced-include">24.  Advanced use of <nobr><code>&lt;include&gt;</code></nobr></a></div>
<div class="hmlTocLev2"><a href="#hmlContents44">24.1.  <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;import&gt;</code></nobr> attributes</a></div>
<div class="hmlTocLev2"><a href="#dropbox">24.2.  Using Dropbox</a></div>
<div class="hmlTocLev1"><a href="#hmlContents45">25.  Differences from <em>MediaWiki</em></a></div>
<div class="hmlTocLev1"><a href="#passthrough">26.  Attribute pass through</a></div>
<div class="hmlTocLev1"><a href="#headElement">27.  Adding styling, titles, etc. using <nobr><code>&lt;head&gt;...&lt;/head&gt;</code></nobr></a></div>
<div class="hmlTocLev1"><a href="#styling">28.  Styling</a></div>
<div class="hmlTocLev2"><a href="#stylingCode">28.1.  Styling Code Blocks</a></div>
<div class="hmlTocLev2"><a href="#stylingTables">28.2.  Styling tables</a></div>
<div class="hmlTocLev2"><a href="#tocStyling">28.3.  Styling the table of contents</a></div>
<div class="hmlTocLev3"><a href="#styling-mixed-headings">28.3.1.  Styling Unnumbered Sections in a Numbered Document</a></div>
<div class="hmlTocLev2"><a href="#endnoteLayoutAndBehavior">28.4.  Modifying endnote appearance and behavior</a></div>
<div class="hmlTocLev2"><a href="#index-layout">28.5.  Styling the index</a></div>
<div class="hmlTocLev2"><a href="#hmlContents46">28.6.  Processing order</a></div>
<div class="hmlTocLev1"><a href="#hmlContents47">29.  HML and <em>vim</em></a></div>
<div class="hmlTocLev1"><a href="#hmlContents48">30.  HML and Log4j</a></div>
<div class="hmlTocLev0"><a href="#hmlContents49">Multiple output files</a></div>
<div class="hmlTocLev0"><a href="#config">Appendix A. Configuration</a></div>
<div class="hmlTocLev2"><a href="#comment-config">Changing the way comments are processed</a></div>
<div class="hmlTocLev2"><a href="#hmlContents50">Configuration Files</a></div>
<div class="hmlTocLev0"><a href="#notes">Notes</a></div>
<div class="hmlTocLev0"><a href="#index">Index</a></div>
</div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<a name="hmlContents0"><h1>HML</h1></a>
HML (the <em>Handy Markup Language</em>) is a tool that
vastly simplifies electronic document production for the web or e-books.
It's useful for most documents, and it also provides facilities particularly useful for writing about software.
You can download the HML processor and run it locally, or use an online version.
<p>
If you know <a target="_blank" href="http://daringfireball.net/projects/markdown/"><em>Markdown</em></a>, HML is like that 
on steroids&mdash;vastly more capable and, unlike <em>Markdown</em>, easily customizable.
<p>
HML converts simple marked-up input into complex HTML output that:
<ul>
<li> Displays in a browser
</li>
<li> Imports into many word processors
</li>
<li> Easily converts into an e-book by dragging into
	<a target="_blank" href="http://manual.calibre-ebook.com/conversion.html">Calibre</a>
</li>
</ul>
In addition to simplifying common things like lists and tables,
HML also provides automatic section, listing, table,
and figure numbering&mdash;with symbolic references to these document elements.
If you add a section, for example, not only do section-numbers in headings update
automatically in the HML output, but so do explicit section number references.
It also produces a Table of Contents and an Index for you, 
and makes it easy to add end notes to your document.
The current document is written using HML, and provides an example of what it can do.
<p>
HML excels at displaying code. It properly formats example code in the text
and makes it easy to write about the code, even when you actively change that code.
HML can pull listings from outside the document, assign line numbers,
and reference declarations, etc., symbolically&mdash;just as with section numbers.
When the code changes, line-number references (in both listing and body text)
re-point automatically to the new location.
When you change code, the document changes dynamically to reflect the new version.
You can modify existing code, add new listings, move listings around,
and all references in the document automatically adjust.
All references to particular listings, tables,
sections, and line numbers in a listing,
are hyperlinks: click on a reference to navigate to the referenced item.
<p>
HML is well tested, and has evolved through heavy use by its original author,
Allen Holub, who wrote all of <a href="http://www.amazon.com/exec/obidos/ASIN/159059388X/alleiholuasso" target="_blank"><em>Holub on Patterns</em></a> and
<a href="http://www.amazon.com/exec/obidos/ASIN/1893115100/alleiholuasso" target="_blank"><em>Taming Java Threads</em></a> using HML,
as well as dozens of online-magazine articles
for venues like <a target="_blank" href="http://www.drdobbs.com">DDJ</a>.
This document is written in HML, which is actually something of a worst case.
The HML processor is written in Java, so it's fully portable across all platforms.
<p>
HML outputs a single <em>.html</em> file, with no external dependencies, so you can save it locally,
e-mail it, or view it offline.

<a name="hmlContents1"><h1 class="part">Part I: Core Features</h1></a>

<a name="hmlContents2"><h1>1.  HML vs. HTML</h1></a>
<p>
HML documents require no HTML.
Nonetheless, HML and HTML coexist nicely in the same document,
and documents of any complexity typically use a little of both. HML enhances, not replaces, HTML.
<p>
Similarly, HML provides all the CSS styling a nice-looking document needs. 
However, it's easy to add custom CSS and change the built-in CSS&mdash;for
all HML documents, or for a single document.

<div class="pending">
<a name="hmlContents3"><h1>2.  HML in the cloud (no installation required)</h1></a>
An online version (<em>HML In The Cloud</em>) converts HML documents to HTML without requiring
that you install anything locally. Go to http://???? and drag an HML file to the "Drop here" box.
The output HTML pops up in a new tab. Save it to your local machine using the
browser's file<strong>&rarr;</strong>save command.
<p>
The only issue with HML in the cloud is pulling in listings, because the cloud
version has no direct access to your local hard drive. The solution is to use Dropbox.
The <a href="#dropbox">Section 24.2</a> explains how to do that.
<p>
Dropbox creates a folder on the local hard drive (called <em>Dropbox</em>).
Dropbox instantly, copies any file you put in that folder or its subfolders to
a private cloud-based mirror of the local Dropbox folder.
HML in the cloud can pull files from the cloud-based Dropbox
mirror instead of the local hard disk.

</div>

<a name="hmlContents4"><h1>3.  Local installation</h1></a><a name="hmlIndex-1-1"></a>
To work offline, download the HML processor and run it locally from the command line.
The HML processor is a Java application, so install Java first.  
Find instructions for a Windows install
<a target="_blank" href="http://www.java.com/en/download/help/windows_manual_download.xml">here</a>.
<p>
Macs come with Java as part of the OSX install.
This version works just fine, but you can download a newer version from Oracle.
(See <a target="_blank" href="http://www.java.com/en/download/help/mac_install.xml">here</a>, and
<a target="_blank" href="http://www.java.com/en/download/faq/java_mac.xml">here</a> for directions).
<p>
Finally, download the HML processor from
<a target="_blank" href="https://holub.com/private/hml.jar">here</a>.
The download is a standalone <em>.jar</em> file you can put anywhere.
There's no need to unpack or otherwise &ldquo;install&rdquo; it.
Similarly, the HML processor doesn't use any magic folders (e.g. "~/Library"
on the mac) or the Windows registry. To remove it from your disk, just
delete <em>hml.jar</em>.


<a name="hmlContents5"><h2>3.1.  Running the HML processor locally</h2></a>
<p>
To execute the HML processor, you actually execute <em>java</em> and tell java to run the processor,
all from a Mac terminal window or a Windows console window. 
<ul>
<li> On Mac OSX, run the <em>Applications<strong>&rarr;</strong>Utilities<strong>&rarr;</strong>Terminal.app</em> program to bring up a console window.
</li>
<li> On Windows, launch the <em>Start<strong>&rarr;</strong>All Programs<strong>&rarr;</strong>Accessories<strong>&rarr;</strong>Command Prompt</em> program.
</li>
</ul><a name="hmlIndex-2-1"></a><a name="hmlIndex-3-1"></a><a name="hmlIndex-4-1"></a>
The simplest scenario is:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&gt; java -jar /my/path/to/hml.jar myInputFile.hml &gt; myOutputFile.html
</pre>
</div>
</div>
You can specify multiple input files.
The processor reads them in the order that you list them
on the command line, and sends the output to standard output.
<p>
You can also redirect input into the processor,
which is occasionally handy if you're running HML as part of a processing chain:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&gt; myCustomProcessor myInput | java -jar /my/path/to/hml.jar &gt; myOutputFile.html
</pre>
</div>
</div>
<a name="hmlContents6"><h1>4.  Code vs. text</h1></a>
<p>
The HML processor breaks the source document into three types of
input and handles each differently:
<ul>
<li>	A <em>code snippet</em> (see <a href="#snippet">Section 9</a>) is a small chunk of back-quote-delimited source code (<code>`like this`</code>)
</li>
that's embedded in your text <nobr><code>like&nbsp;this</code></nobr>. Code snippets display literally&mdash;exactly as they appear in the input (less the quotes).
<li>	A <em>code block</em> is a larger (typically multi-line) block of source code delimited by a <nobr><code>&lt;pre&gt;</code></nobr>
	or <nobr><code>&lt;listing&gt;</code></nobr> element (<a href="#advanced-code">Section 23</a>), or by lines that start with a comma (<a href="#easy-code">Section 10</a>)
</li>
<li>	Everything else is a <em>text block</em>.
</li>
</ul>
Most of what follows describes processing that applies only to text blocks.
Unless the text says otherwise, these features don't work in code snippets or code blocks.

<a name="hmlContents7"><h1>5.  Comments</h1></a>
<p>
HML recognizes three styles of comments.

<table class="hmlTable">
<tr><td valign="top">	<nobr><code>&lt;</code></nobr><nobr><code>!=&nbsp;...&nbsp;=!</code></nobr><nobr><code>&gt;</code></nobr></td><td valign="top"><a name="hmlIndex-5-1"></a><a name="hmlIndex-6-1"></a> 
				  everything between a <nobr><code>&lt;</code></nobr><nobr><code>!=</code></nobr> and a <nobr><code>=!</code></nobr><nobr><code>&gt;</code></nobr> is ignored.
				  This is different from an HTML comment (<nobr><code>&lt;!-&nbsp;...&nbsp;-&gt;</code></nobr>),
				  which just passes through to the output.
				  The HML processor discards 
				  comments before it does any processing, as
				  if it weren't in the file at all. You can use this
				  mechanism to "comment out" parts of the input file
				  to make it easier to find bugs.
				  <p>
				  HML recognizes this sort of comment anywhere it occurs,
				  even in code blocks
				  and snippets, which is why they look so weird.
				  <p>
				  The comment can span several lines.
				  Note that HML doesn't delete an end-of-line character
				  to the right o the close comment, so it treats:
				  <blockquote class="hmlBlock">
<nobr><code>above</code></nobr><br>
				  <nobr><code>&lt;</code></nobr><nobr><code>!=</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;comment</code></nobr><br>
				  <nobr><code>=!</code></nobr><nobr><code>&gt;</code></nobr><br>
				  <nobr><code>below</code></nobr><br>
</blockquote>
				  like:
				  <blockquote class="hmlBlock">
<nobr><code>above</code></nobr><br>
					<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></nobr><br>
					<nobr><code>below</code></nobr><br>
</blockquote>
				  Since blank lines introduce new paragraphs in HML,
				  "below" starts a new paragraph.
				  You can solve that problem with
				  <blockquote class="hmlBlock">
<nobr><code>above&nbsp;&lt;</code></nobr><nobr><code>!=</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;comment</code></nobr><br>
				  <nobr><code>=!</code></nobr><nobr><code>&gt;</code></nobr><br>
				  <nobr><code>below</code></nobr><br>
</blockquote>
				  which HML treats as
				  <blockquote class="hmlBlock">
<nobr><code>above</code></nobr><br>
					<nobr><code>below</code></nobr><br>
</blockquote>
				  Escape the first character (e.g.,<nobr><code>\&lt;!=</code></nobr> to suppress its
				  normal meaning.
				  For example, <nobr><code>\&lt;!=...\=!&gt;</code></nobr> is not treated as a comment.
				  <p>
				  Unlike C and Java&mdash;and HTML for that matter&mdash;comments
				  <em>can</em> nest, so you can do the following without difficulty:
				  <blockquote class="hmlBlock">
<nobr><code>&lt;</code></nobr><nobr><code>!==</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;text&nbsp;goes&nbsp;away</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&lt;</code></nobr><nobr><code>!==</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;does&nbsp;this&nbsp;text</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;==!</code></nobr><nobr><code>&gt;</code></nobr><br>
				  <nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;this</code></nobr><br>
				  <nobr><code>==!</code></nobr><nobr><code>&gt;</code></nobr><br>
</blockquote>
				  Standard HTML would have closed the comment with the first end-comment designator,
				  so the text <nobr><code>and&nbsp;this</code></nobr> would not be part of the comment.
				  <p>
				  Bear in mind that HTML comments (<nobr><code>&lt;!--</code></nobr>&hellip;<nobr><code>--&gt;</code></nobr>) works just fine, but you can't
				  use that sort of comment to "comment out" HML directives.
				  <p>
				  Finally, HML treats the
				  <nobr><code>&lt;</code></nobr><nobr><code>!==</code></nobr>&hellip;<nobr><code>==!</code></nobr><nobr><code>&gt;</code></nobr>
				  form of comment as a basic component of the document,
				  on the same level as a code block, so
				  you can use that form to comment out anything, including a code block. The
				  following works fine:
				  <blockquote class="hmlBlock">
<nobr><code>&lt;</code></nobr><nobr><code>!==</code></nobr><br>
				  <nobr><code>&lt;listing&gt;</code></nobr><br>
				  &hellip;<br>
				  <nobr><code>&lt;/listing&gt;</code></nobr><br>
				  <nobr><code>==!</code></nobr><nobr><code>&gt;</code></nobr><br>
</blockquote>
</td></tr>
<tr><td valign="top">	<nobr><code>//&nbsp;text</code></nobr></td><td valign="top"><a name="hmlIndex-5-2"></a><a name="hmlIndex-8-1"></a>The <nobr><code>//</code></nobr> and all text that follows it on the line is discarded.
				  HML recognizes this comment only in text blocks, not in code.
				  If nothing is on the input line other than the
				  comment, HML removes the entire line from the input rather
				  than leave a blank line.
				  To have the sequence <nobr><code>//</code></nobr> appear in output text,
				  prefix the <nobr><code>//</code></nobr> with a backslash (<nobr><code>\//&nbsp;hello</code></nobr> appears
				  in the output as <em>// hello</em>).
				  Alternately, prefix the <nobr><code>//</code></nobr> with a colon
				  (<nobr><code>://</code></nobr> or more importantly, <nobr><code>http://path</code></nobr>)
				  display as <em>://</em> and <em>http://path</em>.
</td></tr>
<tr><td valign="top">	<nobr><code>[*&nbsp;...&nbsp;*]</code></nobr></td><td valign="top"><a name="hmlIndex-5-3"></a><a name="hmlIndex-10-1"></a><a name="hmlIndex-11-1"></a>
				  appears in the output as an ellipsis (&hellip;).
				  HML recognizes this sort of comment only in text blocks, not in code.
				  This mechanism provides a convenient way to elide a quote and leave the original
				  text in place in case you decide to put it back later.
				  This sort of comment, unlike the <nobr><code>&lt;</code></nobr><nobr><code>!==</code></nobr>&hellip;<nobr><code>==!</code></nobr><nobr><code>&gt;</code></nobr>
				  form, works only within a text block.
				  You can't use it to comment out a code block or a code snippet&mdash;only normal
				  text.
</td></tr>
</table>

<a name="hmlContents8"><h1>6.  Paragraphs</h1></a><a name="hmlIndex-12-1"></a>
Start a paragraph in HML by preceding it with a blank line.
The first character of the paragraph must be an alphanumeric character, a brace (<nobr><code>{</code></nobr>), bracket (<nobr><code>[</code></nobr>), or open parentheses.
Put an HTML <nobr><code>&lt;p&gt;</code></nobr> element in front of the paragraph if it starts with something else.

<a name="hyperlink"><h1>7.  Hyperlinks</h1></a><a name="hmlIndex-13-1"></a><a name="hmlIndex-14-1"></a><a name="hmlIndex-15-1"></a>
HML provides several ways to indicate HTML hyperlinks (<a href="#links">Table 8.1</a>).
The easiest mechanism is the MediaWiki-style square-bracket approach:
<blockquote class="hmlBlock">
<nobr><code>[http://www.holub.com&nbsp;my&nbsp;web&nbsp;site]</code></nobr><br>
</blockquote>
which displays as <a target="_blank" href="http://www.holub.com">my web site</a>.
The URL comes first, followed by the link's visible text. 
If you don't specify visible text, HML displays the URL.

<br><a name="hmlIndex-16-1"></a><a name="hmlIndex-17-1"></a><a name="hmlIndex-18-1"></a>
<p>
<div class="hmlTableTitle"><a name="links"><span class="hmlTitle">Table 8.1.</span> Hyperlinks</a></div>
<table border="1" cellspacing="0" cellpadding="4">
<tr> <th>Input</th> <th style="width:1in;">Displays as</th> <th>Comment</th> </tr>
<tr><td valign="top">	
	<nobr><code>{link&nbsp;http://www.holub.com}</code></nobr><br>
	<nobr><code>{link&nbsp;www.holub.com}</code></nobr><br>
	<nobr><code>[www.holub.com]</code></nobr><br>
	<nobr><code>[http://www.holub.com]</code></nobr><br>
	<nobr><code>&lt;http://www.holub.com&gt;</code></nobr>
	<br>
	<br>
<hr class="hmlRule">
	<nobr><code>{link&nbsp;www.holub.com&nbsp;</code></nobr><em>some&nbsp;text</em><nobr><code>}</code></nobr><br>
	<nobr><code>[www.holub.com&nbsp;</code></nobr><em>other&nbsp;text</em><nobr><code>]</code></nobr><br>
</td><td valign="top"> 
	<a target="_blank" href="http://www.holub.com">http://www.holub.com</a><br>
	<a target="_blank" href="http://www.holub.com">www.holub.com</a><br>
	<a target="_blank" href="http://www.holub.com">www.holub.com</a><br>
	<a target="_blank" href="http://www.holub.com">http://www.holub.com</a><br>
	<a target="_blank" href="http://www.holub.com">www.holub.com</a>
<br>
<br>
<hr class="hmlRule">
	<a target="_blank" href="http://www.holub.com">some text</a><br>
	<a target="_blank" href="http://www.holub.com">other text</a><br>

	</td><td valign="top"> A hyperlink. If you don't specify visible text, the processor uses the URL.
		In the multiple-argument form, the <em>text</em> to the right of the href is the visible text of the link.
		An <nobr><code>http://</code></nobr> is usually added to the href if it's not already there, but
		the <nobr><code>http://</code></nobr> isn't added when the reference has a '#' or a './' prefix.
		<p>
		The <nobr><code>&lt;...&gt;</code></nobr> form always evaluates to the URL as the visible text;
		it doesn't take a second, visible-text argument, and the URL must start with <nobr><code>http://</code></nobr> or <nobr><code>https://</code></nobr>.
		<p>
		A <nobr><code>target=&quot;_blank&quot;</code></nobr> attribute (which causes the linked page to display in a new tab) is used unless the
		URL references an internal anchor (i.e., the URL starts with a <nobr><code>#</code></nobr> instead of a protocol).
</td></tr>

<tr><td valign="top">	<nobr><code>{anchor&nbsp;foo}</code></nobr>
</td><td valign="top">	<a name="foo"></a>
</td><td valign="top"> Creates an "empty" (invisible) anchor that indicates a target for a link. The example at left evaluates to <nobr><code>&lt;a&nbsp;name=&quot;foo&quot;&gt;&lt;/a&gt;</code></nobr>.
	You can provide a link to that location by putting a <nobr><code>[#foo]</code></nobr> or <nobr><code>[#foo&nbsp;visible&nbsp;text]</code></nobr> elsewhere in your document, and the browser
	jumps to the anchor when someone clicks on the link. Note that the <nobr><code>#</code></nobr> is required in the reference. 
	The following hotlink is specified using 
	<nobr><code>[#foo&nbsp;go&nbsp;to&nbsp;foo]</code></nobr>
	<a href="#foo">go to foo</a>.
</td></tr>
</table>

<a name="boldfaceEtc"><h1>8.  Boldface, emphasis, and code-font display</h1></a><a name="hmlIndex-19-1"></a><a name="hmlIndex-20-1"></a><a name="hmlIndex-21-1"></a><a name="hmlIndex-22-1"></a><a name="hmlIndex-23-1"></a>
HML provides several ways to add boldface and other emphasis to documents
(<a href="#emphasis">Table 8.2</a>).
You can put text into italics with both <nobr><code>{i&nbsp;text}</code></nobr> and <nobr><code>_text_</code></nobr>.
The underscore form has a few limitations (discussed in the table),
so use the brace form if you need to work around those limitations.
<p>
Note that the HML processor treats backquote-delimited code snippets
(<a href="#snippet">Section 9</a>)
differently than
the other emphasis mechanisms.
Unlike <nobr><code>{c&nbsp;xxx}</code></nobr>, HML protects all
characters in a code snippet from subsequent processing: 
<nobr><code>&amp;</code></nobr>, <nobr><code>&lt;</code></nobr>, <nobr><code>&gt;</code></nobr>, and quote marks
<u>are</u> mapped to <nobr><code>&amp;amp;</code></nobr>, <nobr><code>&amp;lt;</code></nobr>, <nobr><code>&amp;gt;</code></nobr>, <nobr><code>&amp;quot;</code></nobr>, and <nobr><code>&amp;apos;</code></nobr> entities in a snippet, but not
in a <nobr><code>{c&nbsp;xxx}</code></nobr>.
Spaces in a snippet, but not a <nobr><code>{c&nbsp;xxx}</code></nobr> are replaced by <nobr><code>&amp;nbsp;</code></nobr> entities.
Consequently, you can use a code snippet to document HTML.
Finally, code snippets are bracketed by <nobr><code>&lt;nobr&gt;</code></nobr>&hellip;<nobr><code>&lt;/nobr&gt;</code></nobr>
to keep the code together on one line.
<p>
You can put a literal back-tick in code by "escaping" it with a backslash:
<code>\`not code\`</code> prints as `not code`.
Put a backtick in a code block by escaping it the same way.
<p>
HML has no backquote equivalents to <nobr><code>{cb&nbsp;x}</code></nobr> and <nobr><code>{ci&nbsp;x}</code></nobr>,
but you <em>can</em> put a code snippet as the text in any of the forms that
<a href="#emphasis">Table 8.2</a> shows.
For example,
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
{b `code`}
</pre>
</div>
</div>prints as <strong><nobr><code>code</code></nobr></strong> (boldfaced code font).
<br><a name="hmlIndex-24-1"></a><a name="hmlIndex-25-1"></a><a name="hmlIndex-26-1"></a><a name="hmlIndex-27-1"></a><a name="hmlIndex-28-1"></a><a name="hmlIndex-29-1"></a><a name="hmlIndex-30-1"></a><a name="hmlIndex-31-1"></a><a name="hmlIndex-32-1"></a><a name="hmlIndex-33-1"></a><a name="hmlIndex-34-1"></a>
<p>
<div class="hmlTableTitle"><a name="emphasis"><span class="hmlTitle">Table 8.2.</span> Adding emphasis</a></div>
<table border="1" cellspacing="0" cellpadding="4">
<tr> <th>Input</th> <th style="width:1in;">Displays as</th> <th>Comment</th> </tr>
<tr><td valign="top">		<nobr><code>{b&nbsp;bold}</code></nobr>  <nobr><code>*text*</code></nobr>		</td><td valign="top"> <strong>bold</strong> <strong>text</strong>   
						</td><td valign="top"> Asterisks indicate boldface text
			(e.g.,<nobr><code>*this&nbsp;is&nbsp;boldface*</code></nobr> ) or in <em>macro</em> form
			(e.g.,<nobr><code>{b&nbsp;this&nbsp;is&nbsp;boldface}</code></nobr>). The first asterisk must either follow
			a space or punctuation, or be the first character on a line.
			The terminating asterisk must either precede a space or punctuation,
			or be the last character on a line. If these rules are too restrictive
			(e.g., you want boldface in the middle of a word), use the macro form
			(<nobr><code>xxx{b&nbsp;bold}xxx</code></nobr>).
													<p>
			Text in the * form of the macro must be entirely on one line.
			The brace version can span several lines.
			A <nobr><code>\*</code></nobr> (a * prefixed with a backslash) always evaluates to a <nobr><code>*</code></nobr>, regardless of context,
			so <nobr><code>\*hello\*</code></nobr> prints as *hello*.
</td></tr>
<tr><td valign="top">		<nobr><code>{i&nbsp;italic}</code></nobr> <nobr><code>_text_</code></nobr>	</td><td valign="top">		<em>italic</em> <em>text</em> </td><td valign="top">
													Same rules as <nobr><code>*bold*</code></nobr>, but italic, A <nobr><code>\_</code></nobr> protects the <nobr><code>_</code></nobr>.
			The HML processor applies a complex set of rules that distinguish this
			underscore from the one in subscripts, and gets it right most of the time. 
			Note that a double underscore means "subscript."
													</td></tr>
<tr><td valign="top">		<nobr><code>{bi&nbsp;bold&nbsp;italic&nbsp;}</code></nobr>  </td><td valign="top">	<strong><em>bold italic</em></strong> </td><td valign="top"> &nbsp; </td></tr>

<tr><td valign="top">		<nobr><code>{u&nbsp;underline&nbsp;text}</code></nobr> </td><td valign="top">	<u>underline text</u></td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>{s&nbsp;strikeout&nbsp;text}</code></nobr> </td><td valign="top">	<span style="text-decoration:line-through;">strikeout text</span></td><td valign="top"> Uses styles, not &lt;strike&gt; tag. </td></tr>

<tr><td valign="top">		<nobr><code>{x&nbsp;style&nbsp;text}</code></nobr>	 </td><td valign="top"> 	(depends on the style) </td><td valign="top">	Puts the text into a <nobr><code>&lt;span&nbsp;class=&quot;style&quot;&gt;</code></nobr> element. You
									must define a <nobr><code>span.style</code></nobr> style somewhere in your
									document. The style name may contain only alphanumeric characters and dashes.
</td></tr>
<tr><td valign="top">		<nobr><code>{c&nbsp;&lt;b&gt;code&lt;/b&gt;&nbsp;&amp;amp;&nbsp;text}</code></nobr>    </td><td valign="top">	<code><b>code</b> &amp; text</code> 
						</td><td valign="top"> Just wraps the contents in a <nobr><code>&lt;code&gt;</code></nobr> element. Doesn't modify the content.
</td></tr>
<tr><td valign="top">		<nobr><code>{ci&nbsp;italic&nbsp;code}</code></nobr>  </td><td valign="top">		<code><em>italic code</em></code> </td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>{cb&nbsp;bold&nbsp;code}</code></nobr>  	</td><td valign="top">		<code><strong>bold code</strong></code> </td><td valign="top"> &nbsp; </td></tr>
</table>
<p>
The brace forms in <a href="#emphasis">Table 8.2</a> do not nest---{i <nobr><code>{b&nbsp;text}}</code></nobr> doesn't work.
Also, the two forms of italic and boldface macros can coexist in a limited way.
The following work:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
_*bold italic*_
*_bold italic_*
_italic *bold* more italic_
*bold _italic_ more bold*
{b bold _italic_}
{i italic *bold*}
</pre>
</div>
</div>
and display like this:
<blockquote class="hmlBlock">
<em><strong>bold italic</strong></em><br>
<strong><em>bold italic</em></strong><br>
<em>italic <strong>bold</strong> more italic</em><br>
<strong>bold <em>italic</em> more bold</strong><br>
<strong>bold <em>italic</em></strong><br>
<em>italic <strong>bold</strong></em><br>
</blockquote><a name="hmlIndex-35-1"></a><a name="hmlIndex-36-1"></a>
<a name="snippet"><h1>9.  Code snippets (<code>`code`</code>)</h1></a>
<p>
A code snippet is a bit of in-line code that appears in the middle of your text <nobr><code>like&nbsp;this</code></nobr>.
Code snippets are input using backquotes.
For example <nobr><code>`if(a&lt;b)`</code></nobr> appears in the output as <nobr><code>if(a&lt;b)</code></nobr>
<p>
The HML processor puts the entire snippet on a single line (by replacing space characters with <nobr><code>&amp;nbsp;</code></nobr> and bracking
the snippet with <nobr><code>&lt;nobr&gt;...&lt;/nobr&gt;</code></nobr>.
<p>
All punctuation in the code snippet (everthing except an alphanumeric character space or tab)
is mapped to an HTML entity. For example:

<table class="hmlTable">
<tr><td valign="top"> input</td><td valign="top"> maps to
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top">	<nobr><code>&lt;</code></nobr></td><td valign="top">	<nobr><code>&amp;lt;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&gt;</code></nobr></td><td valign="top">	<nobr><code>&amp;gt;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&amp;</code></nobr></td><td valign="top">	<nobr><code>&amp;amp;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>{</code></nobr></td><td valign="top">	<nobr><code>&amp;#123;</code></nobr>
</td></tr>
<tr><td valign="top">	etc.	
</td></tr>
</table>
<p>
This is a much more severe mapping than you'll
find in <em>Markdown</em>, which maps only &lt;, &gt;, ', ", and &amp;.
The more comprehensive mapping is necessary because HML's powerful
macro feature can use pretty much any character as a macro key (the text that's replaced by the macro processor).
Code snippets are processed before
macros are expanded, so this mapping-all-punctuation-to-entities rule
effectively prevents macros from being expanded in code snippets.
You'll find that all the predefined
macros include some sort of punctuation in their key.
Follow the same convention if you define your own macros.
<p>
All tab characters in code snippets are expanded as four-space tabs, but the processor treats
the opening backquote as the first character on the virtual "line".
This behavior is relevant only if you're using code snippets to put leading whitespace on a line, and might
use both tabs and spaces at the start of the line. For example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre style="border-left:1px solid black;padding-left:3pt;" class="hmlPre">
&lt;block&gt;
`   &lt;- line starts with tab`
`   &lt;- line starts with three (!) spaces, but lines up with the tabbed line, above.`
&lt;/block&gt;
</pre>
</div>
</div>
prints as
<blockquote style="border-left:1px solid black;padding-left:3pt;" class="hmlBlock">
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;-&nbsp;line&nbsp;starts&nbsp;with&nbsp;tab</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;-&nbsp;line&nbsp;starts&nbsp;with&nbsp;three&nbsp;(!)&nbsp;spaces,&nbsp;but&nbsp;lines&nbsp;up&nbsp;with&nbsp;the&nbsp;tabbed&nbsp;line,&nbsp;above.</code></nobr><br>
</blockquote><a name="hmlIndex-37-1"></a><a name="hmlIndex-38-1"></a>
<a name="easy-code"><h1>10.  Easy code blocks (<nobr><code>,</code></nobr>&hellip;)</h1></a>
<p>
The easiest way to put a short full-line code sample in your text is to prefix the code lines with a comma. For example:
<blockquote class="hmlBlock">
<nobr><code>,&nbsp;&nbsp;someCode();</code></nobr><br>
<nobr><code>,&nbsp;&nbsp;someMoreCode().</code></nobr><br>
</blockquote>
is treated identically to
<blockquote class="hmlBlock">
<nobr><code>&lt;pre&gt;</code></nobr><br>
<nobr><code>someCode();</code></nobr><br>
<nobr><code>someMoreCode();</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
</blockquote>
and displays as
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
someCode();
someMoreCode();
</pre>
</div>
</div>
(See <a href="#advanced-code">Section 23</a> for more on <nobr><code>&lt;pre&gt;</code></nobr>-block processing.)
The processor coalesces adjacent lines into a single block.<a name="hmlIndex-39-1"></a>
If the comma is followed by a tab character, then the tab character is removed along with the comma.
This rule applies only to the first tab character following the comma.
This input
<blockquote class="hmlBlock">
<nobr><code>,&nbsp;&nbsp;&lt;--&nbsp;1&nbsp;tab</code></nobr>	<br>
<nobr><code>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--&nbsp;2&nbsp;tabs</code></nobr><br>
<nobr><code>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;--&nbsp;3&nbsp;tabs</code></nobr><br>
</blockquote>
displays as
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;-- 1 tab
    &lt;-- 2 tabs
        &lt;-- 3 tabs
</pre>
</div>
</div>
Finally, any space to the left of the comma is discarded, which is occasionally useful when you
want to indent your input. For example, this input:
<blockquote class="hmlBlock">
<nobr><code>&lt;blockquote&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;Some&nbsp;text</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;pre&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code();</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;/pre&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;</code></nobr><br>
</blockquote>
displays like this:
<blockquote>
	Some text
	<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
        code();
    
</pre>
</div>
</div>
</blockquote>
The <nobr><code>code()</code></nobr> is indented too much because standard HTML displays all the leading spaces on the indented input line.
The following input, with an indented comma, solves the problem:
<blockquote class="hmlBlock">
<nobr><code>&lt;blockquote&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;Some&nbsp;text</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;code();</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;More&nbsp;text</code></nobr><br>
<nobr><code>&lt;/blockquote&gt;</code></nobr><br>
</blockquote>
It displays as
<blockquote>
	Some text
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
code();
</pre>
</div>
</div>	More text.
</blockquote>
without the extra space to the left of <nobr><code>code()</code></nobr>.
<p>
HML provides more sophisticated in code-handling mechanisms (see <a href="#advanced-code">Section 23</a>).
In fact, the easy-code-block mechanism we just looked at is just an alias for the more elaborate <nobr><code>&lt;pre&gt;</code></nobr>
block described in <a href="#advanced-code">Section 23</a>.

<a name="mwheadings"><h1>11.  Headings (MediaWiki-Style)</h1></a>
<p>
The easiest ways to put headings into your document is to use equal signs:<a name="hmlIndex-40-1"></a><a name="hmlIndex-41-1"></a>
<table class="hmlTable">
<tr><td valign="top">= <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h0&gt;</code></nobr><em>text</em><nobr><code>&lt;/h0&gt;</code></nobr></td><td valign="top"> Works just like an HTML <nobr><code>&lt;h1&gt;</code></nobr>. (No section numbering)
</td></tr>
<tr><td valign="top">=/ <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h1&gt;</code></nobr><em>text</em><nobr><code>&lt;/h1&gt;</code></nobr></td><td valign="top"> <div style="width: 3in;">Headings at this level and all inner levels have section numbers
							added automatically (see <a href="#H">Section 20</a>)).
							Headings in the current document were created using <nobr><code>=/</code></nobr> at the topmost level.
							</div>
</td></tr>
<tr><td valign="top">== <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h2&gt;</code></nobr><em>text</em><nobr><code>&lt;/h2&gt;</code></nobr></td><td valign="top"> (==/ works too, but / is unnecessary).
</td></tr>
<tr><td valign="top">=== <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h3&gt;</code></nobr><em>text</em><nobr><code>&lt;/h3&gt;</code></nobr></td><td valign="top"> (===/ works too, but / is unnecessary).
</td></tr>
<tr><td valign="top">==== <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h4&gt;</code></nobr><em>text</em><nobr><code>&lt;/h4&gt;</code></nobr></td><td valign="top"> (====/ works too, but / is unnecessary).
</td></tr>
<tr><td valign="top">===== <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h5&gt;</code></nobr><em>text</em><nobr><code>&lt;/h5&gt;</code></nobr></td><td valign="top"> (=====/ works too, but / is unnecessary).
</td></tr>
<tr><td valign="top">====== <em>text</em></td><td valign="top"> maps to</td><td valign="top"><nobr><code>&lt;h6&gt;</code></nobr><em>text</em><nobr><code>&lt;/h6&gt;</code></nobr></td><td valign="top"> (======/ works too, but / is unnecessary).
</td></tr>
</table>
<p>
The default (no slash) makes HTML-style titles, exactly like MediaWiki.
<p>
The slash form enables section numbering&mdash;for not only that level,
but also for all nested levels. All the outermost headings in the current document were specified with the
slash form. The HML processor automatically assigns the numbers.
<p>
HML handles heading numbering and renumbering.
If you change the heading structure&mdash;add or remove one, for example,
or move the section&mdash;the <nobr><code>{section&nbsp;mwheadings}</code></nobr> reference doesn't have to change.
HML automatically displays the correct section number.
I discuss symbolic section references like <nobr><code>{section&nbsp;mwheadings}</code></nobr>
further in <a href="#sectionRef">Section 21.1</a>.
<p>
You can use a slash for inner heading levels (e.g.,<nobr><code>==/&nbsp;title</code></nobr>), but it's optional.
<p>
Close the heading if you like
(e.g.,<nobr><code>==&nbsp;heading&nbsp;==</code></nobr>), but the trailing equal signs are not required.
The leading = must be the first character on the line.<a name="hmlIndex-41-2"></a>
If the heading uses trailing equal signs, you can specify a label like this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
== My heading == label
</pre>
</div>
</div>Text later in the document can refer to the heading symbolically by label.
For example, the current section was introduced with the following markup:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
=/ Headings (MediaWiki-Style) == mwheadings
</pre>
</div>
</div>The <nobr><code>mwheadings</code></nobr> doesn't appear in the output, but the HML processor remembers it.
You can refer to that label anywhere in your document with <nobr><code>{section&nbsp;mwheadings}</code></nobr>,
which displays as <a href="#mwheadings">Section 11</a>.
The symbolic reference can even precede the labeled section in the input file.
You can also use <nobr><code>{section-number&nbsp;</code></nobr><em>tag</em><nobr><code>}</code></nobr> to get a link that shows the section number only.
For example <nobr><code>{section-number&nbsp;mwheadings}</code></nobr> displays as
<a href="#mwheadings">11</a>.<a name="hmlIndex-41-3"></a><a name="hmlIndex-44-1"></a>
To create a section link that displays arbitrary text (or if you're not using section numbering at all&mdash;no slash), use
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
[#mwheadings MediaWiki-style headings section].
</pre>
</div>
</div>which displays like this:
<blockquote class="hmlBlock">
in the <a href="#mwheadings">MediaWiki-style headings section</a>.<br>
</blockquote>
The leading <nobr><code>#</code></nobr> is required in this sort of link.
<p>
As was the case with the "easy" code blocks, the heading mechanism discussed in the current section is
a simplification of a more-elaborate system (described in <a href="#H">Section 20</a>) that handles the majority of
situations.
In fact, the heading mechanism described in the current section is implemented by a set of pre-defined macros
(see <a href="#macros">Section 19.2</a>) that map to their more complicated variants.

<a name="block"><h1>12.  <nobr><code>&lt;block&gt;...&lt;/block&gt;</code></nobr></h1></a><a name="hmlIndex-45-1"></a>
Works like <nobr><code>&lt;blockquote&gt;</code></nobr>
(in fact, is mapped into a <nobr><code>&lt;blockquote&nbsp;class=&quot;hmlBlock&quot;&gt;</code></nobr>), but adds a <nobr><code>&lt;br&gt;</code></nobr> to the
end of every line within the block.
<p>
All attributes in a <nobr><code>&lt;block&gt;</code></nobr> element (including <nobr><code>class=</code></nobr> and <nobr><code>style=</code></nobr>) pass
through to the generated <nobr><code>&lt;blockquote&gt;</code></nobr> tag.
(Your <nobr><code>class=</code></nobr> preempts the default.)
<p>
Block elements do not nest, so don't be tempted to do the following&mdash;it just won't work.
<blockquote class="hmlBlock">
<nobr><code>&lt;block&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;//...</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;block&gt;</code></nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong><strong>&larr;</strong> Error! Nesting not permitted.</strong><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//...</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;/block&gt;</code></nobr><br>
<nobr><code>&lt;/block&gt;</code></nobr><br>
</blockquote>
<p>
Use HTML <nobr><code>&lt;blockquote&gt;</code></nobr> elements (and add the <nobr><code>&lt;br&gt;</code></nobr> elements manually) instead.

<a name="lists"><h1>13.  Lists</h1></a><a name="hmlIndex-46-1"></a><a name="hmlIndex-46-2"></a><a name="hmlIndex-48-1"></a><a name="hmlIndex-49-1"></a><a name="hmlIndex-50-1"></a>
You may use standard <nobr><code>&lt;ol&gt;</code></nobr> and <nobr><code>&lt;ul&gt;</code></nobr> elements if you like, but for simple lists, a simpler mechanism is supported, as
demonstrated with the following example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
    Text above bullets
    * first
      item
    * second item
    * third
      item
      is three lines long

    Text below bullets

    Text above numbers
    0. first
    0. second
       line
    0. third

    Text below numbers

    Text above numbers
    <span class="hmlComment"># first</span>
    <span class="hmlComment"># second</span>
       line
    <span class="hmlComment"># third</span>

    Text below numbers
</pre>
</div>
</div>
which prints like this:

<blockquote>
Text above bullets
<ul>
<li> first
  item
</li>
<li> second item
</li>
<li> third
  item
  is three lines long
</li>
</ul>
Text below bullets
<p>
Text above numbers
<ol>
<li> first
</li>
<li> second
	line
</li>
<li> third
</li>
</ol>
Text below numbers
<p>
Text above numbers
<ol>
<li> first
</li>
<li> second
   line
</li>
<li> third
</li>
</ol>
Text below numbers
</blockquote>
<p>
An asterisk introduces an item in a bullet list.
The asterisk must be the first character on the line (no space or tab characters to the left).
Within a list, indented lines are effectively merged with the previous line.
That is, any indented lines that follow one that starts with a <nobr><code>*</code></nobr>,  <nobr><code>#</code></nobr>,
or number are concatenated to the current list item.
<p>
A blank line terminates the whole list,
so blank lines can't separate list items. However, HML removes comment
lines entirely before it processes 
lists, so you can visually  separate list items like this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
* first
    <span class="hmlComment">//</span>
* second
    <span class="hmlComment">//</span>
* third
</pre>
</div>
</div>which displays as:

<ul>
<li> first
</li>
<li> second
</li>
<li> third
</li>
</ul>
Items in a numbered list are designated by a line starting with a
period-terminated number (the <em>Markdown</em> convention) or a hash mark (the
<em>MediaWiki</em> convention).
Any number will do.
The numbers you use to indicate "this is a numeric list item" are replaced by numbers in a proper sequence.
The earlier example could have been written as follows and would have printed exactly the same output
(output items are numbered 1, 2, and 3):

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
9. first
1. second line
7. third
</pre>
</div>
</div><a name="hmlIndex-46-3"></a>
{: (definition list term)}
{; (definition list definition)}
The final sort of list is a definition list. Introduce the term you're defining
with a semicolon and the definition with a colon. This input:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
; term 1
: definition of term 1.
; term 2
: definition of term 2,
  and more.
: another definition of term 2.
</pre>
</div>
</div>
displays as:
<dl>
<dt> term 1
</dt>
<dd> definition of
	term 1.
</dd>
<dt> term 2
</dt>
<dd> definition of term 2.
  and more.
</dd>
<dd> another definition of term 2.
</dd>
</dl>
As in the case of other lists, indented lines effectively merge with the previous line.
Use comments to put blank lines between list items, as described earlier.

<em>MediaWiki</em> users note that you can't mix list types, and
you can't put a list within a list.
Use the <nobr><code>&lt;ol&gt;</code></nobr> and <nobr><code>&lt;ul&gt;</code></nobr> elements to do that.
The following won't work:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment"># numbered-list element</span>
#* bullet list in numbered list
</pre>
</div>
</div><a name="hmlIndex-46-4"></a>
{<nobr><code>&lt;pre&gt;</code></nobr>, in list}
{code block, in list}
Finally, a code block (<nobr><code>&lt;pre&gt;</code></nobr>, <nobr><code>&lt;listing&gt;</code></nobr>, or <nobr><code>,</code></nobr>&hellip;) in a list can give you grief because HML breaks the input into
a text block (containing the first part of the list) followed by a code block,
followed by another text block (containing the second part of the list). For example:

<blockquote class="hmlBlock">
<nobr><code>#&nbsp;item&nbsp;1</code></nobr><br>
<nobr><code>&lt;pre&gt;</code></nobr><br>
<nobr><code>some&nbsp;code.</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
<nobr><code>#&nbsp;item&nbsp;2</code></nobr><br>
</blockquote>
ends up displaying like this:

<li> item 1
</li>
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
some code.
</pre>
</div>
</div>
<ol>
<li> item 2
</li>
</ol>
which is probably not what you wanted.
Solve the problem by using code snippets (<a href="#snippet">Section 9</a>)
in a <nobr><code>&lt;blockquote&gt;</code></nobr> or <nobr><code>&lt;block&gt;</code></nobr> (<a href="#block">Section 12</a>).

<blockquote class="hmlBlock">
<nobr><code>#&nbsp;item&nbsp;1</code></nobr><br>
	<nobr><code>&lt;block&gt;</code></nobr><br>
	<nobr><code>`some&nbsp;code.`&nbsp;</code></nobr><br>
	<nobr><code>&lt;/block&gt;</code></nobr><br>
	<nobr><code>#&nbsp;item&nbsp;2</code></nobr><br>
</blockquote>
<p>
which displays like this:

<ol>
<li> item 1
</li>
<blockquote class="hmlBlock">
<nobr><code>some&nbsp;code.</code></nobr><br>
</blockquote>
<li> item 2
</li>
</ol>
<a name="tabbed"><h1>14.  Columnar output (simple tables)</h1></a><a name="hmlIndex-53-1"></a><a name="hmlIndex-54-1"></a><a name="hmlIndex-55-1"></a><a name="hmlIndex-56-1"></a><a name="hmlIndex-57-1"></a><a name="hmlIndex-54-2"></a>
HML provides a mechanism, along the lines of the list mechanisms to format columnar data in tabular form.
HML uses a <nobr><code>|</code></nobr> character for this purpose, so you must use <nobr><code>\|</code></nobr> if you want to put a literal <nobr><code>|</code></nobr> elsewhere in a text block.
(Use the <nobr><code>[</code></nobr><nobr><code>(]&nbsp;...&nbsp;[</code></nobr><nobr><code>|]&nbsp;...&nbsp;[</code></nobr><nobr><code>)]</code></nobr> macros discussed at the end of <a href="#macroTable">Table 20.1</a> if you want to do fancy tables)
<p>
Create a simple table like this:

<blockquote class="hmlBlock">
<nobr><code>|&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;C</code></nobr><br>
<nobr><code>|-&nbsp;3</code></nobr><br>
<nobr><code>|&nbsp;&nbsp;first&nbsp;&nbsp;&nbsp;|&nbsp;second&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;third</code></nobr><br>
<nobr><code>|&nbsp;&nbsp;doo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;wha&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;ditty</code></nobr><br>
<nobr><code>|&nbsp;&nbsp;hickory</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;|&nbsp;dickory</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;|&nbsp;dock</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;more&nbsp;dock.</code></nobr><br>
</blockquote>
<p>
Which displays as follows

<table class="hmlTable">
<tr><td valign="top">	A</td><td valign="top"> B</td><td valign="top"> C
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top">	first</td><td valign="top"> second</td><td valign="top"> third
</td></tr>
<tr><td valign="top">	doo</td><td valign="top"> wha</td><td valign="top"> ditty
</td></tr>
<tr><td valign="top">	hickory</td><td valign="top"> dickory</td><td valign="top"> dock
	  and more dock.
</td></tr>
</table>
<p>
A '</td><td valign="top">' at the beginning of a line introduces each row.
Indented lines that follow the initial line continue that line,
and appear on the same row in the output.
<p>
HML replaces a row that starts with <nobr><code>|-&nbsp;</code></nobr><code><em>N</em></code> with a horizontal line.
The number (3 in the earlier example)
is the width of the line in columns, and it's required.
<p>
Terminate the table with a  blank line.
<p>
This mechanism is really for columnar data,
but you can style the underlying table using CSS.
A minor issue with the earlier examples might come into play if you do restyle, however.
If the table cells have borders, you should put a terminating</td><td valign="top"> at the end of every row:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
| a | b | c |
| A |   | C |
| x | y |   |
</pre>
</div>
</div>
<p>
The earlier examples left out that rightmost <nobr><code>|</code></nobr> which is perfectly okay unless you restyle to add
borders. The issue is discussed further in <a href="#stylingTables">Section 28.2</a>.<a name="hmlIndex-61-1"></a>}<a name="hmlIndex-62-1"></a><a name="hmlIndex-63-1"></a>
<a name="hmlContents9"><h1>15.  End notes (<nobr><code>&lt;note&gt;</code></nobr>, <nobr><code>&lt;endnotes&gt;</code></nobr>)</h1></a>
<p>
HML supports linked end notes. 
The note is typically moved to <a href="#notes">the end of the document</a>,
and a reference is placed at the end of the sentence.<span class="hmlNote"><a name="hmlRef-59" id="hmlRef-59" href="#hmlNote59">1</a></span>
The note at the end of the previous sentence was generated by the following markup:
<blockquote class="hmlBlock">
<em>&hellip;notes.</em><nobr><code>&lt;note&gt;Here&apos;s&nbsp;the&nbsp;note.&lt;/note&gt;</code></nobr><br>
</blockquote>
By default, the note pops up in a small box when the cursor hovers over the
reference, but you can change that behavior if you like (<a href="#endnoteLayoutAndBehavior">Section 28.4</a>).
The numbers are generated automatically, and increment with each use.<span class="hmlNote"><a name="hmlRef-60" id="hmlRef-60" href="#hmlNote60">2</a></span>
The <nobr><code>&lt;note&gt;</code></nobr> tag doesn't have to be bang up against the period. You can do this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
some text.
&lt;note&gt;
    The note goes here.
&lt;/note&gt;
</pre>
</div>
</div>
<p>
You'll note (so to speak) that the note reference is a link
to the actual end note, which is at the end of the document.
You can't click on it because the popup obscures it, but if you remove the popup,
clicking on the note mark gets you to the note.
Once you get there, clicking on the reference next to the actual note gets you back to your original location.
The note mark is underlined to highlight the fact that it's a link,
but that underline doesn't appear in the printed version of the document.
<p>
The only restriction with the note text is that it can't contain a code block. That is, you can't say:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;note&gt;
    &lt;pre&gt;
        someCode();
    &lt;/pre&gt;
&lt;/note&gt;
</pre>
</div>
</div>
or
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;note&gt;
,   someCode();
&lt;/note&gt;
</pre>
</div>
</div>
You can, however, use code snippets:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;note&gt;
    &lt;block&gt;
        `someCode()`
    &lt;/block&gt;
&lt;/note&gt;
</pre>
</div>
</div><a name="hmlIndex-63-2"></a>
You don't have to use numeric notes if you don't want to.<span class="hmlNote"><a name="hmlRef-64" id="hmlRef-64" href="#hmlNote64">&dagger;</a></span>
I created the note at the end of the previous sentence with the following markup:
<blockquote class="hmlBlock">
<em>&hellip;want to.</em><nobr><code>&lt;note&nbsp;mark=&quot;[dagger]&quot;&gt;This&nbsp;is&nbsp;a&nbsp;note&nbsp;with&nbsp;a&nbsp;non-numeric&nbsp;callout.&lt;/note&gt;</code></nobr><br>
</blockquote>
HML macros can be used for callouts, as I've done here with <nobr><code>[dagger]</code></nobr>.
The downside of that flexibility is that you may want to use * for a note, but
the * introduces boldface in HML, so you'll have to escape the * in this case:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;note mark="\*"&gt;
</pre>
</div>
</div>
If you mix numeric and non-numeric notes in the same document,
the numbering remains sequential.
That is, the intervening non-numeric note doesn't disturb the numbering.
<p>
You can restart the numbering to an arbitrary number by using a <nobr><code>mark=</code></nobr> attribute in the
<nobr><code>&lt;note...&gt;</code></nobr> element.
I've put the following at the end of the current sentence to restart numbering at 10:<span class="hmlNote"><a name="hmlRef-66" id="hmlRef-66" href="#hmlNote66">10</a></span>
<blockquote class="hmlBlock">
<em>&hellip;at 10:</em><nobr><code>&lt;note</code></nobr> &hellip; <nobr><code>mark=&quot;10&quot;&gt;This&nbsp;is&nbsp;note&nbsp;number&nbsp;10.&lt;/note&gt;</code></nobr><br>
</blockquote>
Thereafter, numbering continues from whatever number you assign manually, so the next note is 11.<a name="hmlIndex-63-3"></a>
If you need to reference a note in more than one place, you can use

<blockquote class="hmlBlock">
<nobr><code>&lt;note&nbsp;label=&quot;myLabel&quot;</code></nobr> &hellip; <nobr><code>&gt;</code></nobr><br>
</blockquote>
to give the note a label, and then link to the note text using one of:

<blockquote class="hmlBlock">
<nobr><code>{note&nbsp;myLabel}</code></nobr><br>
<nobr><code>{note-number&nbsp;myLabel}</code></nobr><br>
</blockquote>
For example, the full annotation for note 10, above, was actually:

<blockquote class="hmlBlock">
<nobr><code>&lt;note&nbsp;</code></nobr><code><strong>label="note10"</strong></code><nobr><code>&nbsp;mark=&quot;10&quot;&gt;</code></nobr><br>
</blockquote>
and
<blockquote class="hmlBlock">
<nobr><code>{note&nbsp;note10}</code></nobr><br>
<nobr><code>{note-number&nbsp;note10}</code></nobr><br>
</blockquote>
displays as
<blockquote class="hmlBlock">
<a href="#hmlNote66">Note 10</a><br>
 <a href="#hmlNote66">10</a><br>
</blockquote>
<p>
One final minor, but useful feature. The <nobr><code>prefix=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr> and <nobr><code>suffix=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr>
specify a prefix and suffix that surround the note reference.
For example, I used a <nobr><code>suffix=&quot;,&nbsp;&quot;</code></nobr> to put the comma between the two callouts at the end of the
current sentence.<span class="hmlNote"><a name="hmlRef-67" id="hmlRef-67" href="#hmlNote67">11</a>, </span><span class="hmlNote"><a name="hmlRef-68" id="hmlRef-68" href="#hmlNote68">12</a></span>
The prefix and suffix are visible only in the note reference; not in the endnotes section.
<p>
Surround the note with brackets<span class="hmlNote">[<a name="hmlRef-69" id="hmlRef-69" href="#hmlNote69">13</a>]</span>
with <nobr><code>&lt;note&nbsp;prefix=&quot;\[&quot;&nbsp;suffix=&quot;\]&quot;&gt;</code></nobr>.
The backslash takes away the special meaning of the bracket, which usually indicates a hyperlink.
<p>
If you want to use brackets throughout the document, the easiest solution is to create a macro (see <a href="#userMacro">Section 22</a>):
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;macro&gt;
'&lt;n&gt;'&lt;note prefix="\\[" suffix="\\]"&gt;'
'&lt;/n&gt;'&lt;/note&gt;'
&lt;/macro&gt;

text&lt;n&gt;The reference to this note has brackets.&lt;/n&gt;
</pre>
</div>
</div>
displays as

<blockquote class="hmlBlock">
text<span class="hmlNote">[<a name="hmlRef-71" id="hmlRef-71" href="#hmlNote71">14</a>]</span><br>
</blockquote>
Use double backslashes in the macro definition to get the macro to expand to a single backslash.

<a name="hmlContents10"><h2>15.1.  Displaying the end notes</h2></a><a name="hmlIndex-72-1"></a><a name="hmlIndex-63-4"></a>
The note's text is <u><em>not</em></u> displayed by default. 
HML wants to make no assumptions about where you actually want the notes,
and it can't know how you want to set off the notes from the rest of the document.
You need to put an <nobr><code>&lt;endnotes&gt;</code></nobr> element at the end of your document
(or wherever else you want the notes to appear). For example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;endnotes&gt;
= Notes = notes
&lt;/endnotes&gt;
</pre>
</div>
</div>
I've put exactly that markup at the <a href="#notes">end of the current document</a>.
<p>
The contents of the <nobr><code>&lt;endnotes&gt;</code></nobr> element (the heading in the earlier example)
are put into the document immediately above the note text.
I've used a normal heading (that's the <nobr><code>=&nbsp;Notes</code></nobr>) in the current document
so that the heading appear in the table of contents,
but it won't be numbered like a normal heading because I've used the <nobr><code>=</code></nobr> notation, without the
slash.
<p>
Any and all HML markup can be used within the <nobr><code>&lt;endnotes&gt;</code></nobr> section in this way.
For example, you could use something like a horizontal rule instead of a formal heading to set off the notes like this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;endnotes&gt;
---
&lt;/endnotes&gt;
</pre>
</div>
</div>
interpreted as an HTML hyperlink indicator.

<a name="hmlContents11"><h1>16.  <nobr><code>&lt;toc&gt;Table&nbsp;of&nbsp;Contents&lt;/toc&gt;</code></nobr></h1></a>
The <nobr><code>&lt;toc&gt;</code></nobr> element is replaced by a table of contents that displays all the section headings
as hot links to the sections.
The text between the <nobr><code>&lt;toc&gt;</code></nobr> and <nobr><code>&lt;/toc&gt;</code></nobr> becomes the table's title.
The table of contents at the top of the current document was created using:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;toc&gt;Contents&lt;/toc&gt;
</pre>
</div>
</div><a name="hmlIndex-41-4"></a><a name="hmlIndex-75-1"></a>
If you don't want a particular heading to appear in the table of contents,
put a <nobr><code>toc=&quot;no&quot;</code></nobr> attribute in the heading tag, like this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h3 toc="no"&gt;
</pre>
</div>
</div>(you can also use <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&nbsp;toc=&quot;false&quot;&gt;</code></nobr>).
There's no equivalent mechanism for the <nobr><code>=Title=</code></nobr> form of heading definition&mdash;you have to
use an <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> element to turn off table-of-contents inclusion.
<p>
You can, however, remove entire contents levels (e.g.,all sections at level 3 or higher) from
the table by modifying the CSS styling used in the table.
The details are discussed in <a href="#tocStyling">Section 28.3</a>.<a name="hmlIndex-76-1"></a>
<a name="hmlContents12"><h1>17.  Creating an index (<nobr><code>{index</code></nobr> <em>topic</em><nobr><code>}</code></nobr>, <nobr><code>&lt;index&gt;</code></nobr>, <nobr><code>&lt;index-entry&gt;</code></nobr>)</h1></a><a name="hmlIndex-76-2"></a>
Use the <nobr><code>{index&nbsp;</code></nobr><em>topic</em><nobr><code>}</code></nobr> macro
to include the current location in an accumulated index.
The macro effectively disappears from the visible text,
though an invisible anchor is inserted in its place. Clicking on the associated index entry
returns the browser to that anchor.
The topics can have multiple words in it (e.g. <nobr><code>{index&nbsp;index&nbsp;creation</code></nobr>)
<p>
As was the case with end notes, you need to add an element at the place where you want the
index to appear in your document:
<blockquote class="hmlBlock">
<nobr><code>&lt;index&gt;</code></nobr><em>Title</em><nobr><code>&lt;/index&gt;</code></nobr><br>
</blockquote>
The HML processor uses the element contents as the title.
for example, The index <a href="#index">at the end of this document</a>
was created using:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;index&gt;
= Index = index
&lt;/index&gt;
</pre>
</div>
</div>The index is sorted by topic (punctuation first, then numbers, then alphabetic),
and the sorting is not case sensitive. 
If you're anything like me, you'll accidentally use a singular form of the topic sometimes and
a plural form at others. That's really an error, but it's a hard-to-find one, so the indexing system deals with
it for you. When the HML processors compares topics for purposes of sorting and aggregation, it ignores any trailing "es" or "s."
(The topic that appears in the index is whichever version you used first).
<p>
Because of the way that most browsers scroll, it's best to put the
<nobr><code>{index&nbsp;x}</code></nobr> reference just above the text you intend to index. That way
the indexed text will be at the top of the browser window when you
click on the reference link.

<p><a name="hmlIndex-78-1"></a><a name="hmlIndex-78-2"></a><a name="hmlIndex-78-3"></a><a name="hmlIndex-78-4"></a><a name="hmlIndex-76-3"></a><a name="hmlIndex-76-4"></a>
You can specify a subtopic with a comma in the macro, for example, the current paragraph
was put into the index using
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
{index index, subtopic}
</pre>
</div>
</div>Hyperlinks associated index entries without subtopics
use numbers as their visible text. If you specify a subtopic, however, that subtopic is used as the visible text.
<p>
Here's an easy-to-find example (The ZZ topic sorts to the very end of the <a href="#index">Index</a>).
The current paragraph is prefixed with
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
{index ZZ}
{index ZZ, subtopic}
{index ZZ}
{index ZZs, plural version}
</pre>
</div>
</div>The resulting index entry looks like this:
<blockquote class="hmlBlock">
<strong>ZZ</strong> <u>1</u>, <u>subtopic</u>, <u>3</u><br>
</blockquote>
(The three items to the right of the ZZ are hyperlinks to the current paragraph.)
<p><a name="hmlIndex-76-5"></a><a name="hmlIndex-85-1"></a>
The <nobr><code>{index&nbsp;topic,&nbsp;optional-subtopic}</code></nobr> macro actually evaluates to the following element:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;index-entry topic="theTopic"&gt;optional-subtopic&lt;/index-entry&gt;
</pre>
</div>
</div>You can use the macro form and the HTML-element form interchangeably.
<p>
Finally, remember that implicit paragraphs implied by a blank line are inserted only if the first character following the
blank line alphanumeric. Consequently
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
...end of previous paragraph.

{index myTopoc}
A new paragraph.
</pre>
</div>
</div>
does not start a new paragraph (the <nobr><code>{</code></nobr> in the index directive is not alphanumeric).
You'll need to do one of the following in this situation:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
...end of previous paragraph.

A {index myTopoc}
new paragraph.
</pre>
</div>
</div>
or
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
...end of previous paragraph.

&lt;p&gt;
{index myTopoc}
A new paragraph.
</pre>
</div>
</div>

<div class="pending">
<p>
Export the index to an external file by specifying a <nobr><code>dest=</code></nobr> attribute in the HTML tag. For example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;index dest="/path/to/output/file.html"&gt;Optional Title&lt;/index&gt;
</pre>
</div>
</div>
writes an index file to <em>/path/to/output/file.html</em>.
<p>
The generated file holds HTML markup that exactly mirrors the HTML that's output to the main body of the document
(see <a href="#index-layout">Section 28.5</a>).
You'll have to do a little postprocessing
to build an aggregate external index for a multi-part document. In particular, the location anchors are all relative URL's,
so you'll need to add a file indicator to their left.
</div><a name="hmlIndex-86-1"></a><a name="hmlIndex-87-1"></a><a name="hmlIndex-88-1"></a><a name="hmlIndex-89-1"></a><a name="hmlIndex-89-2"></a>

<a name="import"><h1>18.  Pulling in external files: <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;import&gt;</code></nobr></h1></a>
<p>
Both <nobr><code>include</code></nobr> and <nobr><code>import</code></nobr> directives are replaced by the contents of a file, a path to which is specified in the tag.
The basic form is:
<table class="hmlTable">
<tr><td valign="top">	<nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;href=&quot;http://www.holub.com/sources/someFile.java&quot;&gt;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;src=&quot;/Users/allen/projects/sources/someFile.java&quot;&gt;</code></nobr></td><td valign="top"> (or <nobr><code>file=&quot;</code></nobr>&hellip;<nobr><code>&quot;</code></nobr>)
</td></tr>
<tr><td valign="top">	<nobr><code>&lt;</code></nobr><nobr><code>import&nbsp;&nbsp;href=&quot;http://www.holub.com/sources/someFile.java&quot;&gt;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&lt;</code></nobr><nobr><code>import&nbsp;&nbsp;src=&quot;~/projects/sources/someFile.java&quot;&gt;</code></nobr></td><td valign="top"> (or <nobr><code>file=&quot;</code></nobr>&hellip;<nobr><code>&quot;</code></nobr>)
</td></tr>
</block>
</table>
<p>
Include code. Import everything else.
<p>
The <nobr><code>href=</code></nobr> attribute requres a URL argument.
The <nobr><code>src=</code></nobr> (or <nobr><code>file=</code></nobr>&mdash;you can use them interchangeably) expects a path in the local file system, not a URL.
You can, however, reference a local file using the URL form like this: <nobr><code>href=&quot;file://...&quot;</code></nobr>
The <nobr><code>~</code></nobr> represents your "home directory"---the directory or folder that's active when you log in.
The <nobr><code>~</code></nobr> isn't legal in a standard URL, but HML will take care of the mapping for you if you use it in a URL.
<p>
The contents of imported files are just inserted into your document verbatim. That is, the <nobr><code>&lt;import&gt;</code></nobr> directive is effectively
replace by the contents of the file.
Use <nobr><code>&lt;import&gt;</code></nobr> to manage a book (a single HML for the book might pull in HML files representing the individual chapters),
manage macros (an imported file could contain a single <nobr><code>&lt;macro&gt;</code></nobr> element that defined many locally-used macros),
or define styling (an imported file could contain a <nobr><code>&lt;head&gt;</code></nobr> element that defines local CSS styles).
Imports nest&mdash;you may import a file that, itself, imports a file.
<p>
Included files are treated as listings, and unlike imported files, which are imported verbatim, listings are heavily processed.
The <a href="#listings">listings at the end of this document</a> were imported with
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;include src="~/config/hml.head" title=""&gt;
&lt;include src="~/config/hml.tail" title=""&gt;
&lt;include src="~/config/hml.macros" title=""&gt;
</pre>
</div>
</div>The line numbers, title, and so forth were provided by HML.
<p>
If you supply a listing title (even an empty one, as I've done here), you can reference the listing symbolically.
Given the earlier <nobr><code>&lt;include&nbsp;src=&quot;~/config/hml.macros&quot;&nbsp;title=&quot;&quot;&gt;</code></nobr>:
<table class="hmlTable">
<tr><td valign="top"> <nobr><code>{listing&nbsp;hml.macros}</code></nobr></td><td valign="top"> displays as <a href="#hml.macros">Listing 3</a>
</td></tr>
<tr><td valign="top"> <nobr><code>{listing-number&nbsp;hml.macros}</code></nobr></td><td valign="top"> displays as <a href="#hml.macros">3</a>
</td></tr>
and clicking the link gets you to the reference.
You do need a <nobr><code>title=</code></nobr> attribute, even an empty one, for that to work.
If the attribute is empty (as is the case, here), HML uses the file name as the title, otherwise it uses whatever text you supply.
</table>
<p>
If you leave out the <nobr><code>title=</code></nobr> there won't be a title, and symbolic listings won't be possible, but a title-less <nobr><code>&lt;include&gt;</code></nobr> is handy for inserting
a small unnamed block of code directly into your document.
<p>
Finally, you may <em>tag</em> lines in the listing. (Tagging is actually a complicated subject, and is discussed further in <a href="#lineReferences">Section 23.5</a>.)
Mark a line in a listing by putting <nobr><code>{=&nbsp;</code></nobr><em>tagName</em><nobr><code>}</code></nobr> into a comment. The <em>tagName</em> is an arbitray name that you make up.
That tag is not displayed in the document, but the line is nonetheless marked with an invisible anchor.  Here's an example:
This input:

<blockquote class="hmlBlock">
<nobr><code>&lt;listing&gt;</code></nobr><br>
	<nobr><code>public&nbsp;void&nbsp;f()&nbsp;&nbsp;&nbsp;&nbsp;</code></nobr><b><nobr><code>//&nbsp;{=&nbsp;f-def}</code></nobr></b><br>
	<nobr><code>{</code></nobr><br>
	<nobr><code>}</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
<p>
displays as
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
<a name="f-def"></a><a name="f"></a>1<br>
2<br>
3<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
public void f()
{
}
</pre>
</div>
</div>
and elsewhere in your document,
you can reference the line with any of the following:
<table class="hmlTable">
<tr><td valign="top">	<nobr><code>{line&nbsp;f-def}</code></nobr></td><td valign="top"> displays as</td><td valign="top">	<a href="#f-def">line 1</a>
</td></tr>
<tr><td valign="top">	<nobr><code>{#&nbsp;f-def}</code></nobr></td><td valign="top"> displays as</td><td valign="top">	<a href="#f-def">1</a>
</td></tr>
<tr><td valign="top">   <nobr><code>[#f-def&nbsp;the&nbsp;`f()`&nbsp;declaration]</code></nobr></td><td valign="top"> displays as</td><td valign="top">	<a href="#f-def">the <nobr><code>f()</code></nobr> declaration</a>
</td></tr>
</table>
<p>
The <nobr><code>&lt;include&gt;</code></nobr> directive is actually more complicated than
you'd gather from the current section.
For example, if you're working on a java file, most declarations are
tagged for you automatically.
<a href="#advanced-include">Section 24</a> discusses <nobr><code>&lt;include&gt;</code></nobr> in greater depth, and
<a href="#lineReferences">Section 23.5</a> discusses automatic tagging.<a name="hmlIndex-91-1"></a>
<a name="hmlContents13"><h1>19.  Macro substitution</h1></a>
<p>
Macros are input that's replaced by something else (the replacement process
is called a "macro expansion").
The HML processor applies macros to the text portion of your document&mdash;they're never expanded inside any sort of code block
(inside a <nobr><code>&lt;listing&gt;</code></nobr> or <nobr><code>&lt;pre&gt;</code></nobr> element or in a `&hellip;`-delimited code snippet).<a name="hmlIndex-91-2"></a>
<a name="hmlContents14"><h2>19.1.  Macro types</h2></a>
<p>
Two sorts of macros are supported:

<ul>
<li>	HML out of the box contains many <em>pre-defined macros</em>, most of which are listed in <a href="#macroTable">Table 20.1</a>.
	(Things like the list mechanism described, <a href="#lists">earlier</a>, are actually
	macros, but aren't in the table.)
	<p>
	The HML processor reads the macro definitions for the pre-defined macros from a
	configuration file (<em>hml.macros</em>, <a href="#hml.macros">Listing 3</a>) when the program starts up.
	The default version of this file is packed inside the <em>hml.jar</em> file that holds the
	program, but you can provide your own version. The process is discussed in <a href="#config">Appendix A</a>.
	Your version preempts the default one.
</li>
<li>	You can also specify <em>user-defined macros</em> right in your document by using a
	<nobr><code>&lt;</code></nobr><nobr><code>macro&gt;</code></nobr> element (<a href="#userMacro">Section 22</a>). 
	To use your custom macros in more than one document,
	put the definitions in a separate file and <nobr><code>&lt;import&gt;</code></nobr> it (<a href="#import">Section 18</a>)
	into your document.
	User-defined macros are processed before all other macro types, so you can
	use them both to introduce new macros and also to redefine existing macros.
</li>
</ul>
Many of the features of HML are actually macros.
The emphasis notation described in <a href="#boldfaceEtc">Section 8</a> 
is implemented using predefined macros,
as are the heading, link, and list mechanisms.
Similarly, the blank-line-introduces-a-paragraph mechanism 
is actually a predefined macro,
as are, the <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> shorthands
(<nobr><code>=</code></nobr>, <nobr><code>==</code></nobr>, etc.) and the numbered-list, definition-list,
and bullet-list, and table mechanisms.
Bracket-style hyperlinks (<a href="#hyperlink">Section 7</a>) are also macros.
I haven't listed all these in <a href="#macroTable">Table 20.1</a>,
but because they are (predefined) macros, you can redefine them if you want to.
<p>
Though it's tempting to look at the code-snippet mechanism (`<code>code</code>`) as a macro,
it's not&mdash;it's an integral part of the processor. Consequently,
you can't redefine ` as if it introduced a macro.
HML processes code snippets before macros, so you can't use a macro in a code snippet,
and macros can't expand to code snippets.


<a name="macros"><h2>19.2.  Predefined macros expanded in normal text</h2></a><a name="hmlIndex-91-3"></a>
<a href="#macroTable">Table 20.1</a> lists the predefined macros that aren't otherwise described in this manual.
The actual macro definitions are in <a href="#hml.macros">Listing 3</a>, and
<a href="#macroFileFormat">Section 22.2</a> talks about how to interpret that file.

<strong>These macros are not expanded in code.</strong>
They effect only the text part of your document.
<br>
<br>


<div class="hmlTableTitle"><a name="macroTable"><span class="hmlTitle">Table 20.1.</span> Text Macros Not Discussed Elsewhere</a></div>
<div class="macrotable">
<table border="1" cellspacing="0" cellpadding="4">
<tr> <th>Input</th> <th>Displays as</th> <th>Comment</th> </tr>
<tr><td valign="top"> 
	<nobr><code>\{</code></nobr>	<br>
	<nobr><code>\}</code></nobr>	<br>		
	<nobr><code>\[</code></nobr>	<br>
	<nobr><code>\]</code></nobr>	<br>		
	<code>\\</code>	<br>
	<nobr><code>\*</code></nobr>	<br>
	<nobr><code>\^</code></nobr>	<br>
	<nobr><code>\_</code></nobr>	<br>
	<code>\</code><code>`</code>	<br>
</td><td valign="top">
	{	<br>
	}	<br>		
	[	<br>
	]	<br>		
	\	<br>
	*	<br>
	^	<br>
	_	<br>
	`	<br>
</td><td valign="top">	Many<a name="hmlIndex-94-1"></a><a name="hmlIndex-95-1"></a><a name="hmlIndex-96-1"></a><a name="hmlIndex-97-1"></a><a name="hmlIndex-98-1"></a><a name="hmlIndex-99-1"></a><a name="hmlIndex-100-1"></a><a name="hmlIndex-101-1"></a><a name="hmlIndex-102-1"></a>
		macros depend on one or more of these special characters. "Escape" the special character with a backslash to prevent
		a it from being handled specially. For example,
		<nobr><code>{i&nbsp;text}</code></nobr> prints as <em>text</em>, but <nobr><code>\{i&nbsp;text}</code></nobr> prints as {i text}.
		You don't have to escape <em>every</em> instance of many of these characters, only those
		situations that would otherwise confuse the macro processor. For example,
		a naked { is usually harmless unless the word that immediately follows it
		could be a macro name. For example {fred} doesn't mean anything to HML, so no backslash is required.
		You'll always have to escape the `, however, since it
		introduces code snippets (discussed below) unless escaped.

</td></tr>

<tr><td valign="top"> <nobr><code>---</code></nobr> 				</td><td valign="top"> <hr style="width:1in;">	</td><td valign="top"><a name="hmlIndex-103-1"></a> Lines containing nothing but a sequence of one or more dashes
														are replaced by a horizontal rule (<nobr><code>&lt;hr&nbsp;class=&quot;hmlRule&quot;&gt;</code></nobr>);

</td></tr>
<tr><td valign="top">	<strong>&rarr;</strong><nobr><code>[!]</code></nobr><strong>&larr;</strong>			</td><td valign="top">		<strong>&rarr;</strong><strong>&larr;</strong>			</td><td valign="top"><a name="hmlIndex-104-1"></a><a name="hmlIndex-105-1"></a> Zero-width space. Expanded after all other special
													characters are processed. Handy for doing things like preventing
													other macros from expanding. For example <nobr><code>{[!]link&nbsp;x}</code></nobr> is not treated as a
														<nobr><code>{link&nbsp;x}</code></nobr> macro. Instead, the text {link x} is printed.
</td></tr>
<tr><td valign="top">	<strong>&rarr;</strong><nobr><code>[##]</code></nobr><strong>&larr;</strong>				</td><td valign="top">		<strong>&rarr;</strong>&nbsp;&nbsp;&nbsp;&nbsp;<strong>&larr;</strong>	</td><td valign="top"><a name="hmlIndex-106-1"></a> Replaced by two more non-breaking spaces than the number of hash marks.
													You may specify at most eight hash marks.
													The current example is four spaces wide.
													(The two extras make the width in the input the same as the width in the output, which
													is convenient if you're trying to get text to line up in neat columns.)
													<nobr><code>[]</code></nobr> evaluates to two non-breaking spaces. You can achieve a similar effect
													with a code snippet made up only of spaces (e.g.,<code>&lsquo;   &lsquo;</code>),
													though that approach always uses space characters in the code, not the
													document, font.
</td></tr>
<tr><td valign="top">		<nobr><code>&amp;</code></nobr>					</td><td valign="top">		&amp;			</td><td valign="top"><a name="hmlIndex-107-1"></a> Expands to <nobr><code>&amp;amp;</code></nobr> in most contexts. However, an <nobr><code>&amp;</code></nobr> that's part of an HTML <em>entity</em> (e.g.
													<nobr><code>&amp;nbsp;</code></nobr> or <nobr><code>&amp;#123;</code></nobr>) is passed to the output without modification.
												</td></tr>
<tr><td valign="top">		<nobr><code>&lt;&lt;</code></nobr>				</td><td valign="top">		&laquo;			</td><td valign="top"><a name="hmlIndex-108-1"></a> Open guillemet.<a name="hmlIndex-109-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>&gt;&gt;</code></nobr>				</td><td valign="top">		&raquo;			</td><td valign="top"> Close guillemet. </td></tr>
<tr><td valign="top">		<nobr><code>&lt;</code></nobr>					</td><td valign="top">		&lt;			</td><td valign="top"><a name="hmlIndex-110-1"></a> Expands to <nobr><code>&amp;lt;</code></nobr> unless it's part of an HTML or XML element.
												To be recougnized as an HTML element, the input must follow the following rules:
												<ul>
												<li>The <nobr><code>&lt;</code></nobr> must be followed by an alphabetic character with no intervening spaces.
												<li>The <nobr><code>&gt;</code></nobr> be preceded by either an alphabetic character or a double-quote mark.
												<li>In general, the element must look like an HTML element (e.g.,<nobr><code>&lt;a&nbsp;href=&quot;http://abc&quot;&gt;</code></nobr>
													or <nobr><code>&lt;b&gt;</code></nobr>).
													Something like <nobr><code>&lt;abc&nbsp;def&gt;</code></nobr> is not a legal HTML element, so the angle brackets <em>are</em>
													translated.
												<li>Prefix the <nobr><code>&lt;</code></nobr> with a backslash to get normal angle-bracket translation.
													For example <nobr><code>\&lt;br&gt;</code></nobr> displays in the output as as &lt;br&gt;. The <nobr><code>\&lt;</code></nobr> is handled as if
													it weren't introducing an HTML element.
													Similarly, HTML elements in code snippets (e.g.,<nobr><code>&lsquo;</code><nobr><code>&lt;br&gt;</code></nobr><code>&lsquo;</code></nobr>)
													always print literally (<nobr><code>&lt;br&gt;</code></nobr>).
												</ul>
												</td></tr>


<tr><td valign="top">		<nobr><code>&gt;</code></nobr>					</td><td valign="top">		&gt;			</td><td valign="top"><a name="hmlIndex-111-1"></a> Expands to <nobr><code>&amp;gt;</code></nobr> unless it terminates an HTML/XML element.</td></tr>

<tr><td valign="top">		<nobr><code>word---word</code></nobr>		</td><td valign="top">		word&mdash;word	</td><td valign="top"> An<a name="hmlIndex-112-1"></a><a name="hmlIndex-113-1"></a> em-dash. The <nobr><code>---</code></nobr> must be bracketed by alphabetic characters (no spaces). </td></tr>
<tr><td valign="top">		<nobr><code>[---]</code></nobr>				</td><td valign="top">		&mdash;		</td><td valign="top"> An em-dash in other contexts. </td></tr>
<tr><td valign="top">		<nobr><code>0123--0123</code></nobr>		</td><td valign="top">		0123&ndash;0123	</td><td valign="top"> An<a name="hmlIndex-114-1"></a><a name="hmlIndex-115-1"></a> en-dash. The <nobr><code>--</code></nobr> must be bracketed by digits (no spaces).</td></tr>
<tr><td valign="top">		<nobr><code>[--]</code></nobr>				</td><td valign="top">		&ndash;		</td><td valign="top"> An en-dash in other contexts. </td></tr>
<tr><td valign="top">		<nobr><code>...</code></nobr>				</td><td valign="top">		&hellip;			</td><td valign="top"><a name="hmlIndex-116-1"></a><a name="hmlIndex-117-1"></a> An <nobr><code>&amp;hellip;</code></nobr> entity. This entity was introduced in HTML 4.0, so you may want
													to either modify <em>html.head</em> or provide a user macro to map it to something
													else for older browsers (see <a href="#userMacro">Section 22</a>):
<blockquote class="hmlBlock">
<nobr><code>&lt;macro&gt;</code></nobr><br>
<nobr><code>|\.\.\.|...|&nbsp;##&nbsp;override&nbsp;default&nbsp;mapping&nbsp;to&nbsp;&amp;hellip;</code></nobr><br>
<nobr><code>&lt;/macro&gt;</code></nobr><br>
</blockquote>
												</td></tr>
<tr><td valign="top">		<nobr><code>[tm]</code></nobr>				</td><td valign="top">		&trade;		</td><td valign="top"><a name="hmlIndex-118-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>(c)</code></nobr> <nobr><code>(C)</code></nobr>			</td><td valign="top">		&copy; &copy;		</td><td valign="top"><a name="hmlIndex-119-1"></a> If you really need to display a (c), use a zero-width space: <nobr><code>([!]c)</code></nobr> </td></tr>
<tr><td valign="top">		<nobr><code>(r)</code></nobr> <nobr><code>(R)</code></nobr>			</td><td valign="top">		&reg;	&reg;		</td><td valign="top"><a name="hmlIndex-120-1"></a> If you really need to display a (r), use a zero-width space: <nobr><code>([!]r)</code></nobr> </td></tr>

<tr><td valign="top">		<nobr><code>+-&nbsp;&nbsp;+/-&nbsp;&nbsp;-+</code></nobr>		</td><td valign="top">		&plusmn; &plusmn; &plusmn;	</td><td valign="top"><a name="hmlIndex-121-1"></a> </td></tr>

<tr><td valign="top">		<nobr><code>[*]</code></nobr> 				</td><td valign="top">	    &times;			</td><td valign="top"><a name="hmlIndex-122-1"></a><a name="hmlIndex-123-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>[/]</code></nobr> 				</td><td valign="top">		&divide;			</td><td valign="top"><a name="hmlIndex-124-1"></a><a name="hmlIndex-125-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>[+]</code></nobr> 				</td><td valign="top">		&plus;			</td><td valign="top"><a name="hmlIndex-126-1"></a><a name="hmlIndex-127-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>[-]</code></nobr> 				</td><td valign="top">		&minus;			</td><td valign="top"><a name="hmlIndex-128-1"></a><a name="hmlIndex-129-1"></a> A minus sign, as compared to a dash (-). </td></tr>
<tr><td valign="top">		<nobr><code>[!=]</code></nobr> <nobr><code>!=</code></nobr> 		</td><td valign="top">		&ne; &ne;		</td><td valign="top"> The brackets are optional.<a name="hmlIndex-130-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>&lt;=</code></nobr> 				</td><td valign="top">		&le;			</td><td valign="top"><a name="hmlIndex-131-1"></a> </td></tr>
<tr><td valign="top">		<nobr><code>&gt;=</code></nobr> 				</td><td valign="top">		&ge;			</td><td valign="top"> <index-entry topic="<nobr><code>&gt;=</code></nobr> macro} <a target="_blank" href="http://</td></tr>"><tr><td valign="top">		<nobr><code>1/4</code></nobr>				</td><td valign="top">		&frac14;			</td><td valign="top"> {index <nobr><code>1/4</code></nobr> macro</a> Only when no spaces surround the /. If spaces are present (including a zero-width space: <nobr><code>1[!]/4</code></nobr>)">you'll get 1[!</index-entry>/4 </td></tr>
<tr><td valign="top">		<nobr><code>1/2</code></nobr>				</td><td valign="top">		&frac12;			</td><td valign="top"><a name="hmlIndex-132-1"></a> Only when no spaces surround the /. If spaces are present, you'll get 1/2 </td></tr>
<tr><td valign="top">		<nobr><code>3/4</code></nobr>				</td><td valign="top">		&frac34;			</td><td valign="top"><a name="hmlIndex-133-1"></a> Only when no spaces surround the /. If spaces are present, you'll get 3/4 </td></tr>

<tr><td valign="top">		<nobr><code>^1</code></nobr>				</td><td valign="top">		&sup1;		</td><td valign="top"><a name="hmlIndex-134-1"></a><a name="hmlIndex-135-1"></a> Evaluates to the <nobr><code>&amp;sup1;</code></nobr> entity. </td></tr>
<tr><td valign="top">		<nobr><code>^2</code></nobr>				</td><td valign="top">		&sup2;		</td><td valign="top"> Evaluates to the <nobr><code>&amp;sup2;</code></nobr> entity. </td></tr>
<tr><td valign="top">		<nobr><code>^3</code></nobr>				</td><td valign="top">		&sup3;		</td><td valign="top"> Evaluates to the <nobr><code>&amp;sup3;</code></nobr> entity. </td></tr>
<tr><td valign="top">		<nobr><code>^o</code></nobr>				</td><td valign="top">		&deg;		</td><td valign="top"> Lower-case o. Evaluates to a <nobr><code>&amp;deg;</code></nobr> entity.</td></tr>
<tr><td valign="top">		<nobr><code>X^super</code></nobr>			</td><td valign="top">		X<sup style="hmlSuperscript">super</sup>		</td><td valign="top"> Superscript a single "word" (all alphanumeric characters that immediately follow the underscore).
													A non-space character must both precede and follow the ^.
													The <nobr><code>^1</code></nobr>, <nobr><code>^2</code></nobr>, <nobr><code>^3</code></nobr>, and <nobr><code>^o</code></nobr> macros take precedence over the current one.
												</td></tr>
<tr><td valign="top">		<nobr><code>X_</code></nobr><span style="font-size:4pt;">&nbsp;</span><nobr><code>_sub</code></nobr>			</td><td valign="top">		X<sub style="hmlSubscript">sub</sub>		</td><td valign="top"><a name="hmlIndex-136-1"></a><a name="hmlIndex-137-1"></a> Subscript a single "word." Note that you need two underscores.
												</td></tr>
<tr><td valign="top">		<nobr><code>X{^&nbsp;many&nbsp;words}</code></nobr>	</td><td valign="top">	X<sup style="hmlSuperscript">many words</sup>	</td><td valign="top"> Use this form to superscript multiple words or strings that contain non-alphanumeric characters.
												</td></tr>
<tr><td valign="top">		<nobr><code>X{_&nbsp;many&nbsp;words}</code></nobr>	</td><td valign="top">	X<sub style="hmlSubscript">many words</sub> </td><td valign="top"> Use this form to subscript multiple words or strings
that contain non-alphanumeric characters. There's only one underscore in this form.
												</td></tr>

<tr><td valign="top">		<nobr><code>&lt;-</code></nobr>				</td><td valign="top">		<strong>&larr;</strong>			</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>-&gt;</code></nobr>				</td><td valign="top">		<strong>&rarr;</strong>			</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[SS]</code></nobr>				</td><td valign="top">		&sect;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[dagger]</code></nobr>			</td><td valign="top">		&dagger;	</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[Dagger]</code></nobr>			</td><td valign="top">		&Dagger;	</td><td valign="top"> &nbsp; </td></tr>

<tr><td valign="top">		<nobr><code>[Delta]</code></nobr>			</td><td valign="top">		&Delta;		</td><td valign="top"> &nbsp; </td></tr>

<tr><td valign="top">		<code>[a``]</code>	</td><td valign="top">	&agrave;		</td><td valign="top"><a name="hmlIndex-138-1"></a><a name="hmlIndex-139-1"></a> Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[a&apos;]</code></nobr>					</td><td valign="top">	&aacute;		</td><td valign="top">	{link ) 
<tr><td valign="top">		<nobr><code>[a^]</code></nobr>					</td><td valign="top">	&acirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[e``]</code>	</td><td valign="top">	&egrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[e&apos;]</code></nobr>					</td><td valign="top">	&eacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[e^]</code></nobr>					</td><td valign="top">	&ecirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[i``]</code>	</td><td valign="top">	&igrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[i&apos;]</code></nobr>					</td><td valign="top">	&iacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[i^]</code></nobr>					</td><td valign="top">	&icirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[o``]</code>	</td><td valign="top">	&ograve;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[o&apos;]</code></nobr>					</td><td valign="top">	&oacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[o^]</code></nobr>					</td><td valign="top">	&ocirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[u``]</code>	</td><td valign="top">	&ugrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[u&apos;]</code></nobr>					</td><td valign="top">	&uacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[u^]</code></nobr>					</td><td valign="top">	&ucirc;		</td><td valign="top"> &nbsp; </td></tr>

<tr><td valign="top">		<code>[A``]</code>	</td><td valign="top">	&Agrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[A&apos;]</code></nobr>					</td><td valign="top">	&Aacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[A^]</code></nobr>					</td><td valign="top">	&Acirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[E``]</code>	</td><td valign="top">	&Egrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[E&apos;]</code></nobr>					</td><td valign="top">	&Eacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[E^]</code></nobr>					</td><td valign="top">	&Ecirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[I``]</code>	</td><td valign="top">	&Igrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[I&apos;]</code></nobr>					</td><td valign="top">	&Iacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[I^]</code></nobr>					</td><td valign="top">	&Icirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[O``]</code>	</td><td valign="top">	&Ograve;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[O&apos;]</code></nobr>					</td><td valign="top">	&Oacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[O^]</code></nobr>					</td><td valign="top">	&Ocirc;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<code>[U``]</code>	</td><td valign="top">	&Ugrave;		</td><td valign="top">	Two ` characters in sequence are required.</td></tr>
<tr><td valign="top">		<nobr><code>[U&apos;]</code></nobr>					</td><td valign="top">	&Uacute;		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top">		<nobr><code>[U^]</code></nobr>					</td><td valign="top">	&Ucirc;		</td><td valign="top"> &nbsp; </td></tr>

<tr><td valign="top"> <code>``</code>
</td><td valign="top"> &lsquo;  
</td><td valign="top"><a name="hmlIndex-140-1"></a> (Two left-quote characters in the input.) A left single quote. 
	<p>
	An empty code snippet is treated as a left single quote.
	If you really want two left-single-quote
	characters next to each other, use HTML entities (<nobr><code>&amp;lsquo;&amp;lsquo;</code></nobr>) or </code>\`\`</code>
</td></tr>

<tr><td valign="top"> <code>'</code><code>'</code>
</td><td valign="top"> &rsquo;
</td><td valign="top"> (Two right-quote characters in the input.) A right single quote, not an apostrophe ('). They're different in some fonts.
</td></tr>

<tr><td valign="top"> <code>`</code><code>`</code><code>}`</code>
</td><td valign="top"> &ldquo;
</td><td valign="top"> (Three left-quote characters in the input.) A left double quote, not a quotation mark (&quot;). They're different in some fonts. Note that you need three of them in the input.
</td></tr>

<tr><td valign="top"> <code>'''</code>
</td><td valign="top"> &rdquo;
</td><td valign="top"> (Three right-quote characters in the input.) A right double quote, not a quotation mark (&quot;). They're different in some fonts. Note that you need three of them in the input.
</td></tr>

<tr><td valign="top">		<nobr><code>[timestamp]</code></nobr>	</td><td valign="top">		Sun Jan 19 20:01:24 PST 2014	</td><td valign="top"><a name="hmlIndex-141-1"></a> Current date and time in standard form. </td></tr>
<tr><td valign="top">		<nobr><code>[month]</code></nobr>		</td><td valign="top">		1		</td><td valign="top"><a name="hmlIndex-142-1"></a> Current Month. January = 1.</td></tr>
<tr><td valign="top">		<nobr><code>[day]</code></nobr>			</td><td valign="top">		19		</td><td valign="top"><a name="hmlIndex-143-1"></a> Current day of the month. </td></tr>
<tr><td valign="top">		<nobr><code>[year]</code></nobr>		</td><td valign="top">		2014		</td><td valign="top"><a name="hmlIndex-144-1"></a> Current Year. </td></tr>
<tr><td valign="top">		<nobr><code>[hr]</code></nobr>			</td><td valign="top">		8		</td><td valign="top"><a name="hmlIndex-145-1"></a> Current hour (24-hour time). </td></tr>
<tr><td valign="top">		<nobr><code>[min]</code></nobr>			</td><td valign="top">		1		</td><td valign="top"><a name="hmlIndex-146-1"></a> Current minute </td></tr>
<tr><td valign="top">		<nobr><code>[sec]</code></nobr>			</td><td valign="top">		24		</td><td valign="top"><a name="hmlIndex-147-1"></a> Current second </td></tr>
<tr><td valign="top">		<nobr><code>[Month]</code></nobr>		</td><td valign="top">		January		</td><td valign="top"><a name="hmlIndex-142-2"></a> Current month in English </td></tr>
<tr><td valign="top">		<nobr><code>[Day]</code></nobr>			</td><td valign="top">		Sunday		</td><td valign="top"><a name="hmlIndex-143-2"></a> Current day of the week in English </td></tr>
<tr><td valign="top">	<nobr><code>{amazon&nbsp;159059388X&nbsp;Holub&nbsp;on&nbsp;Patterns}</code></nobr>
	</td><td valign="top">	<a href="http://www.amazon.com/exec/obidos/ASIN/159059388X/alleiholuasso" target="_blank"><em>Holub on Patterns</em></a>
	</td><td valign="top"><a name="hmlIndex-150-1"></a><a name="hmlIndex-151-1"></a> Link to Amazon for book with indicated ISBN and title. By default,
		if whoever clicks on the link actually buys the book, a percentage of the sale price
		goes towards maintaining HML. You can, of course, change the macro to remove the
		vendor ID (or reference your own vendor ID), either by modifying <em>hml.macros</em>
		or by defining a user macro that overrides the default. 
</td></tr>

<tr><td valign="top">	<nobr><code>&lt;box&gt;&nbsp;Boxed&nbsp;Paragraph&nbsp;&lt;/box&gt;</code></nobr>
</td><td valign="top">	<div class="hmlBox"> Boxed paragraph </div>	
</td><td valign="top"><a name="hmlIndex-152-1"></a><a name="hmlIndex-153-1"></a> Expands to <nobr><code>&lt;div&nbsp;class=&quot;hmlBox&quot;&gt;...&lt;/div&gt;</code></nobr> The default <em>box</em> class is defined in the <em>$CONFIG/hml.head</em> file.
</td></tr>

<tr><td valign="top">
	<nobr><code>&lt;table&nbsp;border=&quot;1&quot;&nbsp;cellspacing=&quot;0&quot;</code></nobr>
	<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cellpadding=&quot;1&quot;&gt;</code></nobr><br>
	<nobr><code>[(&nbsp;style=&quot;color:red;&quot;]&nbsp;A</code></nobr><br>
	<nobr><code>[|]&nbsp;C</code></nobr><br>
	<nobr><code>[|]&nbsp;E</code></nobr><br>
	<nobr><code>[|&nbsp;style=&quot;background-color:yellow&quot;]&nbsp;G</code></nobr><br>
	<nobr><code>[)]</code></nobr><br>
	<nobr><code>[(]&nbsp;B&nbsp;[|]&nbsp;&nbsp;D&nbsp;[|]&nbsp;F&nbsp;[|]&nbsp;&nbsp;[)]</code></nobr><br>
	<nobr><code>[(]&nbsp;&nbsp;&nbsp;[|]&nbsp;&nbsp;&nbsp;&nbsp;[|]&nbsp;&nbsp;&nbsp;[|]&nbsp;&nbsp;[)]</code></nobr><br>
	<nobr><code>&lt;/table&gt;</code></nobr><br>
</td><td valign="top">
	<table border="1" cellspacing="0" cellpadding="1">
	<tr><td valign="top" style="color:red;"> A
	</td><td valign="top"> C
	</td><td valign="top"> E
	</td><td valign="top" style="background-color:yellow"> G
	</td></tr>
	<tr><td valign="top"> B </td><td valign="top">  D </td><td valign="top"> F	</td><td valign="top"> &nbsp; </td></tr>
	<tr><td valign="top"> &nbsp; </td><td valign="top"> &nbsp; </td><td valign="top"> &nbsp; </td><td valign="top"> &nbsp; </td></tr>
	</table>
</td><td valign="top"><a name="hmlIndex-154-1"></a><a name="hmlIndex-155-1"></a><a name="hmlIndex-156-1"></a><a name="hmlIndex-157-1"></a>
	The columnar-output mechanism (<a href="#tabbed">Section 14</a>) is easy to use, but not particularly flexible.
	These macros are more annoying to type, but are more flexible.
	The macros inserts <nobr><code>&lt;tr&gt;</code></nobr> and <nobr><code>&lt;td&nbsp;valign=&quot;top&quot;&gt;</code></nobr> elements as appropriate.
	An <nobr><code>&amp;nbsp;</code></nobr> is inserted into all empty cells.
<p>
Unlike the standard table mechanism, these macros don't care about
	indenting, and they let you style individual cells. Text following
	the '(' in <nobr><code>[(]</code></nobr>  and the <nobr><code>|</code></nobr> in <nobr><code>[|]</code></nobr> is
	inserted into the generated <nobr><code>&lt;td&gt;</code></nobr>
	(as with the <nobr><code>style=</code></nobr>&hellip; at left).
	<p>
	Theses macros don't work well with the built-in columnar-data mechanism.
	Don't use something like <nobr><code>[|]</code></nobr> instead of a <nobr><code>|</code></nobr> in a normal table, or vise versa.
	A hybrid approach may work now in some situations, but may not work a future HML version.
	Don't do it.
</td></tr>
</table>
</div><a name="hmlIndex-91-4"></a>
<a name="hmlContents15"><h2>19.3.  Macro nesting</h2></a>
<p>
There are two main categories of macros:
those that use braces (e.g.,<nobr><code>{i</code></nobr> text<nobr><code>}</code></nobr>) and everything else.
Brace-delimited macros all take arguments, and none of the others do.
(The only exceptions are the link macros (<nobr><code>[http://www.holub.com]</code></nobr>)
which use brackets instead of braces to be compatible with <em>MediaWiki</em>.
<p>
In general, you can't nest macros that contain braces, but you can use any of the other macros in a brace-delimited macro without difficulty..
Brace and non-brace forms work well, however: <nobr><code>{i&nbsp;r[e&apos;]sum[e&apos;]}</code></nobr> works fine (and prints as <em>r&eacute;sum&eacute;</em>).

<a name="hmlContents16"><h1 class="part">Part II: Advanced Features</h1></a><a name="hmlIndex-41-5"></a>
<a name="H"><h1>20. Headings (HTML-style)</h1></a><a name="hmlIndex-41-6"></a>
The <nobr><code>=</code></nobr> notation for headings described in <a href="#mwheadings">Section 11</a> is implemented using macros that map to <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> elements.
In particular, 
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
== MediaWiki-style headings == mwheadings
</pre>
</div>
</div>maps to
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h2 label="mwheadings"&gt; Headings (MediaWiki-Style)&lt;/h2&gt;
</pre>
</div>
</div>Note the <nobr><code>label=</code></nobr> attribute, which holds the heading label.
<p>
HML modifies the behavior of the standard elements <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> element to add numbering,
and the HTML form is a bit more powerful than the <nobr><code>=</code></nobr> form. The <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> form lets you assign a specific section number, for example.
<p>
Note that HML recognizes only lower-case
versions of the <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr> element tags. For example <nobr><code>&lt;h1&gt;</code></nobr> is handled
specially by HML, but <nobr><code>&lt;H1&gt;</code></nobr> is not.
Use the upper-case form if you want the tag to pass through HML unmolested.
(The same applies to the other standard HTML elements whose behavior is modified by HTML: the <nobr><code>&lt;pre&gt;</code></nobr> element.
Use <nobr><code>&lt;PRE&gt;</code></nobr> to suppress any special HML processing.
<p>
Looking at HML-specific behavior, the input:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1 chapter="10"&gt;H1-Title&lt;/h1&gt;  <span class="hmlComment">// or:   =/ H1-Title  &lt;- Slash required for numbering</span>
&lt;h2&gt;H2-Title&lt;/h2&gt;               <span class="hmlComment">// or:   == H2-Title</span>
&lt;h3&gt;H3-Title&lt;/h3&gt;               <span class="hmlComment">// or:  === H2-Title</span>
&lt;h4&gt;H4-Title&lt;/h4&gt;               <span class="hmlComment">// or: ==== H2-Title</span>
</pre>
</div>
</div>
renders as
<blockquote>
<h1>10. H1-Title</h1>
<h2>10.1. H2-Title</h2>
<h3>10.1.1. H3-Title</h3>
<h4>10.1.1.1. H4-Title</h4>
</blockquote><a name="hmlIndex-41-7"></a><a name="hmlIndex-162-1"></a><a name="hmlIndex-163-1"></a>
You can change the leftmost number in the section number with the
<code>chapter="<em>text</em>"</code> attribute. If you leave it out, the chapter
number defaults to 1 for the first <nobr><code>&lt;h1&gt;</code></nobr>
and increments with each subsequent <nobr><code>&lt;h1&gt;</code></nobr>.
<p>
In fact, any time you specify a number in a <nobr><code>chapter=</code></nobr> attribute, numbering for the current chapter starts there, and normal incrementing
occurs thereafter. 
If you specify a single letter in the <nobr><code>chapter=</code></nobr>, the HML processor increments to the next letter (A to B, for example) for the next section.
Here's the earlier example restated for an appendix: 

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1 chapter="A"&gt;Appendix&lt;/h1&gt;    <span class="hmlComment">// can't do a chapter= with = form, must use &lt;hN&gt;</span>
&lt;h2&gt;H2-Title&lt;/h2&gt;
&lt;h3&gt;H3-Title&lt;/h3&gt;
&lt;h4&gt;H4-Title&lt;/h4&gt;
&lt;h1&gt;Another Appendix&lt;/h1&gt;
&lt;h2&gt;H2-Title&lt;/h2&gt;
</pre>
</div>
</div>
renders as
<blockquote>
<h1>A. Appendix</h1>
<h2>A.1. H2-Title</h2>
<h3>A.1.1. H3-Title</h3>
<h4>A.1.1.1. H4-Title</h4>
<h1>B. Another Appendix</h1>
<h2>B.1. H2-Title</h2>
</blockquote>
<p>
You can actually use any arbitrary text in the <nobr><code>chapter=</code></nobr>, but
anything other than a letter or number is just used as a prefix (without modification)
for all subsequent headings.
<p>
If you don't want HML to add section numbers, use <nobr><code>&lt;h0&gt;</code></nobr> instead of <nobr><code>&lt;h1&gt;</code></nobr>.
If you call out the topmost heading with an <nobr><code>&lt;h0&gt;</code></nobr>,
HML doesn't generate section numbers for subsequent <nobr><code>&lt;h2&gt;</code></nobr>'s, <nobr><code>&lt;h3&gt;</code></nobr>'s, etc.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h0&gt;H0-Title&lt;/h0&gt;   <span class="hmlComment">// or: = H0-Title =       &lt;- No slash for no numbering</span>
&lt;h2&gt;H2-Title&lt;/h2&gt;   <span class="hmlComment">// or: == H2-Title ==</span>
&lt;h3&gt;H3-Title&lt;/h3&gt;   <span class="hmlComment">// or: === H3-Title ===</span>
&lt;h4&gt;H4-Title&lt;/h4&gt;   <span class="hmlComment">// or: ==== H4-Title ====</span>
</pre>
</div>
</div>renders as
<blockquote>
<h1>H0-Title</h1>
<h2>H2-Title</h2>
<h3>H3-Title</h3>
<h4>H4-Title</h4>
</blockquote>
<p>
Setting the <nobr><code>chapter=</code></nobr> attribute to an empty string has the same effect:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1 chapter=""&gt;H0-Title&lt;/h1&gt;
&lt;h2&gt;H2-Title&lt;/h2&gt;
&lt;h3&gt;H3-Title&lt;/h3&gt;
</pre>
</div>
</div>renders as
<blockquote>
<h1>H0-Title</h1>
<h2>H2-Title</h2>
<h3>H3-Title</h3>
</blockquote>
<p>
The <nobr><code>=heading=</code></nobr> notation expands to an <nobr><code>&lt;h0&gt;</code></nobr>, so there are no section numbers.
An <nobr><code>=/heading=</code></nobr> expands to an <nobr><code>&lt;h1&gt;</code></nobr>,
so you get section numbering when you use the slash.
<p>
Finally, note that if you use an <nobr><code>&lt;h0&gt;</code></nobr> within a document that's been using numbered headings, the numbering resets with the <nobr><code>&lt;h0&gt;</code></nobr>.
For example
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1&gt;H1-title&lt;/h1&gt;
&lt;h1&gt;Second H1-title&lt;/h1&gt;
&lt;h0&gt;H0-title&lt;/h0&gt;
&lt;h1&gt;Third H1-title&lt;/h1&gt;
&lt;h1&gt;Fouth H1-title&lt;/h1&gt;
</pre>
</div>
</div>displays as
<blockquote>
<h1>1. H1-title</h1>
<h1>2. Second H1-title</h1>
<h1>H0-title</h1>
<h1>1. Third H1-title</h1>
<h1>2. Fouth H1-title</h1>
</blockquote>
<p>
You can use a <nobr><code>chapter=</code></nobr> to change the numbering following the <nobr><code>&lt;h0&gt;</code></nobr> if you need to do that.

<a name="titleElements"><h1>21. Title elements: <nobr><code>&lt;listing-title&gt;</code></nobr>, <nobr><code>&lt;figure-title&gt;</code></nobr>, and <nobr><code>&lt;table-title&gt;</code></nobr></h1></a>
<p>
HML also supports automatic numbering of Listings, Tables, Figures, and
easy references to both these and <nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr>-generated sections.
<p>
In fact, you've already seen this feature in action with <a href="#macroTable">Table 20.1</a>.
The following element preceded that table definition:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
    &lt;table-title label="macroTable"&gt;HML Macros&lt;/table-title&gt;
</pre>
</div>
</div>
and the element was displayed as follows:
<blockquote>
	<p><b>Table 2.1. HML Macros</b><br>
</blockquote>
<p>
{index <nobr><code>{figure&nbsp;...}</code></nobr>)
{index <nobr><code>{table&nbsp;...}</code></nobr>)
{index <nobr><code>{listing&nbsp;...}</code></nobr>)
{index <nobr><code>{figure-number&nbsp;...}</code></nobr>)
{index <nobr><code>{table-number&nbsp;...}</code></nobr>)
{index <nobr><code>{listing-number&nbsp;...}</code></nobr>)<a name="hmlIndex-164-1"></a><a name="hmlIndex-54-3"></a><a name="hmlIndex-87-2"></a>
Given the <nobr><code>label=&quot;macroTable&quot;</code></nobr> attribute in the <nobr><code>&lt;table-title&gt;</code></nobr>,
you can reference that table anywhere in your document,
either before or after the <nobr><code>&lt;</code></nobr><code><em>xxx</em></code><nobr><code>-title&gt;</code></nobr> element. Use one of the following pseudo-macros
(they look like macros, but aren't), which evaluate to hot links to the label:

<table class="hmlTable">
<tr><td valign="top">	<strong>This input:</strong></td><td valign="top"> <strong>displays as:</strong>
</td></tr>
<tr><td valign="top">	<nobr><code>{table&nbsp;macroTable}</code></nobr></td><td valign="top"> <a href="#macroTable">Table 20.1</a>
</td></tr>
<tr><td valign="top">	<nobr><code>{table&nbsp;macroTable&nbsp;visible&nbsp;text}</code></nobr></td><td valign="top"> <a href="#macroTable">visible text</a>
</td></tr>
<tr><td valign="top">	<nobr><code>{table-number&nbsp;macroTable}</code></nobr></td><td valign="top"> <a href="#macroTable">20.1</a>
</td></tr>
<tr><td valign="top">	<nobr><code>[#macroTable&nbsp;arbitrary&nbsp;text]</code></nobr></td><td valign="top"> <a href="#macroTable">arbitrary text</a>
</td></tr>
</table>
<p>
The word <em>macroTable</em>, in these examples,
is the label specified in the original <nobr><code>&lt;table-title&nbsp;label=&quot;macroTable&quot;&gt;</code></nobr> tag.
The last form is just the HML shorthand for a standard HTML link&mdash;it's identical to: 
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;a href="#macroTable"&gt;arbitrary text&lt;/a&gt;
</pre>
</div>
</div>
be sure to include the leading <nobr><code>#</code></nobr> in the label name in this situation.
<p>
There are identical mechanisms for Listings and Figures. Here's the complete set:

<table class="hmlTable">
<tr><td valign="top">	<nobr><code>&lt;figure-title&nbsp;&nbsp;label=&quot;abc&quot;&gt;The&nbsp;Title&lt;/figure-title&gt;</code></nobr></td><td valign="top">	<nobr><code>{figure&nbsp;abc}</code></nobr></td><td valign="top">	<nobr><code>{figure-number&nbsp;abc}</code></nobr></td><td valign="top"> <nobr><code>{figure&nbsp;abc&nbsp;visible&nbsp;text}</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&lt;table-title&nbsp;&nbsp;&nbsp;label=&quot;abc&quot;&gt;The&nbsp;Title&lt;/table-title&gt;</code></nobr></td><td valign="top">	<nobr><code>{table&nbsp;abc}</code></nobr></td><td valign="top">	<nobr><code>{table-number&nbsp;abc}</code></nobr></td><td valign="top"> <nobr><code>{table&nbsp;abc&nbsp;visible&nbsp;text}</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>&lt;listing-title&nbsp;label=&quot;abc&quot;&gt;The&nbsp;Title&lt;/listing-title&gt;</code></nobr></td><td valign="top">	<nobr><code>{listing&nbsp;abc}</code></nobr></td><td valign="top">	<nobr><code>{listing-number&nbsp;abc}</code></nobr></td><td valign="top"> <nobr><code>{listing&nbsp;abc&nbsp;visible&nbsp;text}</code></nobr>
</td></tr>
</table><a name="hmlIndex-167-1"></a><a name="hmlIndex-168-1"></a><a name="hmlIndex-169-1"></a>

<a name="sectionRef"><h2>21.1.  Section references</h2></a>
<p>
Section reference work much like figure, table, and listing references.
Assign a label with
<blockquote class="hmlBlock">
<nobr><code>&lt;h</code></nobr><em>N</em><nobr><code>&nbsp;label=&quot;myLabel&quot;&gt;&nbsp;Title&nbsp;&lt;/h</code></nobr><em>N</em><nobr><code>&gt;</code></nobr><br>
</blockquote>
or
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
== Title == myLabel
</pre>
</div>
</div>
The current section was introduced with:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
=/ Section references = sectionRef
</pre>
</div>
</div>
so you can reference the sections as follows:

<table class="hmlTable">
<tr><td valign="top">	<nobr><code>{section&nbsp;sectionRef}</code></nobr></td><td valign="top">	evaluates to</td><td valign="top"> <a href="#sectionRef">Section 21.1</a>
</td></tr>
<tr><td valign="top">	<nobr><code>{section-number&nbsp;sectionRef}</code></nobr></td><td valign="top">	evaluates to</td><td valign="top"> <a href="#sectionRef">21.1</a>
</td></tr>
<tr><td valign="top">	<nobr><code>[#sectionRef&nbsp;arbitrary&nbsp;text]</code></nobr></td><td valign="top">	evaluates to</td><td valign="top"> <a href="#sectionRef">arbitrary text</a>
</td></tr>
</table>

<a name="rollYourOwn"><h2>21.2.  Roll-your-own links</h2></a>
<p>
If you don't
like the visible text associated with
<nobr><code>{section&nbsp;...}</code></nobr>,
<nobr><code>{figure&nbsp;...}</code></nobr>,
<nobr><code>{table&nbsp;...}</code></nobr>,
<nobr><code>{listing&nbsp;...}</code></nobr>,
<nobr><code>{note&nbsp;...}</code></nobr>
links,
you can provide your own visible text with any of the standard link mechanisms.
For example, the current section is introduced using:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
=/ Roll-your-own Links = rollYourOwn
</pre>
</div>
</div>
and you could also use 
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1 label="rollYourOwn"&gt;Roll-your-own Links &lt;/h1&gt;
</pre>
</div>
</div>
Consequently, you can create a link using <nobr><code>[#rollYourOwn&nbsp;the&nbsp;current&nbsp;section]</code></nobr>, which displays as
<a href="#rollYourOwn">the current section</a>.
<p>
Note that the link has to start with a hash mark, since it refers to a section within the current file. This is an HTML requirement.
Internal links (introduced with a #) don't
put a <nobr><code>target=&quot;_blank&quot;</code></nobr> in the resulting HTML,
so the browser just repositions the current page to the specified location.
External links (without the <nobr><code>#</code></nobr>) cause a new page (typically in a new tab) to be displayed in the browser.
<p>
The <nobr><code>[</code></nobr>&hellip;<nobr><code>]</code></nobr> is just HML shorthand for a link, and you can use raw HTML if you like. This HTML
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;a href="rollYourOwn"&gt;the current section&lt;/a&gt;.
</pre>
</div>
</div>
works just like the earlier example.<a name="hmlIndex-91-5"></a>
<a name="userMacro"><h1>22.  User-defined macros (<nobr><code>&lt;</code></nobr><nobr><code>macro&gt;...&lt;</code></nobr><nobr><code>/macro&gt;</code></nobr>)</h1></a>
<p>
Use a <nobr><code>&lt;macro&gt;</code></nobr> element to define your own macros.
Define one macro per line, with the text to expand on the left, and the replacement text on the right:
<p>
For example, this block:
<blockquote class="hmlBlock">
<nobr><code>&lt;macro&gt;</code></nobr><br>
<nobr><code>|my&nbsp;web&nbsp;site|&lt;a&nbsp;href=&quot;http://www.holub.com&quot;&nbsp;target=&quot;_blank&quot;&gt;my&nbsp;web&nbsp;site&lt;/a&gt;|</code></nobr><br>
<nobr><code>&lt;/macro&gt;</code></nobr><br>
<nobr><code>On&nbsp;my&nbsp;web&nbsp;site.</code></nobr><br>
</blockquote>
defines a macro and then expands that macro.
(The macro replaces every instance of the phrase "my web site" with a hyperlink to my web site).
The previous example displays as:

<blockquote class="hmlBlock">
On <a href="http://www.holub.com" target="_blank">my web site</a>.<br>
</blockquote>
<p>
The HML processor reads all <nobr><code>&lt;</code></nobr><nobr><code>macro&gt;</code></nobr> elements in the file, and then makes a
single pass through the file and expands all the macros from all the blocks.
It expands macros in the order you defined them.
HML expands user macros before predefined macros,
so your expansion text can contain any of these other macro types,
or even redefine a predefined macro. The following works fine
(it replaces <nobr><code>&quot;</code></nobr><nobr><code>&quot;</code></nobr><nobr><code>&quot;abc&quot;</code></nobr><nobr><code>&quot;</code></nobr><nobr><code>&quot;</code></nobr> with <em>abc</em> using the
predefined <nobr><code>{</code></nobr><nobr><code>i&nbsp;}</code></nobr> macro. (Syntax explained in next section):
<blockquote class="hmlBlock">
<nobr><code>&lt;</code></nobr><nobr><code>macro&gt;</code></nobr><br>
<nobr><code>|&quot;&quot;&quot;([A-Za-z]+)&quot;&quot;&quot;|{</code></nobr><nobr><code>i&nbsp;$1}|</code></nobr><br>
<nobr><code>&lt;</code></nobr><nobr><code>/macro&gt;</code></nobr><br>
</blockquote>
<p>
Macros are expanded before most other tags are processed,
so you can redefine any of the predefined macros, or even
tags like <nobr><code>&lt;listing&gt;</code></nobr>, to do something else.
For example, The default <nobr><code>=&nbsp;text&nbsp;=</code></nobr> macro actually expands to <nobr><code>&lt;h1&gt;&nbsp;text&nbsp;&lt;/h1&gt;</code></nobr>.
The normal <nobr><code>&lt;h1&gt;...&lt;/h1&gt;</code></nobr> processing
(which occurs after the macros are handled) does the actual work.
<p>
The one exception to this rule are <nobr><code>&lt;</code></nobr><nobr><code>import&gt;</code></nobr> and <nobr><code>&lt;</code></nobr><nobr><code>include&gt;</code></nobr>
statements, which are processed before any macros are processed.
This processing order makes it possible
to import custom-macro-definition files
(that contain <nobr><code>&lt;</code></nobr><nobr><code>macro&gt;</code></nobr> statements),
but you can't write a macro that redefines what <nobr><code>&lt;</code></nobr><nobr><code>import&gt;</code></nobr> does.
<p>
Macros are processed in definition order,
and are processed only once, from the top to the bottom of the document.
Consequently, it can be risky for a user macro to expand to another user macro,
because it's sometimes difficult to know which of the two will
be processed first.  Circular or recursive definitions won't work either.

<a name="codeMacro"><h2>22.1.  Macro categories</h2></a><a name="hmlIndex-91-6"></a><a name="hmlIndex-172-1"></a><a name="hmlIndex-173-1"></a><a name="hmlIndex-174-1"></a>
In general, macros expand only in the text portion of your document;
they aren't expanded in <nobr><code>&lt;listing&gt;</code></nobr> or <nobr><code>&lt;pre&gt;</code></nobr> blocks. You can, however
define a macro that <em>will</em> expand in the code (but not in the text!) by adding a
<nobr><code>code:</code></nobr> prefix to the macro definition.
For example, the following macro causes all of the
keywords in Java to be surround with a <nobr><code>&lt;span&nbsp;class=&quot;hmlKeyword&quot;&gt;</code></nobr> element.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;macro&gt;
code:'(?&lt;=\b)(\
    abstract|assert|boolean|break|byte|case|catch|char|class|const \
    |continue|default|do|double|else|enum|extends \
    |final|finally|float|for|goto|if|implements|import|instanceof \
    |int|interface|long|native|new|package|private|protected \
    |public|return|short|static|strictfp|super|switch|synchronized \
    |this|throw|throws|transient|try|void|volatile|while|true|false|null)(?=\b) \
    '&lt;span class="hmlKeyword"&gt;$1&lt;/span&gt;'
&lt;macro&gt;
</pre>
</div>
</div>
This macro expands only within code blocks (<nobr><code>&lt;pre&gt;</code></nobr> and <nobr><code>&lt;listing&gt;</code></nobr> elements).
It won't impact normal text or code snippets.
<p>
The backslash at the end of the line is a line-continuation indicator that tells the
code that's loading the macro to concatenate the following line with the current line.
This way you can put very-long macro definitions on multiple lines. The backslash
and all surround white space (including space at the beginning of the next line) is
ignored. This mechanism is supported only in macro definitions.

<div class="pending">
Two additional macro categories are supported:
<table class="hmlTable">
<tr><td valign="top"> <nobr><code>snippet:</code></nobr></td><td valign="top"> macros that are active only in code snippets
</td></tr>
<tr><td valign="top"> <nobr><code>ref:</code></nobr></td><td valign="top"> macros that are active only an a reference-expansion pass that occurs very late in processing.
</td></tr>
</table>
<p>
At present, you can define <nobr><code>snippet:</code></nobr> and <nobr><code>ref:</code></nobr> macros, but your definitions are ignored.
</div><a name="hmlIndex-91-7"></a><a name="hmlIndex-91-8"></a>
<a name="macroFileFormat"><h2>22.2.  Defining macros</h2></a>
<p>
Default-macros (in <em>hml.macros</em>, <a href="#hml.macros">Listing 3</a>)
and user-defined macros are both created
using the same syntax.  The syntax is more complicated than the previous
section would lead you to believe, but as long as you're doing something
simple, you can ignore the complexity. The one thing you can't ignore is
that there are a few special characters that have to be treated specially.<a name="hmlIndex-91-9"></a>
Every macro definition takes the form:

<blockquote class="hmlBlock">
<strong>'</strong><em>text-to-replace</em><strong>'</strong><em>replacement-text</em><strong>'</strong><em>optional-flags</em><br>
</blockquote>
<p>
The first character on the line is a delimiter that separates the three pieces
of the definition,
and can be any character of your choosing
(except a space or tab). You can restate the above example as:

<blockquote class="hmlBlock">
<strong>/</strong><em>text-to-replace</em><strong>/</strong><em>replacement-text</em><strong>/</strong><em>optional-flags</em><br>
</blockquote>
<p>
Just pick a character that's not otherwise used in the definition.
Here's a macro that replaces the text <nobr><code>ytr</code></nobr> with the phrase <nobr><code>Yours&nbsp;truly</code></nobr>:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
/ytr/Your's truly/
</pre>
</div>
</div>
<p>
Here's another example that uses the <nobr><code>&lt;head&gt;</code></nobr> element (<a href="#headElement">Section 27</a>)
to define a new CSS style, and then a macro to define an HTML-like tag
for notes to an editor. This way, you can put a note to an editor into a document
by adding a
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;NB&gt;Note to the editor goes here&lt;/NB&gt;
</pre>
</div>
</div>
in the document. The note displays like this:
<div class="NB">Note to editor goes here</div>
<p>
Here's the input that implements that mechanism:
<div class="hmlBox">
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;head&gt;
    &lt;style&gt;
        .NB { border: 1px solid red; color: red;
              margin: 1em 1em 1em 1em; width:100%;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;macro&gt;
'&lt;NB&gt;'&lt;div class="NB"&gt;'
'&lt;/NB&gt;'&lt;/div&gt;'
&lt;/macro&gt;
</pre>
</div>
</div>
</div><a name="hmlIndex-91-10"></a>
The following characters have special meanings in the <em>text-to-replace</em> section:

<table class="hmlTable">
<tr><td valign="top"> Character</td><td valign="top"> Do the following to take away special meaning
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top">	<nobr><code>.</code></nobr></td><td valign="top">	<nobr><code>\.</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>+</code></nobr></td><td valign="top">	<nobr><code>\+</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>*</code></nobr></td><td valign="top">	<nobr><code>\*</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>?</code></nobr></td><td valign="top">	<nobr><code>\?</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>^</code></nobr></td><td valign="top">	<nobr><code>\&amp;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>$</code></nobr></td><td valign="top">	<nobr><code>\$</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>|</code></nobr></td><td valign="top">	<nobr><code>\|</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>{</code></nobr></td><td valign="top">	<nobr><code>\{</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>}</code></nobr></td><td valign="top">	<nobr><code>\}</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>[</code></nobr></td><td valign="top">	<nobr><code>\[</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>]</code></nobr></td><td valign="top">	<nobr><code>\]</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>(</code></nobr></td><td valign="top">	<nobr><code>\(</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>)</code></nobr></td><td valign="top">	<nobr><code>\)</code></nobr>
</td></tr>
<tr><td valign="top">	<code>\</code></td><td valign="top">	<code>\\</code>
</td></tr>
</table>
<p>
and the following characters have special meaning in the <em>replacement-text</em> section:

<table class="hmlTable">
<tr><td valign="top"> Character</td><td valign="top"> Do the following to take away special meaning
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top">	<nobr><code>&amp;</code></nobr></td><td valign="top">	<nobr><code>\&amp;</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>$</code></nobr></td><td valign="top">	<nobr><code>\$</code></nobr>
</td></tr>
<tr><td valign="top">	<nobr><code>%</code></nobr></td><td valign="top">	<nobr><code>\%</code></nobr>   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<em>Unique to HML</em>)
</td></tr>
</table>
<p>
Either avoid these characters altogether or used the escaped (backslash-prefixed) forms unless you really know what you're doing.
The <em>text-to-replace</em> is actually something called a <em>regular expression</em>. (See <a href="#regex">Section 22.2.1</a>.)<a name="hmlIndex-91-11"></a><a name="hmlIndex-5-4"></a>
The HML processor ignores: 
<ul>
<li> Lines that begin with a <nobr><code>#</code></nobr>
</li>
<li> All text that follows a <nobr><code>##</code></nobr>
</li>
<li> Whitespace at the very beginning or end of a line. You can't use whitespace as a delimiter.
</li>
</ul><a name="hmlIndex-182-1"></a><a name="hmlIndex-183-1"></a>
<a name="regex"><h3>22.2.1.  Regular expressions</h3></a>

<div class="hmlBox">
Warning&mdash;this section is complicated, and only important if you plan to write complicated
macros. Skip it if that's not the case.
</div>
<p>
As mentioned earlier, the <em>text-to-replace</em> part of the macro definition is actually something called a <em>regular expression</em>. In fact, the characters with special meaning mentioned in the previous section all have meaning in a regular expression. To display a special character as itself, precede them it with a backslash ('\') to suppress its special meaning.
A full discussion of regular expressions is beyond the scope of this document<span class="hmlNote"><a name="hmlRef-178" id="hmlRef-178" href="#hmlNote178">*</a></span>,
Here's the gist:
<p>
Think of a regular expression as a sequence of characters.
For example, the regular expression <em>abc</em> matches the sequence
<em>a</em>, followed by
<em>b</em>, followed by
<em>c</em>.
<p>
A <nobr><code>.</code></nobr> matches any character, so the expression <nobr><code>c.t</code></nobr> matches <nobr><code>cat</code></nobr>, <nobr><code>cut</code></nobr>, and any other three-letter sequence that begins
with <nobr><code>c</code></nobr> and ands with <nobr><code>t</code></nobr>.
<p>
A <nobr><code>*</code></nobr> says "match the previous character zero or more times.
So, the expression <nobr><code>&lt;.*&gt;</code></nobr> matches a less-than symbol, followed by zero or more characters, followed by a greater-than symbol.
It would match <nobr><code>&lt;&gt;</code></nobr>, <nobr><code>&lt;a&gt;</code></nobr>, <nobr><code>&lt;abc&gt;</code></nobr>, and so forth.
<p>
Note that the <nobr><code>*</code></nobr> doesn't work like the <nobr><code>*</code></nobr> that many operating systems use to identify sets of files.
For example, operating systems typically take <nobr><code>*.txt</code></nobr> to mean all names that end in <nobr><code>.txt</code></nobr>.
That's not a legal regular expression, because the <nobr><code>.</code></nobr> means &ldquo;any&rdquo; character" and the <nobr><code>*</code></nobr>
means &ldquo;the previous character repeated any number of times&rdquo; to the
regular-expression processor. (In the case of <nobr><code>*.txt</code></nobr>, there is no "previous character.")
You express the operating-system-style <nobr><code>*.txt</code></nobr> as the regular expression <nobr><code>.*\.txt</code></nobr>
(any character repeated zero or more times followed by a literal dot&mdash;the backslash
takes away the special meaning of the dot&mdash;followed by <nobr><code>txt</code></nobr>).
<p>
In addition to <nobr><code>*</code></nobr>, you can also use <nobr><code>+</code></nobr> (the previous character repeated one or more times)
and <nobr><code>?</code></nobr> (the previous character repeated zero or one times).
Our earlier <nobr><code>.*\.txt</code></nobr> actually recognizes the string <nobr><code>.txt</code></nobr>, with nothing to the
left of the dot. We should probably restate it as <nobr><code>.+\.txt</code></nobr> to require at least one character
to the left of the dot.
<p>
The default behavior of <nobr><code>.*</code></nobr> uses something called <em>greedy matching</em>,
which means that the regular-expression system finds the longest possible
input string that would match the expression. The earlier expression,
<nobr><code>&lt;.*&gt;</code></nobr>, when presented with the input
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;abc&gt; &lt;def&gt; &lt;ghi&gt;
</pre>
</div>
</div>
matches the entire input string (from the <nobr><code>&lt;a</code></nobr> to the <nobr><code>i&gt;</code></nobr>),
because the <nobr><code>.</code></nobr> in the regular expression <em>could</em> match '&gt;', so the longest
possible matching input is everything from the first <nobr><code>&lt;</code></nobr> up to and including the last <nobr><code>&gt;</code></nobr> (to
the right of the <nobr><code>i</code></nobr>).
<p>
Since the dot often matches too many characters, you can use
brackets to indicate a limited set of characters that can be matched.
For example, <nobr><code>[abc]</code></nobr> matches the single character <nobr><code>a</code></nobr>, <nobr><code>b</code></nobr>, or <nobr><code>c</code></nobr>, but nothing else.
Something like <nobr><code>ca[rt]</code></nobr> matches <nobr><code>cat</code></nobr> or <nobr><code>car</code></nobr>, but nothing else.
Specify a range of characters using a dash, for example
<nobr><code>[a-z]</code></nobr> represents all lower-case letters and <nobr><code>[0-9]</code></nobr> represents all digits.
<nobr><code>[a-zA-Z]</code></nobr> has two ranges, and represents all upper- and lower-case letters.
This bracket-delimited set of characters is called a <em>character class</em>.
<p>
The <nobr><code>*</code></nobr>, <nobr><code>+</code></nobr>, and <nobr><code>?</code></nobr> operators can operate on an entire character class, too. 
For example, the following expression recognizes only those text-file names that are made up of upper-case letters:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
[A-Z]+\.TXT
</pre>
</div>
</div>
The <nobr><code>+</code></nobr> operates on the entire character class <nobr><code>[A-Z]</code></nobr>, so the sub-expression means
"one or more characters in the range A to Z."
<p>
The replacement text in the second part of the macro definition uses special characters as well,
For example, an <nobr><code>&amp;</code></nobr> in the replacement text represents all the characters that matched the
regular expression.
The following expression replaces all occurrences of my name with a link to my web site:
<blockquote class="hmlBlock">
<nobr><code>|Allen&nbsp;Holub|[http:/</code></nobr><nobr><code>/www.holub.com&nbsp;&amp;]</code></nobr><br>
</blockquote>
The macro expands to the HML markup for a link (<nobr><code>[url&nbsp;visible-text]</code></nobr>),
and the <nobr><code>&amp;</code></nobr> on the right is replaced by the text that
matched the regular expression on the left (<nobr><code>Allen&nbsp;Holub</code></nobr>).
<p>
Use parentheses to group input sequences. For example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
(abc)+
</pre>
</div>
</div>
recognizes
<blockquote class="hmlBlock">
abc<br>
abcabc<br>
abcabcabc<br>
&hellip;<br>
</blockquote>
You can also reference a particular
group in the replacement text by using a <nobr><code>$</code></nobr> followed by a group number.
Groups are numbered by the position of the open parenthesis,
counting from left to right, with the leftmost group numbered as <nobr><code>$1</code></nobr>.
For example, in
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
/==&gt;(.*)&lt;==/&lt;span style="font-size:14pt;"&gt;$1&lt;/span&gt;/
</pre>
</div>
</div>
"group 1" comprises all characters contained in the first set of parentheses (<nobr><code>.*</code></nobr>),
and those characters are inserted into the replacement text in place of the <nobr><code>$1</code></nobr>.
This particular macro
puts all characters between the <nobr><code>==&gt;</code></nobr> and <nobr><code>&lt;==</code></nobr> into 14-point type.
The HML processor replaces the input
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
==&gt;BIG&lt;==
</pre>
</div>
</div>
with
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
`&lt;span style="font-size:14pt;"&gt;BIG&lt;/span&gt;`
</pre>
</div>
</div>
What if we wanted to specify the font size? The following macro has two groups:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
'([0-9]+)==&gt;(.*)&lt;=='&lt;span style="font-size:$1pt;"&gt;$2&lt;/span&gt;'
</pre>
</div>
</div>
The first one is a sequence of one or more digits (<nobr><code>([0-9]+)</code></nobr>) and is represented
by <nobr><code>$1</code></nobr> in the replacement text.
The second group is the zero or more characters inside the arrows (<nobr><code>(.*)</code></nobr>)
and is represented by <nobr><code>$2</code></nobr> in the replacement text.
So, in
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
36==&gt;Really big&lt;==
</pre>
</div>
</div>
the HML processor replaces <nobr><code>$1</code></nobr> with <nobr><code>36</code></nobr> and <nobr><code>$2</code></nobr> with <nobr><code>Really&nbsp;Big</code></nobr>, yielding:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;span style="font-size:36pt;"&gt;Really Big&lt;/span&gt;
</pre>
</div>
</div>
which prints as

<span style="font-size:36pt;">Really big</span>.
<p>
There a few more loose ends. You can use a vertical bar (<nobr><code>|</code></nobr>) to indicate an "or" operation.
The expression
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
(dog|cat)
</pre>
</div>
</div>
recognizes either <em>dog</em> or <em>cat</em>
Also, a <nobr><code>^</code></nobr> indicates "beginning of line" and <nobr><code>$</code></nobr> indicates end of line, so
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
^cat
</pre>
</div>
</div>
recognizes <nobr><code>cat</code></nobr> only if it's the first thing on the line;
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
dog$
</pre>
</div>
</div>
recognizes <nobr><code>dog</code></nobr> only if it's the last thing on the line, and
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
 
^cow$
</pre>
</div>
</div>
recognizes <nobr><code>cow</code></nobr> only if it's the only thing on the line.
If you use the <nobr><code>^</code></nobr> or <nobr><code>$</code></nobr> in a macro definition, you must specify a <nobr><code>MULTILINE</code></nobr> flag as well.
For example:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;macro&gt;
    '^foo'Foo`MULTILINE
&lt;/macro&gt;
</pre>
</div>
</div>
replaces <nobr><code>foo</code></nobr> at the beginning of the line with <nobr><code>Foo</code></nobr>. The <nobr><code>MULTILINE</code></nobr> flag is required for the <nobr><code>^</code></nobr> to be recognized.
<p>
That's all I'll be saying about regular expressions, but this discussion barely touches the surface.
You should really read up on the subject if you want to do anything more complicated than what I've just described.
See <a href="#hmlNote178">the notes</a> for suggestions. HML uses 
<a target="_blank" href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html">Java-style regular expressions</a>, and there's
additional information about HML-specific processing in a comment at the top of the
default <em>hml.macros</em> file (<a href="#hml.macros">Listing 3</a>).<a name="hmlIndex-184-1"></a><a name="hmlIndex-185-1"></a><a name="hmlIndex-186-1"></a><a name="hmlIndex-187-1"></a>


<a name="advanced-code"><h1>23.  Advanced code handling: <code>`code`</code>, <nobr><code>&lt;listing&gt;</code></nobr>, and <nobr><code>&lt;pre&gt;</code></nobr></h1></a>
<p>
As mentioned earlier,
code is handled differently from the
everything else in your document. 
None of the standard HML mechanisms described elsewhere in this document
apply to code blocks.
Standard macros don't expand in code blocks, for example.
In fact, you can use code snippets and blocks to document both HML and HTML. 
<p>
For the most part, code appears exactly the same in the output as it looks in the input.

<a name="hmlContents39"><h2>23.1.  Explicit code blocks (<nobr><code>&lt;listing&gt;</code></nobr>, <nobr><code>&lt;pre&gt;</code></nobr>)</h2></a>
<p>
{index <nobr><code>&lt;listing&gt;</code></nobr>)
{index <nobr><code>&lt;pre&gt;</code></nobr>)<a name="hmlIndex-37-2"></a>
The <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> elements both designate code blocks. 
(The comma-introduced lines described in <a href="#easy-code">Section 10</a> map to a <nobr><code>&lt;pre&gt;</code></nobr> block.)
All code blocks are handled in much the same way. In fact,
both <nobr><code>&lt;pre&gt;</code></nobr> and <nobr><code>&lt;listing&gt;</code></nobr> become HTML <nobr><code>&lt;pre&gt;</code></nobr> elements in the output (surrounded by a bunch of other markup,
discussed in <a href="#stylingCode">Section 28.1</a>).
The only real difference is that line numbers are added to the contents of
<nobr><code>&lt;listing&gt;</code></nobr>, but not to <nobr><code>&lt;pre&gt;</code></nobr>, elements.
<p>
As is the case with other HTML pseudo elements,
any attributes that you specify in the tag that aren't meaningful to the
tag itself are passed through to the underlying HTML, and your own styles
preempt the default styles.
For example, you could style your code and add an id with:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;listing class="myClass" id="myID"&gt;
</pre>
</div>
</div>
If you look at the HML processor's output, you'll see that <nobr><code>&lt;listing&gt;</code></nobr>
and <nobr><code>&lt;pre&gt;</code></nobr> are actually translated into a set of several
nested <nobr><code>&lt;div&gt;</code></nobr> elements, but the attribute you specify in the input transfers to the innermost generated <nobr><code>&lt;pre&gt;</code></nobr> element, which holds the actual code. (The other <nobr><code>&lt;div&gt;</code></nobr> elements surround the line-number column at the left, and group that column together with the associated code. See <a href="#stylingCode">Section 28.1</a> for more information.)<a name="hmlIndex-37-3"></a>
<a name="hmlContents40"><h2>23.2.  Substitutions Within listings (<nobr><code>&amp;&nbsp;&lt;&nbsp;&gt;&nbsp;!&lt;...&gt;!&nbsp;!{...}!&nbsp;//!</code></nobr>) )</h2></a>
<p>
The following substitutions are made everywhere in <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> elements.
(With the exception of <nobr><code>//!</code></nobr>,
these substitutions are actually done with <nobr><code>code:</code></nobr> macros defined in
<em>$CONFIG/hml.macros</em>, so you can redefine or remove them if you like.
See <a href="#codeMacro">Section 22.1</a> and <a href="#hml.macros">Listing 3</a>.)

<table-title label="listingSubs">Substitutions in Listings<table-title>
<table border="1" cellspacing="0" cellpadding="4">
<tr><td valign="top"> 
<nobr><code>#&nbsp;comment</code></nobr><br>
<nobr><code>##&nbsp;comment</code></nobr><br>
<nobr><code>/*&nbsp;comment&nbsp;*/</code></nobr><br>
<nobr><code>/*&nbsp;*/</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;comment</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//</code></nobr><br>
<nobr><code>f();&nbsp;//&nbsp;</code></nobr> 
</td><td valign="top">
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre style="position:relative; top:-1em; left: -2.5em;" class="hmlPre">
<span class="hmlComment"># comment</span>
<span class="hmlComment">## comment</span>
<span class="hmlComment">/* comment */</span>

     <span class="hmlComment">// comment</span>
     <span class="hmlComment">//</span>
f();
</pre>
</div>
</div>
</td><td valign="top">
Comments<a name="hmlIndex-5-5"></a><a name="hmlIndex-88-2"></a><a name="hmlIndex-192-1"></a>
are styled specially, and empty comments are discarded, with the one exception of an
empty to-end-of-line comment that's alone on the line, which is preserved so that you can do this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// A comment.</span>
<span class="hmlComment">//</span>
<span class="hmlComment">// More of the comment.</span>
</pre>
</div>
</div>
These comment conventions handle the majority
of common programming languages (bash, ksh, C, C++, C#, Java, Ruby, Python, etc).
<p>
The <nobr><code>#</code></nobr> must be followed by another <nobr><code>#</code></nobr>, a space, dash, equal sign, or be at the end of the line to be
recognized as a comment, and it must not be preceded by an ampersand;
otherwise, it's treated as a normal character. You can change the regular expession used to
recognize comments if these rules aren't to your liking or
if you want to support the conventions of another language (see <a href="#comment-config">Appendix A</a>).
</td></tr>

<tr><td valign="top"><nobr><code>/***&nbsp;</code></nobr><em>text</em><nobr><code>&nbsp;*/</code></nobr>	
</td><td valign="top">
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre style="position:relative; top:-1em; left: -2.5em;" class="hmlPre">
<span class="hmlComment">/**...*/</span>
</pre>
</div>
</div>
</td><td valign="top">Javadoc comments that start with three or more stars are elided, and display exactly as shown at left.
</td></tr>

<tr><td valign="top"><nobr><code>&amp;</code></nobr>			</td><td valign="top">	<nobr><code>&amp;amp;</code></nobr>		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top"><nobr><code>&lt;</code></nobr>			</td><td valign="top">	<nobr><code>&amp;lt;</code></nobr>		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top"><nobr><code>&gt;</code></nobr>			</td><td valign="top">	<nobr><code>&amp;gt;</code></nobr>		</td><td valign="top"> &nbsp; </td></tr>
<tr><td valign="top"><nobr><code>!&lt;...&gt;!</code></nobr>	</td><td valign="top">	<nobr><code>&lt;...&gt;</code></nobr>		</td><td valign="top"> In a listing or pre block only (not in a &lsquo;&hellip;&lsquo; code snippet), <nobr><code>!&lt;</code></nobr> and <nobr><code>&gt;!</code></nobr> expand
				to <nobr><code>&lt;</code></nobr> and <nobr><code>&gt;</code></nobr>. Without the eclamation points, they'd be converted to <nobr><code>&amp;lt;</code></nobr> and <nobr><code>&amp;gt;</code></nobr>.
				Use this mechanism to put HTML markup into comments.
				For example, this input:
				<blockquote class="hmlBlock">
<nobr><code>&lt;pre&gt;</code></nobr><br>
				<nobr><code>foo();&nbsp;//&nbsp;call&nbsp;foo&nbsp;!&lt;b&gt;!!&lt;u&gt;!NOW!&lt;/u&gt;!!&lt;/b&gt;!</code></nobr><br>
				<nobr><code>&lt;/pre&gt;</code></nobr><br>
</blockquote>
				displays as
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
foo(); <span class="hmlComment">// call foo <b><u>NOW</u></b></span>
</pre>
</div>
</div>
</td></tr>
<tr><td valign="top"><nobr><code>!&amp;infin;</code></nobr> </td><td valign="top">	&infin;	 </td><td valign="top">
						In a listing or pre block only (not in a &lsquo;&hellip;&lsquo; code snippet),
						the leading <nobr><code>!</code></nobr> suppresses the normal conversion of ampersands to <nobr><code>&amp;amp;</code></nobr> entities.
						Use this mechanism to put HTML entities into your comments.
						For example:
						<blockquote class="hmlBlock">
<nobr><code>&lt;pre&gt;</code></nobr><br>
						<nobr><code>()=&gt;(&nbsp;z+q&nbsp;)&nbsp;//&nbsp;A&nbsp;!&amp;#923;&nbsp;function</code></nobr><br>
						<nobr><code>&lt;/pre&gt;</code></nobr><br>
</blockquote>
						displays as
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
()=&gt;( z+q ) <span class="hmlComment">// A !&#923; function</span>
</pre>
</div>
</div>						Html entities are treated as a single character for purposes of tab expansion.
</td></tr>
<tr><td valign="top">
<blockquote style="margin-left:0in;" class="hmlBlock">
<nobr><code>-----</code></nobr><br>
	<nobr><code>//!&nbsp;&lt;div&nbsp;style=&quot;border:1px&nbsp;solid&nbsp;red;&quot;&gt;</code></nobr><br>
	<nobr><code>hello();</code></nobr><br>
	<nobr><code>//!&nbsp;&lt;/div&gt;</code></nobr><br>
	<nobr><code>-----</code></nobr><br>
	<nobr><code>&nbsp;</code></nobr><br>
	<nobr><code>-----</code></nobr><br>
	<nobr><code>#!&nbsp;&lt;div&nbsp;style=&quot;border:1px&nbsp;solid&nbsp;red;&quot;&gt;</code></nobr><br>
	<nobr><code>print&nbsp;&apos;hello&apos;</code></nobr><br>
	<nobr><code>#!&nbsp;&lt;/div&gt;</code></nobr><br>
	<nobr><code>-----</code></nobr><br>
</blockquote>
</td><td valign="top">
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre style="margin-left: -2.5em;" class="hmlPre">
-----
<div style="border:1px solid red;">hello();
</div>-----




-----
<div style="border:1px solid red;">print 'hello'
</div>-----
</pre>
</div>
</div>
</td><td valign="top"><a name="hmlIndex-193-1"></a><a name="hmlIndex-37-4"></a>
	<a name="bang-comment"></a>
	<p>
	The sequence <nobr><code>#!</code></nobr> (for you Ruby/Python programmers)
	works exactly the same way as <nobr><code>//!</code></nobr>.
	<p>
	This comment style forms a "bang comment."
	The mechanism is handy for doing things like highlighting a block of several lines of code.
	<p>
	The three-character sequence <nobr><code>//!</code></nobr> (a single-line comment) is removed from the input,
	but all text to its right remains in place untouched.
	In the example at left, the <nobr><code>&lt;div&gt;</code></nobr> element remains in the output exactly as shown.
	The <nobr><code>&lt;</code></nobr> and <nobr><code>&gt;</code></nobr> are not mapped to entities, for example. 
	<p>
	If there's nothing but white space to the left of the bang comment,
	then the newline at the <em>end</em> of the comment line is removed as well.
	In other words, if the bang comment is alone on the line, the HTML in the bang comment is effectively prefixed to the line that follows 
	the comment line.
	<p>
	This mechanism is different than <nobr><code>!&lt;...&gt;!</code></nobr> in a comment,
	which leaves the comment symbol in place and doesn't get rid
	of the newline. Compare the example at left to
	<blockquote class="hmlBlock">
<nobr><code>-----</code></nobr><br>
	<nobr><code>//&nbsp;!&lt;b&gt;!</code></nobr><br>
	<nobr><code>f();</code></nobr><br>
	<nobr><code>//&nbsp;!&lt;/b&gt;!</code></nobr><br>
	<nobr><code>-----</code></nobr><br>
</blockquote>
	which displays as
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
-----
<span class="hmlComment">// <b></span>
f();
<span class="hmlComment">// </b></span>
-----
</pre>
</div>
</div>
	Because bang comments can influence line numbering,
	they're handled by the HML processor itself, not by a <nobr><code>code:</code></nobr> macro (<a href="#codeMacro">Section 22.1</a>).
	Since <nobr><code>code:</code></nobr> macros are handled towards the end of listing processing&mdash;after the bang comments are processed---
	you can't define a macro that expands to a bang comment.
	</td></tr> 

</table>
<p>
Tab character are expanded as 4-space tabs. Tabs are expanded very early in the processing,
so the above substitutions won't effect the tab layout.
Also, the tab-expansion code treats a <nobr><code>!&lt;...&gt;!</code></nobr> block
as having no width&mdash;tabs are expanded as if it wasn't present.<a name="hmlIndex-5-6"></a><a name="hmlIndex-37-5"></a>
Comments in the code are surrounded by a span element:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;span class="hmlComment"&gt;<span class="hmlComment">// The comment<span style="color:black;"> &lt;/span&gt; </span></span>
&lt;span class="hmlComment"&gt;<span class="hmlComment">/*
* The comment
*/</span>&lt;/span&gt;
</pre>
</div>
</div>
The default CSS for <nobr><code>.hmlComment</code></nobr> formats the comment as shown, above, but you can change that in
a <nobr><code>&lt;style&gt;</code></nobr> element within a <nobr><code>&lt;head&gt;</code></nobr> element (<a href="#headElement">Section 27</a>) if you want.
<p>
A comment introduced with three slashes (<nobr><code>///&nbsp;comment</code></nobr>) is removed entirely from the input. 
This removal is done very early in the processing, so the comment shouldn't contain anything that's meaningful to HML.<a name="hmlIndex-197-1"></a><a name="hmlIndex-5-7"></a>
Generally, Javadoc comments are more clutter than anything else when you're writing about code. Consequently,
Javadoc comments are treated specially in one way: If the comment starts with three or more stars, it's elided in the output:
This input:
<blockquote class="hmlBlock">
<nobr><code>/******************************************************</code></nobr><br>
<nobr><code>&nbsp;*&nbsp;Long&nbsp;Javadoc&nbsp;comment</code></nobr><br>
<nobr><code>&nbsp;*&nbsp;&nbsp;&nbsp;etc.</code></nobr><br>
<nobr><code>&nbsp;*&nbsp;&nbsp;&nbsp;etc.</code></nobr><br>
<nobr><code>&nbsp;*&nbsp;&nbsp;&nbsp;etc.</code></nobr><br>
<nobr><code>&nbsp;*/</code></nobr><br>
<br>
<nobr><code>/**&nbsp;Normal&nbsp;Javadoc&nbsp;comment</code></nobr><br>
<nobr><code>&nbsp;*/</code></nobr><br>
</blockquote>
displays as:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">/**...*/</span>

<span class="hmlComment">/** Normal Javadoc comment
 */</span>
</pre>
</div>
</div>
<p>
Javadoc comments may not span <nobr><code>&lt;listing&gt;</code></nobr> or <nobr><code>&lt;pre&gt;</code></nobr> elements.
but that's pretty much the only restriction.

<a name="hmlContents41"><h2>23.3.  <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> Attributes</h2></a>
<p>
The <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> elements take several attributes:
<dl>
<dt>
	prefix="xxx"
</dt>
<dd>
	Specifies a string that can be used to disambiguate the various automatically generated references to class and method definitions
	(described in <a href="#autoTagging">Section 23.5.2</a>).
	For example, given
	<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;prefix=&quot;version2&quot;&gt;</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;Fred</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;f()[]</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;}</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
	Without a prefix attribute, a typical reference would look like
	<nobr><code>{#Fred}</code></nobr> (for the class) or <nobr><code>{#Fred.f}</code></nobr> (for the method).
	If you specify a <em>prefix="version2"</em>, then
	you would now have to say <nobr><code>{#version2.Fred}</code></nobr> (note the dot after "2")
	rather than <nobr><code>{#Fred}</code></nobr> and <nobr><code>{#version2.Fred.f}</code></nobr> rather than <nobr><code>{#Fred.f}</code></nobr>.
	This attribute is handy when you have several listings that have duplicate declarations	in a single document, as might
	be the case when you're describing different versions of the same code.
</dd>
<dt>file="xxx"</dt>
<dd>
	The file name (ideally the full path) for this listing.
	Line numbers continue from the previous listing for the
	same file rather than restarting at 1 if this attribute is specified.
</dd>

<dt>label="xxx"</dt>
<dd>
 	If specified, HML passes it through to any generated <nobr><code>&lt;listing-title&gt;</code></nobr> elements.
	If there's a <nobr><code>file=</code></nobr>, but no <nobr><code>label=</code></nobr>, then	the file name specified in the <nobr><code>file=</code></nobr> attribute
	(the last component in the full path if a full path is specified) is used for the label.
</dd>

<dt>title="xxx"</dt>
<dd>
 	If present, then a <nobr><code>&lt;listing-title&nbsp;...&gt;</code></nobr> element is generated just above the
 	current <nobr><code>&lt;listing&gt;</code></nobr> element. If the attribute value is an empty string (<nobr><code>title=&quot;&quot;</code></nobr>), as
 	compared to missing altogether, then the value of the <nobr><code>file=</code></nobr> attribute is used as the title. 
	The generated <nobr><code>&lt;listing-title&gt;</code></nobr> includes a <nobr><code>label=</code></nobr> attribute that is identical to the <nobr><code>&lt;listing&gt;</code></nobr>
	element's <nobr><code>label=</code></nobr> or, if the <nobr><code>label=</code></nobr> is missing, a <nobr><nobr><code>label=&quot;</code></nobr><code><em>file_name_from_file_argument</em></code><nobr><code>&quot;</code></nobr></nobr> is 
</dd>
</dl>
<p>
Defaults:
<table class="hmlTable">
<tr><td valign="top">	<b><u>Attribute</u></b></td><td valign="top">	<b><u>Default</u></b>
</td></tr>
<tr><td valign="top">	<nobr><code>file=&quot;</code></nobr><em>path</em><nobr><code>&quot;</code></nobr></td><td valign="top">	None. If missing, then no default <nobr><code>label=</code></nobr> or <nobr><code>title=</code></nobr> is generated.
</td></tr>
<tr><td valign="top">	<nobr><code>label=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr></td><td valign="top">	If the entire attribute is missing, use the file-name component of the <em>path</em> from the <nobr><code>file=&quot;</code></nobr><em>path</em><nobr><code>&quot;</code></nobr> attribute as the default label.
</td></tr>
<tr><td valign="top">	<nobr><code>title=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr></td><td valign="top">	If <em>text</em> is missing (e.g.,<nobr><code>title=&quot;&quot;</code></nobr>), use <em>path</em> for title. If attribute is missing altogether, don't generate <nobr><code>&lt;listing-title&gt;</code></nobr> element at all.
</td></tr>
</table><a name="hmlIndex-199-1"></a><a name="hmlIndex-87-3"></a><a name="hmlIndex-201-1"></a>
<a name="hmlContents42"><h2>23.4.  Automatic <nobr><code>&lt;listing-title&gt;</code></nobr> generation</h2></a>
<p>
The <nobr><code>&lt;listing-title&gt;</code></nobr> elements are sometimes generated automatically.
Here are the rules (with some examples in a moment):

<ul>
<li>	Whenever the <nobr><code>&lt;listing&gt;</code></nobr> tag has a <nobr><code>title=&quot;</code></nobr><code><em>ABC</em></code><nobr><code>&quot;</code></nobr> attribute,
	the HML processor creates a <nobr><code>&lt;listing-title&gt;ABC&lt;/listing-title&gt;</code></nobr>
	element immediately above the listing itself.
</li>
<li>	If there's a <nobr><code>label=</code></nobr> attribute, then that attribute is inserted into the generated title element.
</li>
<li>	If there's a <nobr><code>file=</code></nobr> attribute but no <nobr><code>label=</code></nobr>,
	then the file name (the rightmost component of the path) is used for the title's label.
</li>
<li>	If the title element is present, but empty (<nobr><code>&lt;listing&nbsp;file=&quot;</code></nobr><em>path</em><nobr><code>&quot;&nbsp;title=&quot;&quot;&gt;</code></nobr>),
	the file name is used for both the title text and the label.
</li>
</ul>
There must be a <nobr><code>title=</code></nobr> attribute (even an empty one like <nobr><code>title=&quot;&quot;</code></nobr> works)
in the <nobr><code>&lt;listing&gt;</code></nobr> tag for the title to be generated
automatically, and you must have a title to have a symbolic link to the entire listing.
The following
does not work.
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;file=&quot;/Users/allen/projects/hml/Listings4.java&quot;&gt;</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;code&nbsp;goes&nbsp;here...</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
	<nobr><code>{Listings4.java}</code></nobr> <strong>&larr; ERROR (No <nobr><code>title=</code></nobr> in <nobr><code>&lt;listing&gt;</code></nobr>, so no caption, so no label.)</strong><br>
</blockquote>
<p>
This behavior is necessary because you might want to pull in an untitled listing into your document
using an <nobr><code>&lt;include&gt;</code></nobr> tag.
The  <nobr><code>&lt;include&gt;</code></nobr> processing adds a <nobr><code>file=</code></nobr> attribute to the generated <nobr><code>&lt;listing&gt;</code></nobr> element, however.
If the system created a <nobr><code>title=</code></nobr> whenever a <nobr><code>file=</code></nobr> was present, then all included listings would be titled.
<p>
When the title is empty (<nobr><code>title=&quot;&quot;</code></nobr>), the generated title is just the file name,
not the entire path,
even if the entire path is passed in <nobr><code>listing</code></nobr>'s <nobr><code>file=&quot;</code></nobr><em>path</em><nobr><code>&quot;</code></nobr> attribute.
If that's not what you want,
just spell out the full path in a <nobr><code>title=&quot;/full/path/name/to/file.java</code></nobr> attribute.
<p>
Examples:

<div class="hmlBox">
This input
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;file=&quot;/Users/allen/projects/hml/</code></nobr><b><nobr><code>Listings1.java</code></nobr></b><nobr><code>&quot;&nbsp;title=&quot;Listing&nbsp;Support&nbsp;1&quot;&gt;</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;code&nbsp;goes&nbsp;here...</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
displays like this:
<p>
<div class="hmlListingTitle"><a name="Listings1.java"><span class="hmlTitle">Listing 23.1.</span> Listing Support 1</a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// code goes here...</span>
</pre>
</div>
</div>
<p>
and can be referenced using <nobr><code>{listing&nbsp;</code></nobr><b><nobr><code>Listings1.java</code></nobr></b><nobr><code>}</code></nobr>, which displays as <a href="#Listings1.java">Listing 23.1</a>,
or with <nobr><code>[#Listings1.java&nbsp;my&nbsp;text]</code></nobr>, which displays as <a href="#Listings1.java">my text</a>.
</div>

<div class="hmlBox">
This input
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;file=&quot;/Users/allen/projects/hml/Listings2.java&quot;&nbsp;title=&quot;Listing&nbsp;Support&nbsp;2&quot;&nbsp;</code></nobr><b><nobr><code>label=&quot;</code></nobr><i><nobr><code>MyLabel</code></nobr></i></b><nobr><code>&quot;&gt;</code></nobr><br>
	<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;code&nbsp;goes&nbsp;here...</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
displays like this
<blockquote>
<div class="hmlListingTitle"><a name="MyLabel"><span class="hmlTitle">Listing 23.2.</span> Listing Support 2</a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// code goes here...</span>
</pre>
</div>
</div>
</blockquote>
and can be referenced using <nobr><code>{listing&nbsp;</code></nobr><b><i><nobr><code>MyLabel</code></nobr></i></b><nobr><code>}</code></nobr>, which displays as <a href="#MyLabel">Listing 23.2</a>,
or with <nobr><code>[#MyLabel&nbsp;my&nbsp;text]</code></nobr>, which displays as <a href="#MyLabel">my text</a>.
</div>

<div class="hmlBox">
This input
<blockquote class="hmlBlock">
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;listing&nbsp;file=&quot;/Users/allen/projects/hml/</code></nobr><b><nobr><code>MyFile.java</code></nobr></b><nobr><code>&quot;&nbsp;title=&quot;&quot;&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;code&nbsp;goes&nbsp;here...</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;/listing&gt;</code></nobr><br>
</blockquote>
displays like this
<blockquote>
<div class="hmlListingTitle"><a name="MyFile.java"><span class="hmlTitle">Listing 23.3.</span> <em>MyFile.java</em></a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
    <span class="hmlComment">// code goes here...</span>
</pre>
</div>
</div>
</blockquote>
and can be referenced using <nobr><code>{listing&nbsp;</code></nobr><b><nobr><code>MyFile.java</code></nobr></b><nobr><code>}</code></nobr>, which displays as <a href="#MyFile.java">Listing 23.3</a>,
or with <nobr><code>[#MyFile.java&nbsp;my&nbsp;text]</code></nobr>, which displays as <a href="#MyFile.java">my text</a>.
</div>

<div class="hmlBox">
<nobr><code>&lt;listing&gt;</code></nobr> elements with no attributes just show the code and line numbers (without any sort of title).
You can create the <nobr><code>&lt;listing-title&gt;</code></nobr> element manually if you want to.
This input:
<blockquote class="hmlBlock">
<nobr><code>&lt;listing-title&nbsp;label=&quot;x&quot;&gt;Manual&nbsp;Title&lt;/listing-title&gt;</code></nobr><br>
	<nobr><code>&lt;listing&gt;</code></nobr><br>
	<nobr><code>//&nbsp;code&nbsp;goes&nbsp;here.</code></nobr><br>
	<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
displays like this:
<blockquote>
<div class="hmlListingTitle"><a name="x"><span class="hmlTitle">Listing 23.4.</span> Manual Title</a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// code goes here.</span>
</pre>
</div>
</div>
</blockquote>
and can be referenced using <nobr><code>{listing&nbsp;</code></nobr><b><nobr><code>x</code></nobr></b><nobr><code>}</code></nobr>, which displays as <a href="#x">Listing 23.4</a>,
or with <nobr><code>[#x&nbsp;my&nbsp;text]</code></nobr>, which displays as <a href="#x">my text</a>.

</div><a name="hmlIndex-202-1"></a><a name="hmlIndex-87-4"></a>
<a name="lineReferences"><h2>23.5.  Referencing listing lines in your document</h2></a>
<p>
The HML processor generates listing line numbers automatically, and you can reference these
line numbers symbolically in your document. That way, the references in the document change
automatically as the code changes. There are two ways to handle symbolic references.<a name="hmlIndex-204-1"></a><a name="hmlIndex-205-1"></a><a name="hmlIndex-37-6"></a><a name="hmlIndex-207-1"></a><a name="hmlIndex-208-1"></a><a name="hmlIndex-168-2"></a>
<a name="marks"><h3>23.5.1.  Manual tags</h3></a>
<p>
In any code block (but not a code snippet),
you can use <code>{=name}</code> to define a symbolic reference to a line (i.e., to "tag" the line).
Typically you'll put the tag in a comment.
You can then reference that tagged line in your text by name.
<p>
For example, this input
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;label=&quot;myFile.java&quot;&nbsp;title=&quot;Example&nbsp;Listing&quot;&gt;</code></nobr><br>
<nobr><code>public&nbsp;int&nbsp;f()</code></nobr><br>
<nobr><code>{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;return&nbsp;0;&nbsp;&nbsp;&nbsp;//&nbsp;{=&nbsp;myTag}</code></nobr><br>
<nobr><code>}</code></nobr><br>
<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
displays as follows (note that the tag is not displayed,
and since the comment holding the tag would be empty without it, the comment is removed as well):
<div class="hmlListingTitle"><a name="myFile.java"><span class="hmlTitle">Listing 23.5.</span> Example Listing</a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
<a name="f"></a>1<br>
2<br>
<a name="myTag"></a>3<br>
4<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
public int f()
{
    return 0;
}
</pre>
</div>
</div>
The tag (<nobr><code>{=&nbsp;myTag}</code></nobr>) works only in a code block, and can be expressed
with optional exclamation points (e.g., <nobr><code>!{=&nbsp;myTag}!</code></nobr>).<a name="hmlIndex-168-3"></a><a name="hmlIndex-211-1"></a><a name="hmlIndex-212-1"></a><a name="hmlIndex-213-1"></a>
In your document, you can reference the tag in several ways. (I'll explain these in depth in a moment):
<blockquote class="hmlBlock">
&hellip;<nobr><code>{listing&nbsp;myFile.java},&nbsp;line&nbsp;{#&nbsp;myTag}</code></nobr><br>
&hellip;<nobr><code>on&nbsp;line&nbsp;{#&nbsp;myTag}</code></nobr><br>
&hellip;<nobr><code>the&nbsp;</code></nobr>return<nobr><code>&nbsp;statement&nbsp;on&nbsp;{line&nbsp;myTag}</code></nobr><br>
&hellip;<nobr><code>[#&nbsp;the&nbsp;</code></nobr>return<nobr><code>&nbsp;statement]</code></nobr><br>
&hellip;<nobr><code>{:&nbsp;myTag}</code></nobr><br>
&hellip;<nobr><code>the&nbsp;</code></nobr>return<nobr><code>&nbsp;statement&nbsp;({ref&nbsp;myTag})</code></nobr><br>
&hellip;<nobr><code>the&nbsp;</code></nobr>return<nobr><code>&nbsp;statement&nbsp;({sref&nbsp;myTag})</code></nobr><br>
</blockquote>
which display as:
<blockquote class="hmlBlock">
&hellip;<a href="#myFile.java">Listing 23.5</a>, line <a href="#myTag">3</a><br>
&hellip;on line <a href="#myTag">3</a><br>
&hellip;the <nobr><code>return</code></nobr> statement on <a href="#myTag">line 3</a><br>
&hellip;<a href="#">the <nobr><code>return</code></nobr> statement</a><br>
&hellip;<a href="#myTag"><code>myTag</code></a><br>
&hellip;the <nobr><code>return</code></nobr> statement (<code>myTag</code> (<a href="#myFile.java">Listing 23.5</a>, <a href="#myTag">line 3</a>))<br>
&hellip;the <nobr><code>return</code></nobr> statement (<a href="#myTag"><code>myTag</code> (line 3)</a>)<br>
</blockquote>
The explicit references to <nobr><code>myTag</code></nobr> in the displayed version of the last
few examples make more sense when we look at auto-generated tags in <a href="#autoTagging">Section 23.5.2</a>.
Auto-generated tags are the class, interface, or field name, not arbitrary text.<a name="hmlIndex-214-1"></a>
The listing must have a <nobr><code>label=</code></nobr> attribute if you intend to use the
<nobr><code>{ref&nbsp;...}</code></nobr> or <nobr><code>{sref&nbsp;...}</code></nobr> references.
<p>
Though it doesn't make sense to use most of the line-number references
to discuss code in a <nobr><code>&lt;pre&gt;</code></nobr> (or comma-introduced) block,
which has no line numbering,
a link reference (<nobr><code>[#tag&nbsp;text]</code></nobr>) works just fine in a <nobr><code>&lt;pre&gt;</code></nobr> block.
<p>
The following reference syntax is recognized everywhere in the document, even
in code blocks.

<table class="hmlTable">
<tr><td valign="top"> <b><nobr><code>{:&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></b></td><td valign="top"><a name="hmlIndex-215-1"></a>evaluates to the name of the method as a hot link to the declaration.
		<p>
		This reference can also take an argument of sorts: All
		text that follows the <em>id</em> is inserted into the
		visible text following the id. This extra text can
		be separated from the text with a space (which is
		not added to the output), but any character that's
		not legal in a java identifier can also indicate the start of that extra text.
		For example, <nobr><code>{:&nbsp;x&nbsp;(...)}</code></nobr> (with a space) and <nobr><code>{:&nbsp;x(...)</code></nobr>} (without a space) display as <nobr><code>x(...)</code></nobr>.
		(an open parenthesis is not legal in an identifier).
		Hml doesn't handle method overloading, so specifying method types in the tag has no effect other than changing
		the visible text. The reference is to the last declaration processed.
		<p>
		As we saw earlier,
		the visible results of a <nobr><code>{:&nbsp;...}</code></nobr> reference can be surprising with manually marked lines.
		(Given <nobr><code>{=xxx}</code></nobr> on a listing line, <nobr><code>{:&nbsp;xxx}</code></nobr> evaluates to a link with the visible text <code>xxx</code>.)
		They make much more sense with automatically generated tags, discussed below.
		<p>
		The <nobr><code>{:&nbsp;label}</code></nobr> notation works just fine in a <nobr><code>&lt;pre&gt;</code></nobr> block (where no line numbers are present).
</td></tr>
<tr><td valign="top"> <b><nobr><code>{#&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></b></td><td valign="top"><a name="hmlIndex-216-1"></a> evaluates to the line number as a hot link to the declaration or marked line.
		Use this notation only for code in <nobr><code>&lt;listing&gt;</code></nobr> blocks (the line number is
		indeterminate in <nobr><code>&lt;pre&gt;</code></nobr> blocks).
</td></tr>
<tr><td valign="top"> <b><nobr><code>{line&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></b></td><td valign="top"><a name="hmlIndex-217-1"></a> like <nobr><code>{#&nbsp;id}</code></nobr> but evaluates to the phrase <em>line N</em>, where <em>N</em>
		is the line number on which <em>id</em> is found.
		Use this notation only for code in <nobr><code>&lt;listing&gt;</code></nobr> blocks (the line number is indeterminate
		in <nobr><code>&lt;pre&gt;</code></nobr> blocks).
</td></tr>
<tr><td valign="top"> <b><nobr><code>{ref&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></b></td><td valign="top"><a name="hmlIndex-213-2"></a> like <nobr><code>{#&nbsp;id}</code></nobr> but evaluates to the phrase <em>id (Listing X, line Y)</em>
		It's effectively shorthand for
		<blockquote class="hmlBlock">
<nobr><code>{:&nbsp;id}&nbsp;({listing&nbsp;foo},&nbsp;{line&nbsp;id})</code></nobr><br>
</blockquote>
		Where <em>foo</em> is the label associated with the <nobr><code>&lt;listing-title&nbsp;label=&quot;foo&quot;&gt;</code></nobr>
		element just above the current listing.  Any text following the <em>id</em> is put into
		the visible text of the hotlink, exactly like <nobr><code>{:&nbsp;foo()}</code></nobr>.
		Use this notation only for code in <nobr><code>&lt;listing&gt;</code></nobr> blocks
		(the line number is indeterminate in <nobr><code>&lt;pre&gt;</code></nobr> blocks).
</td></tr>
<tr><td valign="top"> <b><nobr><code>{sref&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></b></td><td valign="top"><a name="hmlIndex-212-2"></a> A short reference;
		like <nobr><code>{ref&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr>, but doesn't show the listing number. That is,
		<nobr><code>{ref&nbsp;foo()}</code></nobr> renders as <em>foo() (line X)</em>.
		Use this notation only for code in <nobr><code>&lt;listing&gt;</code></nobr> blocks
		(the line number is indeterminate in <nobr><code>&lt;pre&gt;</code></nobr> blocks).
</td></tr>
</table>

<a name="autoTagging"><h3>23.5.2.  Automatic tagging for Java source code</h3></a><a name="hmlIndex-220-1"></a><a name="hmlIndex-221-1"></a><a name="hmlIndex-222-1"></a>
If you're writing in Java, the HML processor recognizes class
and method definitions and automatically tags those lines. (Support for other languages
is high on the to-do list, but for now, Java is it.)
<p>
For example, this input
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&gt;</code></nobr><br>
<nobr><code>class&nbsp;ClassName</code></nobr><br>
<nobr><code>{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;f()</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;}</code></nobr><br>
<nobr><code>}</code></nobr><br>
<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
<p>
displays as

<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
<a name="ClassName"></a>1<br>
2<br>
<a name="ClassName.f"></a>3<br>
4<br>
5<br>
6<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
class ClassName
{
    public void f()
    {
    }
}
</pre>
</div>
</div>
<p>
and a reference like
<blockquote class="hmlBlock">
<nobr><code>{:&nbsp;ClassName.f()}&nbsp;on&nbsp;line&nbsp;{#&nbsp;ClassName.f}</code></nobr><br>
</blockquote>
in your document renders as
<blockquote class="hmlBlock">
<a href="#ClassName.f"><code>f()</code></a> on line <a href="#ClassName.f">3</a><br>
</blockquote>
<p>
The HML processor recognizes definitions with pattern matching,
not a real parser, so it can be fooled by nonstandard formatting.
The following rules are followed:
<ol>
<li>Method and field declarations must begin with an access privilege
(<code>public</code>, <code>private</code>, <code>protected</code>, or the string <nobr><code>/*package*/</code></nobr>).
<li>
The method/field name must be on the same line as the access privilege.
<li>
Method/field names must be followed immediately by a comma, semicolon, open parenthesis, or equals sign.
<li>
Class or interface names must be on the same line and immediately follow the keyword <nobr><code>class</code></nobr> or <nobr><code>interface</code></nobr>.
</ol>
This simplistic approach means that declarations like the following don't work:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<a name="x"></a><br>
<a name="int"></a><br>
<br>
<a name="The"></a><br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
public int x,y; <span class="hmlComment">// two variables declared on one line. y is not tagged.</span>
public int z[]; <span class="hmlComment">// The brackets must follow the int, not the z.</span>

public int f            <span class="hmlComment">// The ( that starts argument list must</span>
    (int abc, int def)  <span class="hmlComment">// be on the same line as method name.</span>
 
public
int g()     <span class="hmlComment">// public must be on same line as function definition</span>
</pre>
</div>
</div>
<p>
The following definitions work fine, however:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<a name="x"></a><br>
<a name="y"></a><br>
<a name="z"></a><br>
<a name="f"></a><br>
<br>
<a name="g"></a><br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
public int x;
public int y;
public int[] z;
public int f(   int abc,
                int def );
public int g()
</pre>
</div>
</div>
<p>
You may split a class definition across listings, 
but you must put the entire method definition in a single code block.
<p>
Inner classes are handled properly, but you must reference them with the full name.
<p>
So, here's a complete example that demonstrates all the possibilities.
<p>
This input:
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;file=&quot;foo.java&quot;&nbsp;label=&quot;exampleListing&quot;&nbsp;title=&quot;Example&nbsp;Listing&quot;&gt;</code></nobr><br>
<nobr><code>public&nbsp;class&nbsp;Outer</code></nobr><br>
<nobr><code>{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;v1;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;f()</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;return&nbsp;0;&nbsp;//&nbsp;{=&nbsp;return}</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;}</code></nobr><br>
<br>
<nobr><code>&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;Inner</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;v2;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;g()</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;}</code></nobr><br>
<nobr><code>}</code></nobr><br>
<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
<p>
displays as

<div class="hmlListingTitle"><a name="exampleListing"><span class="hmlTitle">Listing 23.6.</span> Example Listing</a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
<a name="Outer"></a>1<br>
2<br>
<a name="Outer.v1"></a>3<br>
<a name="Outer.f"></a>4<br>
<a name="return"></a>5<br>
6<br>
<a name="Outer.Inner"></a>7<br>
8<br>
<a name="Outer.Inner.v2"></a>9<br>
<a name="Outer.Inner.g"></a>10<br>
11<br>
12<br>
13<br>
14<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
public class Outer
{
    private int v1;
    public int f()
    {   return 0;
    }
    public class Inner
    {
        private int v2;
        <span class="hmlComment">/*protected*/</span> void g()
        {
        }
    }
}
</pre>
</div>
</div>
<p>
{java, inner-class references}
{symbolic references, to java declarations}
and you can use the following references:

<table class="hmlTable">
<tr><td valign="top"><strong>Input</strong></td><td valign="top"><strong>Displays As</strong>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>{listing&nbsp;exampleListing}</code></nobr></td><td valign="top"> <a href="#exampleListing">Listing 23.6</a>
</td></tr>
<tr><td valign="top"> <nobr><code>{listing-number&nbsp;exampleListing}</code></nobr></td><td valign="top"> <a href="#exampleListing">23.6</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer}</code></nobr></td><td valign="top"> <a href="#Outer"><code>Outer</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer}</code></nobr></td><td valign="top"> <a href="#Outer">1</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer}</code></nobr></td><td valign="top"> <a href="#Outer">line 1</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer}</code></nobr></td><td valign="top"> <code>Outer</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer">line 1</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer}</code></nobr></td><td valign="top"> <a href="#Outer"><code>Outer</code> (line 1)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.Inner}</code></nobr></td><td valign="top"> <a href="#Outer.Inner"><code>Inner</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer.Inner}</code></nobr></td><td valign="top"> <a href="#Outer.Inner">7</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer.Inner}</code></nobr></td><td valign="top"> <a href="#Outer.Inner">line 7</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.Inner}</code></nobr></td><td valign="top"> <code>Inner</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.Inner">line 7</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.Inner}</code></nobr></td><td valign="top"> <a href="#Outer.Inner"><code>Inner</code> (line 7)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer.Inner&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer.Inner">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.v1}</code></nobr></td><td valign="top"> <a href="#Outer.v1"><code>v1</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer.v1}</code></nobr></td><td valign="top"> <a href="#Outer.v1">3</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer.v1}</code></nobr></td><td valign="top"> <a href="#Outer.v1">line 3</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.v1}</code></nobr></td><td valign="top"> <code>v1</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.v1">line 3</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.v1}</code></nobr></td><td valign="top"> <a href="#Outer.v1"><code>v1</code> (line 3)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer.v1&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer.v1">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.f}</code></nobr></td><td valign="top"> <a href="#Outer.f"><code>f</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.f()}</code></nobr></td><td valign="top"> <a href="#Outer.f"><code>f()</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer.f}</code></nobr></td><td valign="top"> <a href="#Outer.f">4</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer.f}</code></nobr></td><td valign="top"> <a href="#Outer.f">line 4</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.f}</code></nobr></td><td valign="top"> <code>f</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.f">line 4</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.f()}</code></nobr></td><td valign="top"> <code>f</code>() (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.f">line 4</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.f}</code></nobr></td><td valign="top"> <a href="#Outer.f"><code>f</code> (line 4)</a>
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.f()}</code></nobr></td><td valign="top"> <a href="#Outer.f"><code>f()</code> (line 4)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer.f&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer.f">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.Inner.v2}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.v2"><code>v2</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer.Inner.v2}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.v2">9</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer.Inner.v2}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.v2">line 9</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.Inner.v2}</code></nobr></td><td valign="top"> <code>v2</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.Inner.v2">line 9</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.Inner.v2}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.v2"><code>v2</code> (line 9)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer.Inner.v2&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer.Inner.v2">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.Inner.g}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g"><code>g</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;Outer.Inner.g()}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g"><code>g()</code></a>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;Outer.Inner.g}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g">10</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;Outer.Inner.g}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g">line 10</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.Inner.g}</code></nobr></td><td valign="top"> <code>g</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.Inner.g">line 10</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;Outer.Inner.g()}</code></nobr></td><td valign="top"> <code>g</code>() (<a href="#exampleListing">Listing 23.6</a>, <a href="#Outer.Inner.g">line 10</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.Inner.g}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g"><code>g</code> (line 10)</a>
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;Outer.Inner.g()}</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g"><code>g()</code> (line 10)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer.Inner.g&nbsp;some&nbsp;text]</code></nobr></td><td valign="top"> <a href="#Outer.Inner.g">some text</a>
</td></tr>
<tr><td class="hmlTableLine" colspan="2">&nbsp;</td></tr>
<tr><td valign="top"><nobr><code>{:&nbsp;return}</code></nobr></td><td valign="top"> <a href="#return"><code>return</code></a>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<em>(<nobr><code>return</code></nobr> is the tag name)</em>
</td></tr>
<tr><td valign="top"><nobr><code>{#&nbsp;return}</code></nobr></td><td valign="top"> <a href="#return">5</a>
</td></tr>
<tr><td valign="top"><nobr><code>{line&nbsp;return}</code></nobr></td><td valign="top"> <a href="#return">line 5</a>
</td></tr>
<tr><td valign="top"><nobr><code>{ref&nbsp;return}</code></nobr></td><td valign="top"> <code>return</code> (<a href="#exampleListing">Listing 23.6</a>, <a href="#return">line 5</a>)
</td></tr>
<tr><td valign="top"><nobr><code>{sref&nbsp;return}</code></nobr></td><td valign="top"> <a href="#return"><code>return</code> (line 5)</a>
</td></tr>
<tr><td valign="top"><nobr><code>[#Outer&nbsp;the&nbsp;return&nbsp;statement]</code></nobr></td><td valign="top"> <a href="#Outer">the return statement</a>
</td></tr>
</table>


<a name="hmlContents43"><h2>23.6.  <nobr><code>&lt;pre&gt;</code></nobr> and <nobr><code>&lt;listing&gt;</code></nobr> blocks require proper nesting</h2></a><a name="hmlIndex-223-1"></a>
A <nobr><code>&lt;pre&gt;</code></nobr> element can contain another <nobr><code>&lt;pre&gt;</code></nobr> element, but only if the <nobr><code>&lt;pre&gt;</code></nobr> elements are
properly nested. For example, the following works correctly:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;pre&gt;
    <span class="hmlComment">/** A Javadoc comment has a pre block in it:
     *  &lt;pre&gt;
     *  codeExample();
     *  &lt;/pre&gt;
     */</span>
&lt;/pre&gt;
</pre>
</div>
</div>
However, you can't use a <nobr><code>&lt;pre&gt;</code></nobr> without the matching <nobr><code>&lt;/pre&gt;</code></nobr>.
<p>
The same rule applies to listings, and <nobr><code>&lt;pre&gt;</code></nobr> blocks within <nobr><code>&lt;listing&gt;</code></nobr> blocks.

<a name="advanced-include"><h1>24.  Advanced use of <nobr><code>&lt;include&gt;</code></nobr></h1></a>
<p>
When you use an <nobr><code>&lt;include&gt;</code></nobr>, the HML processor effectively surrounds the included code with a
<nobr><code>&lt;listing&nbsp;file=&apos;</code></nobr><em>full/path/to/source/file</em><nobr><code>&apos;&gt;...&lt;/listing&gt;</code></nobr> element.
<p>
The generated <nobr><code>listing</code></nobr> element always
includes a <nobr><code>file=</code></nobr> attribute that holds the name of the included file. 
All other attributes are transferred from the <nobr><code>&lt;include&gt;</code></nobr> to the generated <nobr><code>&lt;listing&gt;</code></nobr> element.
Since the presence of a (passed through) <nobr><code>title=</code></nobr> in the <nobr><code>listing</code></nobr> element causes a <nobr><code>&lt;listing-title&gt;</code></nobr> to be generated,
you can bring a full listing, along with its title, into your document with a simple
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;include src="/path/to/file.java" title="The title"&gt;
</pre>
</div>
</div>which is equivalent to
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;listing-title label="file.java"&gt;The Title&lt;/listing-title&gt;
&lt;listing file="/path/to/file.java" title="The title"&gt;
&lt;import src="/path/to/file.java"&gt;
&lt;/listing&gt;
</pre>
</div>
</div>
You can use a normal <nobr><code>{listing&nbsp;file.java}</code></nobr> tag to reference the generated title.
<p>
When you supply a label at the <nobr><code>&lt;include&gt;</code></nobr> level, that label passes through to the generated <nobr><code>&lt;listing-title&gt;</code></nobr>. So:
<blockquote class="hmlBlock">
<nobr><code>&lt;include&nbsp;src=&quot;/path/to/file.java&quot;&nbsp;title=&quot;The&nbsp;title&quot;&nbsp;label=&quot;MyLabel&quot;&gt;</code></nobr><br>
&hellip;<br>
<nobr><code>{listing&nbsp;MyLabel}</code></nobr><br>
</blockquote>
works as expected.

<a name="hmlContents44"><h2>24.1.  <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;import&gt;</code></nobr> attributes</h2></a><a name="hmlIndex-224-1"></a><a name="hmlIndex-225-1"></a>
The following attributes are recognized in both <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;listing&gt;</code></nobr> tags:

<table class="hmlTable">
<tr><td valign="top"> <nobr><code>from=&quot;</code></nobr><em>pat</em><nobr><code>&quot;</code></nobr></td><td valign="top"> All lines above
	the first one that contains a match of the regular expression <em>pat</em> are ignored.
	The line that contains the match is included.
	Note that this flag applies to the entire line, you can't
	use it to extract part of a line.
	Also note that the pattern is a regular expression, so any characters that are meaningful to regular
	expressions (e.g., you must escape parenthesis and brackets for HML to process them literally.)
	Neither the the less-than (&lt;) nor greater-than (&gt;) characters may be used in the pattern.
</td></tr>
<tr><td valign="top"> <nobr><code>to=&quot;</code></nobr><em>pat</em><nobr><code>&quot;</code></nobr></td><td valign="top"> All lines following
	the first one that contains a match of the regular expression <em>pat</em> are ignored.
	The line that contains the match is included.
	The pattern rules discussed in the <nobr><code>from=</code></nobr> attribute apply here, too.
</td></tr>
<tr><td valign="top"> <nobr><code>remove-mark=&quot;</code></nobr><em>[true|false]</em><nobr><code>&quot;</code></nobr></td><td valign="top"> If true, then whatever text is used as the argument
	to a <nobr><code>from=</code></nobr> or <nobr><code>to=</code></nobr> attribute is removed from the input.
	If the argument text along with any leading or trailing whitespace comprises the entire line, then
	the entire line is removed.
	Default is false.
</td></tr>
<tr><td valign="top"> <nobr><code>line-numbers=&quot;</code></nobr><em>[true|false]</em><nobr><code>&quot;</code></nobr></td><td valign="top"> If false, generate a <nobr><code>&lt;pre&gt;</code></nobr> instead of a <nobr><code>&lt;listing&gt;</code></nobr> element.
</td></tr>
<tr><td valign="top"> <nobr><code>first-line=&quot;</code></nobr><em>N</em><nobr><code>&quot;</code></nobr></td><td valign="top"> Use N (must be a digit) for the first line of the listing. Normally, if you use <nobr><code>from=</code></nobr> and <nobr><code>to=</code></nobr>
		to look at a large file in chunks (using several <nobr><code>&lt;include&gt;</code></nobr> statements) line numbering carries
		over from one listing to another. The starting number of the second <nobr><code>&lt;include&gt;</code></nobr> for a given file
		will be one more than the last line number in the first <nobr><code>&lt;include&gt;</code></nobr>. Use this directive to set the
		number to something arbitrary.
</td></tr>
<tr><td valign="top"> <nobr><code>label=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr></td><td valign="top"> The attribute is copied to the generated <nobr><code>&lt;listing&gt;</code></nobr> element.
</td></tr>
<tr><td valign="top"> <nobr><code>prefix=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr></td><td valign="top"> The attribute is copied to the generated <nobr><code>&lt;listing&gt;</code></nobr> element.
</td></tr>
<tr><td valign="top"> <nobr><code>title=&quot;</code></nobr><em>text</em><nobr><code>&quot;</code></nobr></td><td valign="top"> The attribute is copied to the generated <nobr><code>&lt;listing&gt;</code></nobr> element. Forces generation of a
		<nobr><code>&lt;listing-title&gt;</code></nobr>
</td></tr>
</table>

<p>
Use the <nobr><code>from=</code></nobr> and <nobr><code>to=</code></nobr> attributes to pull in only part of a listing. The associated pattern
is a regular expression identical to the ones used for macro definitions (see <a href="#regex">Section 22.2.1</a>).
All lines from the one that matches the <nobr><code>from=</code></nobr> pattern up to and including the line that matches
the <nobr><code>to=</code></nobr> patterns are pulled in.
For example, given the following java file:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<a name="g"></a><br>
<br>
<br>
<br>
<a name="f"></a><br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// stuff</span>

public void g()
{   <span class="hmlComment">//...</span>
}

public void f()
{   <span class="hmlComment">//...</span>
}

<span class="hmlComment">// more stuff</span>
</pre>
</div>
</div>
<p>
You can include just the <nobr><code>f()</code></nobr> method in your document with:
<blockquote class="hmlBlock">
<nobr><code>&lt;include&nbsp;src=&quot;...&quot;&nbsp;from=&quot;public.*f()&quot;&nbsp;to=&quot;^\s*}$&quot;&gt;</code></nobr><br>
</blockquote>
This example assumes that the <nobr><code>f()</code></nobr> method contains no close braces other
than the final one at the end of the method, of course. You can, however, use the
<nobr><code>remove-mark</code></nobr> attribute to solve that problem. For example, given
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<a name="f"></a><br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// stuff</span>

<span class="hmlComment">//start-f</span>
<span class="hmlComment">/** A comment
 */</span>
public void f()
{
}
<span class="hmlComment">//end-f</span>

<span class="hmlComment">// more stuff</span>
</pre>
</div>
</div>
You can pull in both the <nobr><code>f()</code></nobr> and the preceding comment with:
<blockquote class="hmlBlock">
<nobr><code>&lt;include&nbsp;src=&quot;...&quot;&nbsp;from=&quot;//start-f&quot;&nbsp;to=&quot;//end-f&quot;&nbsp;remove-mark=&quot;true&quot;&gt;</code></nobr><br>
</blockquote>
<p>
Finally, any <nobr><code>label=</code></nobr>, <nobr><code>prefix=</code></nobr>, or <nobr><code>title=</code></nobr> attribute found in an <nobr><code>&lt;include&gt;</code></nobr> tag
are simply passed through to the generated <nobr><code>&lt;listing&gt;</code></nobr> or <nobr><code>&lt;pre&gt;</code></nobr>
element along with any other attributes that the <nobr><code>&lt;include&gt;</code></nobr> tag doesn't
know about.  Consequently, you can specify <nobr><code>&lt;listing&gt;</code></nobr> properties in the <nobr><code>include</code></nobr> tag and
they'll pass right through to the <nobr><code>&lt;listing&gt;</code></nobr>.
Remember that a <nobr><code>class=</code></nobr> attribute that you provide preempts the
default <nobr><code>&lt;listing&nbsp;class=&quot;hmlListing&quot;&gt;</code></nobr>, so you can even provide your own CSS class in the
<nobr><code>&lt;include&gt;</code></nobr>,
and it passes all the way through to the innermost <nobr><code>&lt;pre&gt;</code></nobr> block that actually holds the code.
<p>
The listings in <a href="#section.appendixA">Appendix A</a> were all imported into
the document with the following markup. Title and <nobr><code>&lt;listing&gt;</code></nobr> elements
were automatically generated.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;include src="/Users/allen/config/hml.head" title="" label="hml.head"&gt;
&lt;include src="/Users/allen/config/hml.tail" title="" label="hml.tail"&gt;
&lt;include src="/Users/allen/config/hml.macros" title="" label="hml.macros"&gt;
</pre>
</div>
</div>

<div class="pending">
<a name="dropbox"><h2>24.2.  Using Dropbox</h2></a><a name="hmlIndex-226-1"></a>
HML in the cloud has one significant limitation: it can't pull in files from your local disk.
The HML processor solves that problem with Dropbox. 
For those of you who don't know, Dropbox is an online synchronization service. Once you
install Dropbox on your machine, everything that you put into your Dropbox folder is
<em>mirrored</em> (a copy is automatically made) to your online Dropbox account. If several computers
share a single Dropbox account, the Dropbox folders are all kept in sync with each other automatically.
<p>
The HML processor integrates seamlessly with Dropbox.
When the path you specify in a <nobr><code>src=</code></nobr> attribute to a <nobr><code>&lt;include&gt;</code></nobr> or <nobr><code>&lt;import&gt;</code></nobr> element includes the word <nobr><code>Dropbox</code></nobr>,
then the HML-in-the-cloud processor automatically pulls the file from dropbox.
A local HML processor just reads the file from the specified folder on your local hard disk.
For example, if you say:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;include src="~/Dropbox/src/myproject/file.java"&gt;
</pre>
</div>
</div>
the local processor looks for <em>file.java</em> in the specified local folder, but the HML-in-the-cloud processor looks for that
file in the <em>/src/myproject</em> folder of your on-line Dropbox account.
<p>
All this requires a Dropbox account.
Go to <a target="_blank" href="http://www.dropbox.com">the Dropbox web site</a> and click <em>Sign Up</em>.
After the Dropbox sign up procedure, set up Dropbox access in your HML-in-the-cloud account.
HML-in-the-cloud doesn't need your Dropbox password.
Log on to Dropbox and authorize HML-in-the-cloud to access the account. Here's how:
<p>
TODO
</div>

<a name="hmlContents45"><h1>25.  Differences from <em>MediaWiki</em></h1></a><a name="hmlIndex-227-1"></a>
The fact that HML markup is much more powerful than either <em>Markdown</em> or <em>MediaWiki</em>
markup comes at a cost.
HML can't support some conventions.
Bear in mind that the <em>MediaWiki</em> conventions are meant to <em>replace</em>
HTML but HML <em>augments</em> HTML, so
you can always fall back to standard HTML markup to do something complicated in an HML document.
<p>
Here are few of the most obvious differences between HML and <em>MediaWiki</em>/<em>Markdown</em> markup.

<ul>
<li> MediaWiki and Markdown treat all indented lines as code blocks.
	HML requires that you either prefix the line with a comma, or surround the code with a <nobr><code>&lt;pre&gt;</code></nobr> or <nobr><code>&lt;listing&gt;</code></nobr> element.
	HML uses indentation in many other ways, so it wasn't feasible to mimic MediaWiki, here.
	It's impossible to use a macro to simulate MediaWiki-style indented code because macros are effectively processed
	after the code blocks are isolated from the text.
</li>
</ul>
<ul>
<li> HML doesnt support the multiple-tick-mark convention for bold and italic.
	<blockquote>
	<table>
	<tr><td valign="top"> <em>MediaWiki</em>				</td><td valign="top">	&nbsp;&nbsp;  HML								</td></tr>
	<tr><td valign="top" colspan="3"><hr> </td></tr>
	<tr><td valign="top">	<nobr><code>&apos;&apos;italic&apos;&apos;</code></nobr>			</td><td valign="top">	&nbsp;&nbsp;  <nobr><code>{i&nbsp;italic}</code></nobr> or <nobr><code>_italic_</code></nobr>		</td></tr>
	<tr><td valign="top"> <nobr><code>&apos;&apos;&apos;bold&apos;&apos;&apos;</code></nobr>			</td><td valign="top">	&nbsp;&nbsp;  <nobr><code>{b&nbsp;italic}</code></nobr> or <nobr><code>*italic*</code></nobr>		</td></tr>
	<tr><td valign="top"> <nobr><code>&apos;&apos;&apos;&apos;&apos;bold&nbsp;italic&apos;&apos;&apos;&apos;&apos;</code></nobr>	</td><td valign="top">	&nbsp;&nbsp;  <nobr><code>{bi&nbsp;italic}</code></nobr> or <nobr><code>*_italic_*</code></nobr> or <nobr><code>_*italic*_</code></nobr> </td></tr>
	</table>
	</blockquote>
	<nobr><code>{b&nbsp;{i&nbsp;text}}</code></nobr> doesn't work. Either use <nobr><code>{bi&nbsp;text}</code></nobr> or <nobr><code>_*text*_</code></nobr>.
</li>
<li> HML doesnt allow nested lists (<a href="#lists">Section 13</a>) inside of lists, or columnar data (<a href="#tabbed">Section 14</a>)
	inside of any of these. You can use the <nobr><code>[(]</code></nobr>&hellip;<nobr><code>[|]</code></nobr>&hellip;<nobr><code>[(]</code></nobr> to put tabular data in a list,
	but you must use HTML elements (<nobr><code>&lt;ol&gt;</code></nobr> and <nobr><code>&lt;ul&gt;</code></nobr>) to get nested lists. The same goes for bullet or numeric lists
	inside tabular data. You can use <nobr><code>|</code></nobr> for the outer table, but must use HTML elements for lists within the table.
</li>
<li> The <em>MediaWiki</em> <nobr><code>&lt;nowiki&gt;</code></nobr> element is not supported. The only way to protect text, at present,
	is to use a code block of some sort.
</li>
</ul>
<a name="passthrough"><h1>26.  Attribute pass through</h1></a><a name="hmlIndex-228-1"></a><a name="hmlIndex-229-1"></a><a name="hmlIndex-229-2"></a><a name="hmlIndex-231-1"></a>
HML defines several HTML-like elements that work syntactically like standard HTML.
For example, HML's <nobr><code>&lt;block&gt;</code></nobr>&hellip;<nobr><code>&lt;/block&gt;</code></nobr> element works much like HTML's <nobr><code>&lt;blockquote&gt;</code></nobr>,
but automatically adds line breaks to every line in the block.
<p>
The main consideration with all these HML-specific elements is that they "wrap" standard HTML elements in the sense that the HML processor translates the special element into one or more standard HTML elements. A <nobr><code>&lt;block&gt;</code></nobr>, for example, is ultimately translated to a <nobr><code>&lt;blockquote&nbsp;class=&quot;hmlBlock&quot;&gt;</code></nobr> in the output.
Every HML-generated element has an hml class associated with it in this way, so that you can easily style any generated HTML. (All HML classes start with the <nobr><code>hml</code></nobr>&hellip; prefix.)<a name="hmlIndex-232-1"></a>
You can, however, define a custom CSS class and use that in the generated HTML.
A custom <nobr><code>class=</code></nobr> replaces the default in the tag,
other attributes just pass through to the generated element. For example:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;block class="mySpecialBlock" id="myID"&gt;
content
&lt;/block&gt;
</pre>
</div>
</div>
your <nobr><code>class=</code></nobr> replaces the default, and the <nobr><code>id=</code></nobr> attribute, which isn't meaningful to HML,
passes through.
HML generates the following output from the earlier input:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;blockquote class="mySpecialBlock" id="myID"&gt;
content&lt;br&gt;
&lt;/blockquote&gt;
</pre>
</div>
</div>
instead of the default

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;blockquote class="hmlBlock"&gt;
content&lt;br&gt;
&lt;/blockquote&gt;
</pre>
</div>
</div>
Similarly, a <nobr><code>style=&quot;...&quot;</code></nobr> attribute is meaningless to a <nobr><code>&lt;block&gt;</code></nobr> element, so when you say:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;block style="font-style:italic;"&gt;
   ...
&lt;/block&gt;
</pre>
</div>
</div>
the style passes through to the generated <nobr><code>&lt;blockquote&gt;</code></nobr>, and the block contents are set in italic.
<p>
In general, the HML processor adds a <nobr><code>class=</code></nobr> attribute to every generated element. (Exceptions are things like
<nobr><code>&lt;td&gt;</code></nobr> elements, because those are enclosed within a generated element that <em>does</em> contain a class, so you
can style them using CSS's <nobr><code>inner&nbsp;outer&nbsp;{...}</code></nobr> mechanism.
However, if you specify an explicit <nobr><code>class=&quot;...&quot;</code></nobr> attribute, then HTML will use your class attribute
rather than the automatically generated one.
For example, the processor typically transforms <nobr><code>&lt;listing&nbsp;...&gt;</code></nobr> into <nobr><code>&lt;pre&nbsp;class=&quot;hmlListing&quot;&gt;</code></nobr>;
however, if you say,
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&nbsp;class=&quot;myClass&quot;&gt;</code></nobr><br>
</blockquote>
the generated element will look like this
<blockquote class="hmlBlock">
<nobr><code>&lt;pre&nbsp;class=&quot;myClass&quot;&gt;</code></nobr><br>
</blockquote>
Same applies to things like <nobr><code>block</code></nobr>. Here are a few examples:

<table class="hmlTable">
<tr><td valign="top">	<b>Input</b></td><td valign="top">	<b>Output</b></td><td valign="top">	<b>Notes</b>
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;h1&nbsp;label=&quot;x&quot;&nbsp;chapter=&quot;y&quot;&nbsp;class=&quot;z&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;h1&nbsp;class=&quot;z&quot;&gt;</code></nobr></td><td valign="top"> <nobr><code>chapter=</code></nobr> and <nobr><code>label=</code></nobr> are absorbed. Other attributes pass through.
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;block&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;table&nbsp;class=&quot;hmlBlock&quot;&gt;</code></nobr></td><td valign="top"> No attributes are absorbed
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;block&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;table&nbsp;id=&quot;y&quot;&nbsp;class=&quot;hmlBlock&quot;&gt;</code></nobr>		
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;block&nbsp;class=&quot;x&quot;&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;table&nbsp;id=&quot;y&quot;&nbsp;class=&quot;x&quot;&gt;</code></nobr>				
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;pre&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;class=&quot;hmlPre&quot;&gt;</code></nobr></td><td valign="top"> The <nobr><code>file=</code></nobr>, <nobr><code>label=</code></nobr>, <nobr><code>prefix=</code></nobr>, and <nobr><code>title=</code></nobr> elements are absorbed.
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;pre&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;id=&quot;y&quot;&nbsp;class=&quot;hmlPre&quot;&gt;</code></nobr>			
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;pre&nbsp;class=&quot;x&quot;&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;id=&quot;y&quot;&nbsp;class=&quot;x&quot;&gt;</code></nobr>				
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;listing&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;class=&quot;hmlListing&quot;&gt;</code></nobr></td><td valign="top"> The <nobr><code>file=</code></nobr>, <nobr><code>label=</code></nobr>, <nobr><code>prefix=</code></nobr>, and <nobr><code>title=</code></nobr> elements are absorbed. 	
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;listing&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;id=&quot;y&quot;&nbsp;class=&quot;hmlListing&quot;&gt;</code></nobr>		
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;listing&nbsp;class=&quot;x&quot;&nbsp;id=&quot;y&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;id=&quot;y&quot;&nbsp;class=&quot;x&quot;&gt;</code></nobr>				
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;file=&quot;x&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;listing&nbsp;file=&quot;x&quot;&nbsp;class=&quot;hmlListing&quot;&gt;</code></nobr></td><td valign="top"> Absorb <nobr><code>src=</code></nobr>, <nobr><code>href=</code></nobr>, <nobr><code>from=</code></nobr>, <nobr><code>to=</code></nobr>, <nobr><code>remove-mark=</code></nobr>, <nobr><code>line-numbers=</code></nobr>,
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;title=&quot;...&quot;&nbsp;class=&quot;x&quot;&gt;</code></nobr></td><td valign="top"> <nobr><code>&lt;listing-title&gt;...&lt;/listing-title&gt;</code></nobr><br><nobr><code>&lt;listing&nbsp;class=&quot;x&quot;&gt;</code></nobr>&hellip;<nobr><code>&lt;/listing&gt;</code></nobr></td><td valign="top"> Attributes pass through to <nobr><code>&lt;listing&gt;</code></nobr> element, not <nobr><code>&lt;listing-title&gt;</code></nobr>
</td></tr>
<tr><td class="hmlTableLine" colspan="3">&nbsp;</td></tr>
<tr><td valign="top"> <nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;src=&quot;x&quot;&nbsp;...&nbsp;numbers=&quot;true&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;listing&nbsp;file=&quot;x&quot;&gt;</code></nobr></td><td valign="top"> No class= is added, but <nobr><code>&lt;listing&gt;</code></nobr> processing adds one.
</td></tr>
<tr><td valign="top"> <nobr><code>&lt;</code></nobr><nobr><code>include&nbsp;href=&quot;x&quot;&nbsp;...&nbsp;numbers=&quot;false&quot;&gt;</code></nobr></td><td valign="top"> 	<nobr><code>&lt;pre&nbsp;file=&quot;x&quot;&gt;</code></nobr></td><td valign="top"> No class= is added, but <nobr><code>&lt;pre&gt;</code></nobr> processing adds one.
</td></tr>
</table><a name="hmlIndex-233-1"></a><a name="hmlIndex-234-1"></a><a name="hmlIndex-235-1"></a>
<a name="headElement"><h1>27.  Adding styling, titles, etc. using <nobr><code>&lt;head&gt;...&lt;/head&gt;</code></nobr></h1></a>
<p>
Your document's <nobr><code>&lt;head&gt;</code></nobr>
section is buried in a configuration file called <em>hml.head</em> (<a href="#config">Section 0</a>),
and the default HML CSS styles are defined there.
To change or augment that CSS, you need to add a <nobr><code>&lt;style&gt;</code></nobr> element, however, that <nobr><code>&lt;style&gt;</code></nobr> element
must also go into the <nobr><code>&lt;head&gt;</code></nobr>.
The same goes for page titles (i.e.,<nobr><code>&lt;title&gt;</code></nobr> elements, etc.).
You don't
really want to modify the configuration file to do any of that,
because configuration-file modifications affect everything you process,
not just the current document.
<p>
HML solves the problem by <em>moving</em> the contents of all <nobr><code>&lt;head&gt;</code></nobr> elements that
it finds in the body of your document into the real <nobr><code>&lt;head&gt;</code></nobr> element, which it
extracts from <em>hml.head</em>.
Your contents are appended to the <em>end</em> of the real (output) <nobr><code>&lt;head&gt;</code></nobr> element,
so your local styles preempt or augment default styles in the default <nobr><code>&lt;head&gt;</code></nobr> definition.
<p>
For example, you could add a title to your document and also
redefine one of the default HML styles by putting the following into your document.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;head&gt;
    &lt;title&gt;MyTitle&lt;/title&gt;
    &lt;style&gt;
    .hmlComment{ color: gray; } <span class="hmlComment">/* put comments in gray rather than green */</span>
    &lt;/style&gt;
&lt;/head&gt;
</pre>
</div>
</div>
<p>
If you specify multiple <nobr><code>&lt;head&gt;</code></nobr>
elements in your document, the processor appends them all to the output <nobr><code>&lt;head&gt;</code></nobr>
element in the order they appear in the document.<a name="hmlIndex-236-1"></a>
<a name="styling"><h1>28.  Styling</h1></a>
<p>
All HML-generated HTML elements have a <nobr><code>class=</code></nobr> attribute, and all the class names start with an <nobr><code>hml</code></nobr>&hellip;prefix.
This section describes a few of the less-obvious styling issues, but if something's not covered here, just
make a small file, run it through HML, and look at the output to see the style names.
<p>
The easiest way to style a single element is to simply pass a <nobr><code>class=</code></nobr> or <nobr><code>style=</code></nobr> attribute to the element.
Those attributes are passed through to the generated HTML, as described in <a href="#passthrough">Section 26</a>.
<p>
The<a name="hmlIndex-237-1"></a><a name="hmlIndex-238-1"></a>
CSS styles that HML uses come from the default header file.
That is, the HML processor inserts two files the output file (<a href="#config">Appendix A</a>): 

<table class="hmlTable">
<tr><td valign="top"> hml.head</td><td valign="top"> (<a href="#hml.head">Listing 1</a>) is inserted at the top of the output file, before all the processed input.
</td></tr>
<tr><td valign="top"> hml.tail</td><td valign="top"> (<a href="#hml.tail">Listing 2</a>) is inserted at the bottom of the output file, after all the processed input.
</td></tr>
</table>

<em>hml.head</em> holds all the CSS for the generated document.
This CSS is inserted directly into the output file,
not imported, so that the output file can stand alone.
There are no external dependencies that would make it difficult to view the document offline in your browser.<a name="hmlIndex-37-7"></a>

<a name="stylingCode"><h2>28.1.  Styling Code Blocks</h2></a>
<p>
If you want to style listings and included code differently, <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> blocks
in the input translate into a set of nested <nobr><code>&lt;div&gt;</code></nobr> elements that, ultimately, surround a <nobr><code>&lt;pre&gt;</code></nobr>.
For example, the HML processor translates
<blockquote class="hmlBlock">
<nobr><code>&lt;listing&gt;</code></nobr><br>
<nobr><code>public&nbsp;void&nbsp;code(){&nbsp;}</code></nobr><br>
<nobr><code>&lt;/listing&gt;</code></nobr><br>
</blockquote>
to
<blockquote class="hmlBlock">
<nobr><code>&lt;div&nbsp;class=&quot;hmlListingGroup&quot;&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCodeAnnotations&quot;&gt;</code></nobr><br>
<nobr><code>&lt;a&nbsp;name=&quot;f&quot;&gt;&lt;/a&gt;1&lt;br&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCode&quot;&gt;</code></nobr><br>
<nobr><code>&lt;pre&nbsp;class=&quot;hmlPre&quot;&gt;</code></nobr><br>
<nobr><code>public&nbsp;void&nbsp;f(){&nbsp;}</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
</blockquote>
and
<blockquote class="hmlBlock">
<nobr><code>&lt;pre&gt;</code></nobr><br>
<nobr><code>public&nbsp;void&nbsp;code(){&nbsp;}</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
</blockquote>
to
<blockquote class="hmlBlock">
<nobr><code>&lt;div&nbsp;class=&quot;hmlPreGroup&quot;&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCodeAnnotations&quot;&gt;</code></nobr><br>
<nobr><code>&lt;a&nbsp;name=&quot;f&quot;&gt;&lt;/a&gt;&lt;br&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCode&quot;&gt;</code></nobr><br>
<nobr><code>&lt;pre&nbsp;class=&quot;hmlPre&quot;&gt;</code></nobr><br>
<nobr><code>public&nbsp;void&nbsp;f(){&nbsp;}</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
</blockquote>
<p>
The only structural difference is the <nobr><code>class</code></nobr> associated with the outermost <nobr><code>&lt;div&gt;</code></nobr>
(<nobr><code>hmlPreGroup</code></nobr> for <nobr><code>&lt;pre&gt;</code></nobr> and <nobr><code>hmlListingGroup</code></nobr> for <nobr><code>&lt;listing&gt;</code></nobr>).
HML puts the code into a <nobr><code>&lt;pre&gt;</code></nobr> element within that <nobr><code>&lt;div&gt;</code></nobr>,
and any attribute in the original input tag passes through to that generated <nobr><code>&lt;pre&gt;</code></nobr> element
(any attribute not meaningful only to HML).
<p>
The <nobr><code>hmlCodeAnnotations</code></nobr> div 
holds the line numbers and also a set of HTML <nobr><code>&lt;a...&gt;</code></nobr> elements that reference marked lines and declarations.
In a <nobr><code>&lt;pre&gt;</code></nobr> (as compared to a <nobr><code>&lt;listing&gt;</code></nobr>, there will be no line numbers, though there will be a <nobr><code>&lt;br&gt;</code></nobr> for every line.
For example, this input:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<a name="C"></a><br>
<br>
<a name="C.f"></a><br>
<br>
<a name="mark"></a><br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;listing&gt;
class C
{
    public void f()
    {   
        hello();
    }
}
&lt;/listing&gt;
</pre>
</div>
</div>
yields the following output:
<blockquote class="hmlBlock">
<nobr><code>&lt;div&nbsp;class=&quot;hmlListingGroup&quot;&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCodeAnnotations&quot;&gt;</code></nobr><br>
<nobr><code>&lt;a&nbsp;name=&quot;C&quot;&gt;&lt;/a&gt;1&lt;br&gt;</code></nobr><br>
<nobr><code>2&lt;br&gt;</code></nobr><br>
<nobr><code>&lt;a&nbsp;name=&quot;C.f&quot;&gt;&lt;/a&gt;3&lt;br&gt;</code></nobr><br>
<nobr><code>4&lt;br&gt;</code></nobr><br>
<nobr><code>&lt;a&nbsp;name=&quot;mark&quot;&gt;&lt;/a&gt;5&lt;br&gt;</code></nobr><br>
<nobr><code>6&lt;br&gt;</code></nobr><br>
<nobr><code>7&lt;br&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlCode&quot;&gt;</code></nobr><br>
<nobr><code>&lt;pre&nbsp;class=&quot;hmlPre&quot;&gt;</code></nobr><br>
<nobr><code>class&nbsp;C</code></nobr><br>
<nobr><code>{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;f()</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;{</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hello();</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;}</code></nobr><br>
<nobr><code>}</code></nobr><br>
<nobr><code>&lt;/pre&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&lt;/div&gt;</code></nobr><br>
</blockquote>
The processor puts line numbers and clutter associated with linking to specific lines into the "annotations" div, rather than mix this material into the code.
This makes it easier to cut and paste listings, and also helps internally with the code-macro processing (since macros don't have to worry
about markup the HML processor adds).
<p>
Notice a few things in the CSS for these divs in <a href="#hml.head">Listing 1</a>.
<ul>
<li> The <nobr><code>display:&nbsp;table-cell</code></nobr> makes the two cells stack next to each other with no overlap (and
  also resize at the same height).
</li>
<li> The "line-height: 10pt" attribute requires an explicit line height because 
  fonts for line numbers are different than for code. The code font uses 
  a slightly smaller default line height, so line numbers and code don't line up.
  Specifying height fixes this.
</li>
</ul><a name="hmlIndex-240-1"></a>
<a name="stylingTables"><h2>28.2.  Styling tables</h2></a>
The</td><td valign="top"> columnar-data mechanism (<a href="#tabbed">Section 14</a>) outputs an HTML table.
For examample
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
| a | b | c
| d |   | e
</pre>
</div>
</div>
results in
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;table class="hmlTable"&gt;
&lt;tr&gt;&lt;td valign="top"&gt; a&lt;/td&gt;&lt;td valign="top"&gt; b&lt;/td&gt;&lt;td valign="top"&gt; c
&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td valign="top"&gt; d&lt;/td&gt;&lt;td valign="top"&gt;&amp;nbsp;&lt;/td&gt;&lt;td valign="top"&gt; e
&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
</pre>
</div>
</div>
The outermost <nobr><code>&lt;table&gt;</code></nobr> element is styled (using <nobr><code>class=&quot;hmlTable&quot;</code></nobr>),
but the inner <nobr><code>&lt;td&gt;</code></nobr> elements are not. 
You can assign a style to them, however using the nested-in sytax. The following example applies a light-gray background
to all <nobr><code>&lt;td&gt;</code></nobr> elements that are contained by an element with the <nobr><code>hmlTable</code></nobr> class.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;style&gt;
    .hmlTable td { background-color: lightgray }
&lt;/style&gt;
</pre>
</div>
</div>
<p>
The HML processor tries to put an <nobr><code>&amp;nbsp;</code></nobr> entity into empty cells (as it did on the second row of the foregoing example).
It won't do that at the far right of the table, however.
This omission is important only in situations where the cells
have borders around them, which is not the default.
<p>
For example, you can add cell borders as follows:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;head&gt;
    &lt;style&gt;
        .hmlTable td { border: 1px solid black; }
    &lt;/style&gt;
&lt;/head&gt;
</pre>
</div>
</div>
or if you want to eliminate the space between the cells so that you have single-line borders, use:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;head&gt;
    &lt;style&gt;
        .hmlTable { border-collapse: collapse; }
        .hmlTable td { border: 1px solid black; }
    &lt;/style&gt;
&lt;/head&gt;
</pre>
</div>
</div>
<p>
When the rows have different numbers of columns in them, however, this input:


<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
| c1 |    | c3
| c1 | c2 |
</pre>
</div>
</div>
looks like this without borders:

<table class="hmlTable">
<tr><td valign="top"> c1</td><td valign="top">&nbsp;</td><td valign="top"> c3
</td></tr>
<tr><td valign="top"> c1</td><td valign="top"> c2 
</td></tr>
</table>
<p>
However, if you have borders, you end up with this (because the third cell on the second row doesn't have an <nobr><code>&amp;nbsp;</code></nobr> in it):

<table border="1">
<tr><td>c1</td><td>&nbsp;</td><td>c3</td> </tr>
<tr><td>c1</td><td>c2</td></tr>
</table>
<p>
You can solve the problem in one of two ways.
Either put an explicit non-breaking space in the missing cell:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
| c1 |    | c3
| c1 | c2 | []
</pre>
</div>
</div>
<p>
or put an explicit column marker at the end of every row:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
| c1 |    | c3  |
| c1 | c2 |     |
</pre>
</div>
</div>
<p>
both of which give you

<table class="hmlTable" border="1">
<tr><td>c1</td><td>&nbsp;</td><td>c3</td></tr>
<tr><td>c1</td><td>c2</td><td>&nbsp;</td></tr>
</table>

<a name="tocStyling"><h2>28.3.  Styling the table of contents</h2></a>
<p>
The table of contents is laid out as follows:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;div style="width:6in;" class="hmlToc"&gt;
&lt;div class="hmlTocTitle"&gt;Contents&lt;/div&gt;
&lt;div class="hmlTocLev1"&gt;&lt;a href="#hmlContents0"&gt;1.  Section One&lt;/a&gt;&lt;/div&gt;
&lt;div class="hmlTocLev2"&gt;&lt;a href="#hmlContents1"&gt;1.1  Sub-sectionOne&lt;/a&gt;&lt;/div&gt;
&lt;div class="hmlTocLev1"&gt;&lt;a href="#hmlContents2"&gt;2.  Section Two&lt;/a&gt;&lt;/div&gt;
...
&lt;/div&gt;
</pre>
</div>
</div>
Where the heading level is specified in the class name <nobr><code>hmlTocLev0</code></nobr>, <nobr><code>hmlTocLev1</code></nobr>, etc. (<nobr><code>hmlTocLev0</code></nobr> corresponds to an <nobr><code>&lt;h0&gt;</code></nobr>, <nobr><code>hmlTocLev1</code></nobr> to an <nobr><code>&lt;h1&gt;</code></nobr>, etc.)
<p>
A <nobr><code>&lt;div&nbsp;class=&quot;hmlToc&quot;&gt;</code></nobr> surrounds the entire table.
If you specify attributes in the original <nobr><code>&lt;toc&gt;</code></nobr> tag (including a class
name), they  end up in this <nobr><code>&lt;div&gt;</code></nobr> element.
<p>
A <nobr><code>&lt;div&nbsp;class=&quot;hmlTocTitle&quot;&gt;</code></nobr> surrounds the title (the contents of the <nobr><code>&lt;toc&gt;Title&lt;/toc&gt;</code></nobr>
element).
<p>
A <nobr><code>&lt;div&nbsp;class=&quot;hmlTocLevel</code></nobr><em>N</em><nobr><code>&quot;&gt;</code></nobr> surrounds each Table-of-contents entry
(where <em>N</em> is the heading level---1 for both <nobr><code>&lt;h1&gt;</code></nobr> and <nobr><code>&lt;h0&gt;</code></nobr>
headings, 2 for <nobr><code>&lt;h2&gt;</code></nobr> headings, 3 fro <nobr><code>&lt;h3&gt;</code></nobr> headings, and so on).
<p>
To eliminate all headings at a particular level from the table of contents,
restyle the associated element to not print.
For example, remove all heading levels from 4 up with:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;head&gt;
    &lt;style&gt;
        .hmlTocLev4{ display:none; } 
        .hmlTocLev5{ display:none; } 
        .hmlTocLev6{ display:none; } 
        .hmlTocLev7{ display:none; } 
        .hmlTocLev8{ display:none; } 
        .hmlTocLev9{ display:none; } 
    &lt;/style&gt;
&lt;head&gt;
</pre>
</div>
</div>
The HML processor also provides anchors around all headings to serve as targets to the table-of-contents links.
(These anchors are not generated if the heading element has a <nobr><code>toc=&quot;no&quot;</code></nobr> attribute, however.)
If your original heading has a label, as in:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
= heading = myLabel
</pre>
</div>
</div>
or
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h1 label="myLabel"&gt;heading&lt;/h1&gt;
</pre>
</div>
</div>
then the generated anchor uses that label:
<blockquote class="hmlBlock">
<nobr><code>&lt;a&nbsp;name=&quot;myLabel&quot;&gt;&nbsp;...&nbsp;&lt;/a&gt;</code></nobr><br>
</blockquote>
If you don't specify a label, then the processor supplies one:
<blockquote class="hmlBlock">
<nobr><code>&lt;a&nbsp;name=&quot;hmlContents</code></nobr><em>N</em><nobr><code>&quot;&gt;&nbsp;...&nbsp;&lt;/a&gt;</code></nobr><br>
</blockquote>
where <em>N</em> is an arbitrary number.
This number changes if you add sections, etc., so it's not a good idea to actually use it for anything.
It will appear in the browser's title bar when you use the table-of-contents link to get to a section of your document, however,
so if you don't want anybody to see these machine-generated anchors, provide explicit labels in your heading tags.

<a name="styling-mixed-headings"><h3>28.3.1.  Styling Unnumbered Sections in a Numbered Document</h3></a>
<p>
The current document uses both <nobr><code>&lt;h0&gt;</code></nobr> (for the Parts, End Notes, and Index) and <nobr><code>&lt;h1&gt;</code></nobr> (for the numbered sections) headings.
That works fine in the sense that an <nobr><code>&lt;h0&gt;</code></nobr> doesn't impact the section numbering at all.
The unnumbered headings are styled a bit differently than the numbered ones, however. That's easy to do in the table of contents, since the <nobr><code>&lt;h0&gt;</code></nobr> headings use
the <nobr><code>hmlTocLevel0</code></nobr> class. In the main text, you need to specify a class explicitly. Here's how it's done in the current document:

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;h0 class="part"&gt; Part I: Core Features&lt;/h0&gt;
&lt;head&gt;
    &lt;style&gt;
    .hmlTocLev0 { margin-top: .5em; margin-bottom: .5em; font-weight: bold; font-size: 12pt; }
    .part       { margin-top: .5in; margin-bottom: .5in; font-weight: bold; font-size: 20pt; }
    &lt;/style&gt;
&lt;/head&gt;
</pre>
</div>
</div>

<a name="endnoteLayoutAndBehavior"><h2>28.4.  Modifying endnote appearance and behavior</h2></a>
<p>
This input
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
Text&lt;note&gt;The note.&lt;/note&gt;
&lt;endNotes&gt;
Title
&lt;/endNotes&gt;
</pre>
</div>
</div>
creates This output

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
Text&lt;span class="hmlNote"&gt;&lt;a name="hmlRef-1" id="hmlRef-1" href="#hmlNote1"&gt;1&lt;/a&gt;&lt;/span&gt;
&lt;div  class="hmlNotes"&gt;

Title
&lt;div class="hmlNoteGroup" id="hmlNote-1"&gt;&lt;div class="hmlNoteRef"&gt;&lt;a name="hmlNote1" href="#hmlRef-1"&gt;1&lt;/a&gt;&lt;/div&gt;&lt;div class="hmlNoteBody" id="hmlNoteBody-1"&gt;The note.&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>
</div>
</div>
There are a few things to notice here.
First of all, the footnote reference is surrounded with a <nobr><code>&lt;span&nbsp;class=&quot;hmlNote&quot;&gt;</code></nobr> element, so you can style it.
The reference mark down in the note itself is surrounded by a <nobr><code>&lt;div&nbsp;class=&quot;hmlNoteRef&quot;&gt;</code></nobr>,
so it can also be styled (as can the note text, which has the class <nobr><code>hmlNoteBody</code></nobr>).
<p>
The popup behavior of the note is implemented with a bit of JavaScript (<a href="#hml.head">Listing 1</a>, <a href="#notePopUp">line 238</a>).
To eliminate the popup behavior for all your documents (whereupon the note reference is a hyperlink to the note text),
just remove the <nobr><code>&lt;script&gt;</code></nobr> element from <em>hml.head</em>.
If you want to remove the popup behavior for a single document only, put the following <nobr><code>&lt;script&gt;</code></nobr> element into your document:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;script&gt;
popupNote = function(){};
&lt;/script&gt;
</pre>
</div>
</div>
<a name="index-layout"><h2>28.5.  Styling the index</h2></a><a name="hmlIndex-76-6"></a>
Index entries are organized as follows (formatting may vary):
<blockquote class="hmlBlock">
<nobr><code>&lt;div&nbsp;class=&quot;hmlIndex&quot;&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></nobr><em>Optional title specified in <index> element.</em><br>
<nobr><code>&lt;div&nbsp;class=&quot;hmlTopics&quot;&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;hmlTopicGroup&quot;&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;hmlTopic&quot;&gt;</code></nobr><em>topic</em><nobr><code>&lt;/div&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;hmlTopicLocationGroup&quot;&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;hmlTopicLocation&quot;&nbsp;href=&quot;#locationMarker1&quot;&gt;1,&lt;/a&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a&nbsp;class=&quot;hmlTopicLocation&quot;&nbsp;href=&quot;#locationMarker2&quot;&gt;2&lt;/a&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></nobr>&hellip;<br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&lt;/div&gt;</code></nobr><br>
<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></nobr>&hellip;<br>
<nobr><code>&lt;/div&gt;&lt;/div&gt;</code></nobr><br>
</blockquote>
The <nobr><code>hmlIndex</code></nobr> div contains both the title and the actual index.
The default style for <nobr><code>hmlTopics</code></nobr> calls for 2-column output, and each <nobr><code>hmlTopic</code></nobr> is in boldface.

<a name="hmlContents46"><h2>28.6.  Processing order</h2></a>
<p>
The processor makes several passes through the input&mdash;each pass works on the output of the
previous pass. The logical ordering of the passes is:

<ol>
<li> <nobr><code>&lt;include&gt;</code></nobr> and <nobr><code>&lt;import&gt;</code></nobr> elements;
</li>
<li> code snipets;
</li>
<li> text-block macros;
</li>
<li> <nobr><code>&lt;listing&gt;</code></nobr> and <nobr><code>&lt;pre&gt;</code></nobr> elements (including comma-prefixed lines);
</li>
<li> code-block macros;
</li>
<li> table, figure, and listing titles; headings;
</li>
<li> reference-level macros;
</li>
<li> references to tables, listings, figures, and headings
</li>
<li> table-of-contents insertion.
</li>
</ol>
This order matters only when you start defining your own macros. 
For example, the processor expands includes before processing macros, so a macro that expands to an <nobr><code>&lt;include&gt;</code></nobr> element won't work.

</ol><a name="hmlIndex-242-1"></a>
<a name="hmlContents47"><h1>29.  HML and <em>vim</em></h1></a>
<p>
HML is best written in a programmer's editor like <em>vim</em>,
which can handle straight-ASCII text without adding idiosyncratic modifications.
If you use vim, you can
keep a browser window open next to the vim editor window.
On each save of the source file, <em>vim</em> can run the HML processor automatically,
a simple browser refresh after writing immediately shows the new version.
To make vim do that, add the following line to your <em>.vimrc</em> file:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
  autocmd BufWritePost *.hml silent! !/Users/allen/bin/hml &lt;afile&gt;
</pre>
</div>
</div>
<em>/Users/allen/bin/hml</em> is the path to a shell script that executes HML (<a href="#hmlscript">Listing 29.1</a>).
The <nobr><code>!silent</code></nobr> tells vim to hide the output from the script.
Removing the <nobr><code>!silent</code></nobr> allows vim to display any error messages,
but vim will now force you to hit the <em>Enter</em> after every write operation,
which is annoying.
The <em>hml</em> script in <a href="#hmlscript">Listing 29.1</a> solves the problem on a mac
by using the Mac's "say" command to sound an audio alert in the event of an error.
You can do something similar in Ubuntu, at least, with
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
echo "Found errors" | espeak
</pre>
</div>
</div>
(<em>espeak</em> should be installed by default, but you can get it from <a target="_blank" href="http://espeak.sourceforge.net/">http://espeak.sourceforge.net/</a>).
In the Windows world, you can play a sound file from inside a batch file with:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
C:\Windows&gt;start C:\Windows\Media\tada.wav
</pre>
</div>
</div>
or run Media Player directly:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
mplay32 /play /close c:\windows\media\chimes.wav
</pre>
</div>
</div>

<div class="hmlListingTitle"><a name="hmlscript"><span class="hmlTitle">Listing 29.1.</span> <em>hmlscript</em></a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
2<br>
3<br>
4<br>
5<br>
6<br>
7<br>
8<br>
9<br>
10<br>
11<br>
12<br>
13<br>
14<br>
15<br>
16<br>
17<br>
18<br>
19<br>
20<br>
21<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment"># !/bin/bash</span>
<span class="hmlComment">#
# Run hml from file-system binaries. If the file name ends in .html,</span>
<span class="hmlComment"># the otuput filename is the input name with a .html INSTEAD OF a</span>
<span class="hmlComment"># .hml extension. If the file name ends in anything else, the output file</span>
<span class="hmlComment"># has a .html added. This script has sounds an audible message where</span>
<span class="hmlComment"># there are errors, necessary because VIM calls the script whenever you</span>
<span class="hmlComment"># write a .hml file, and VIM doesn't show you any error messages, when</span>
<span class="hmlComment"># errors occur.</span>
<span class="hmlComment">#
# This version runs HML directly from the file system.</span>
java -cp ~/projects/src/Hml/bin:/Users/allen/projects/src/util/bin:$CLASSPATH com.holub.hml.Hml $1 &gt; ${1%.hml}.html

<span class="hmlComment"># This version runs the HML processor from the distribution jar. modify the line to</span>
<span class="hmlComment"># reflect the path to your copy of the .jar file.</span>
<span class="hmlComment">#
#     java -jar ~/bin/hml.jar $1 &gt; ${1%.hml}.html</span>

if [ $? -ne 0 ]; then 
    say -v Agnes "There were errors" 
fi
</pre>
</div>
</div><a name="hmlIndex-243-1"></a>
<a name="hmlContents48"><h1>30.  HML and Log4j</h1></a>
<p>
The HML processor uses <em>log4j</em> to print debugging diagnostics. If you don't know what
that means, don't worry, because diagnostic printing is turned off by default.
<p>
If you <em>do</em> use <em>log4j</em>, and your local default configuration file enables logging at the DEBUG level or lower,
diagnostic messages appear every time the HML processor runs.
To turn off those messages, put a
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
log4j.logger.com.holub=fatal
</pre>
</div>
</div>
in your <em>log4j.properties</em>, or put the following in <em>log4j.xml</em> if you use an xml configuration.
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;logger name="com.holub"&gt;
    &lt;level value="fatal"&gt;
&lt;/logger&gt;
</pre>
</div>
</div>

<a name="hmlContents49"><h1>Multiple output files</h1></a><a name="hmlIndex-244-1"></a><a name="hmlIndex-245-1"></a>
You can specify one or more output files.
Multiple files are useful for long
documents like books, where the output goes to individual per-chapter files.
The <em>--out file</em> (or <em>-o file</em>) command-line argument tells the processor to change the
output file to a new file. All subsequent output goes to the new file.
The <em>--out</em> directives are position dependent.
<p>
For example, the following command processes chapter 1 (<em>ch1.hml</em>)
and sends the output to <nobr><code>ch1.html</code></nobr>,
then it processes chapter 2 (<em>ch2.hml</em>) and sends the output to <nobr><code>ch2.html</code></nobr>.

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&gt; java -jar hml.jar --out ch1.html ch1.hml --out ch2.html ch2.hml
</pre>
</div>
</div>
Use <em>--out</em> (rather than process each file independently)
when the second chapter contains a
symbolic reference to a listing, figure, or table in Chapter 1,
or if Chapter 2 references a section in Chapter 1 by section number.
Note that this mechanism doesn't work for intra-file forward references&mdash;you can't
reference a file the processor hasn't processed yet. 
<p>
The processor <em>can</em> handle forward references within a file. You can symbolically
reference a listing pulled into the document later on in the same input file,
for example. You can't reference a listing in an input file
that hasn't yet been processed, however.
<p>
All output from processing files listed to the left of the first <em>--out</em>
directive goes to standard output.<a name="hmlIndex-246-1"></a>
<a name="config"><h1>Appendix A. Configuration</h1></a>
<p>
The distribution file&mdash;<em>hml.jar</em> includes a default set of configuration files (<em>hml.head</em>, <em>hml.tail</em>, <em>hml.macros</em>).
The HML processor uses these versions by default.
<p>
The HML output file contains the contents of <em>hml.head</em>, followed by the processed input file, followed by the contents of <em>hml.tail</em>.
Default definitions for all HML's CSS styles are in <em>hml.head</em>,
along with the <nobr><code>DOCTYPE</code></nobr>, <nobr><code>&lt;head&gt;</code></nobr>, <nobr><code>&lt;html&gt;</code></nobr>, and <nobr><code>&lt;body&gt;</code></nobr> tags.
The <nobr><code>&lt;/body&gt;&lt;/html&gt;</code></nobr> is in <em>hml.tail</em>.
<p>
The various hml macros are defined in <em>hml.macros</em>.
<p>
You may provide custom versions of these files if you like.
The best way to do that is use the default files as a template.
Get the default versions by copying hml.jar to hml.zip and 
unpacking the hml.zip with an archive utility.
On Mac or Windows, just double click a .zip file to open it. 
The root directory of the unpacked archive contains the configuration files.
<p>
The HML processor looks for customized configuration files before it loads
the defaults in the jar file, so you don't need to replace the default versions in
the .jar file. Just provide the custom versions somewhere in the file system.
<p>
The easiest way to specify an arbitrary location for a customized
configuration files is on the java command line with a <nobr><code>-D</code></nobr> command-line switch:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
java "-DCONFIG=/path/to/my/config/folder" -jar hml.jar myInputFile &gt; myOutputFile
</pre>
</div>
</div>
Be sure to specify the folder that contains the config files, not the
full path to a specific file.
<p>
If you don't use the <nobr><code>-D</code></nobr> mechanism,
HML looks for configuration files first in
the directory that the <em>CONFIG</em> environment variable specifies.<span class="hmlNote"><a name="hmlRef-247" id="hmlRef-247" href="#hmlNote247">**</a></span>
Then, if
<em>CONFIG</em> is not set, the processor looks in the <em>~/config</em> directory
(that is, in the <em>config</em> subdirectory of your home directory),
then it searches the places specified in <em>CLASSPATH</em> environment variable
that's used by Java.

<a name="comment-config"><h2>Changing the way comments are processed</h2></a>
<p>
At present, you cannot modify the automatic-tagging feature to work with a language
other than Java. (That's definitely on the to-do list.)
<p>
However, you <em>can</em> change the way that comments work if your language
doesn't use a <nobr><code>/*...*/</code></nobr>, <nobr><code>//</code></nobr>, or <nobr><code>#</code></nobr> for comments. You'll note that the current
document doesn't change anything, so example regular expressions that contain a <nobr><code>#</code></nobr> are
actually formatted incorrectly. The <nobr><code>#</code></nobr> in the expression is treated as a comment.
I could follow the instructions in the current section to remove the # from consideration
as a comment delimiter or require the # to be the first nonwhite character on the line (but I didn't).
<p>
Here's how to change the comment convention to use a <nobr><code>--</code></nobr> instead of a <nobr><code>//</code></nobr> or <nobr><code>#</code></nobr>, and
a <nobr><code>(*...*)</code></nobr> instead of a <nobr><code>/*...*/</code></nobr>.
First, you'll need to tell the HML processor what a bang comment should
look like. Do that by providing a <nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr> element<span class="hmlNote"><a name="hmlRef-248" id="hmlRef-248" href="#hmlNote248">15</a></span>
that specifies a <nobr><code>bangComment</code></nobr> variable. You can put the<nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr> element 
anywhere in your document proper
or pull in a file that contains the directive using an <nobr><code>&lt;import...&gt;</code></nobr> statement.
(you cannot put it into hml.head, however).
<p>
The element should look like this:
<blockquote class="hmlBlock">
<nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr><br>
	<nobr><code>bangComment=--!</code></nobr><br>
	<nobr><code>&lt;</code></nobr><nobr><code>/config&gt;</code></nobr><br>
</blockquote>
The <nobr><code>--!</code></nobr> is actually a regular expression, though it's a pretty boring one.
If you define a more complicated expression, be careful not to use any
capturing groups in it. Use <nobr><code>(?:&nbsp;...&nbsp;)</code></nobr> for grouping.
<p>
The next step is to modify the comment-related code macros. The defaults
are defined as follows in <a href="#hml.macros">Listing 3</a> (<a href="#commentMacros">line 409</a> and following):

<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
code: '/\*\s*?\*/''MULTILINE
code: '^([ \t]*[^ \t/].*?)[ \t]*(?:<span class="hmlComment">//|(?&lt;!&)#+)[ \t]*$'$1'MULTILINE     </span>

code: '/\*.*?\*/'&lt;span class=\"hmlComment\"&gt;$0&lt;/span&gt;'DOTALL|MULTILINE
code: '(?:<span class="hmlComment">//|(?&lt;!&)#+[- \n=]).*'&lt;span class=\"hmlComment\"&gt;$0&lt;/span&gt;'MULTILINE</span>
</pre>
</div>
</div>
These first two of these macros are in charge of deleting empty comments from the listings in
both the <nobr><code>/*...*/</code></nobr> and <nobr><code>//</code></nobr> form. The second of these is a little tricky. It removes
the comment only if there's text to the left of the <nobr><code>//</code></nobr>. That way, you can do something like
this:
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
<br>
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">// ...some text</span>
<span class="hmlComment">//</span>
<span class="hmlComment">// some more text...</span>
</pre>
</div>
</div>without the comment being deleted. However, a line like
<blockquote class="hmlBlock">
<nobr><code>f();&nbsp;&nbsp;//</code></nobr><br>
</blockquote>
is transformed to
<div class="hmlPreGroup">
<div class="hmlCodeAnnotations">
<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
f();
</pre>
</div>
</div>

<p>
The second group of macros wrap the comments in <nobr><code>&lt;span&gt;</code></nobr> elements that format them properly.
The relevant part of the regular expression is:
<blockquote class="hmlBlock">
<nobr><code>(?:/</code></nobr><nobr><code>/|(?&lt;!&amp;)#)</code></nobr><br>
</blockquote>
which is a non-capturing group that matches either a <nobr><code>//</code></nobr> or a <nobr><code>#</code></nobr> that's not preceded by an <nobr><code>&amp;</code></nobr>.
Modify the macros to recognize <nobr><code>--</code></nobr> as the comment delimiter by replacing that part of the regular expression.
Similarly, change the <nobr><code>/\*</code></nobr> to a <nobr><code>\(\*</code></nobr> to handle the replacement multiple-line-comment syntax.
Here's a <nobr><code>&lt;macro&gt;</code></nobr> element that makes those changes:
<blockquote class="hmlBlock">
<nobr><code>&lt;macro&gt;</code></nobr><br>
<nobr><code>code:&nbsp;&apos;\(\*\\s*\*\)&apos;&apos;DOTALL|MULTILINE</code></nobr><br>
<nobr><code>code:&nbsp;&apos;^([&nbsp;\t]*[^&nbsp;\t/].*?)[&nbsp;\t]*--[&nbsp;\t]*$&apos;$1&apos;MULTILINE</code></nobr><br>
<br>
<nobr><code>code:&nbsp;&apos;\(\*.*?\*\)&apos;&lt;span&nbsp;class=\&quot;hmlComment\&quot;&gt;$0&lt;/span&gt;&apos;DOTALL|MULTILINE</code></nobr><br>
<nobr><code>code:&nbsp;&apos;--.*&apos;&lt;span&nbsp;class=\&quot;hmlComment\&quot;&gt;$0&lt;/span&gt;</code></nobr><br>
<nobr><code>&lt;/macro&gt;</code></nobr><br>
</blockquote>
Include this <nobr><code>&lt;macro&gt;</code></nobr> element in the same file that holds the <nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr> element and <nobr><code>&lt;import&gt;</code></nobr> that file,
or alternatively, make the change in your local version of <nobr><code>hml.macros</code></nobr>.
If you do the former, the original macros will still be active in addition to the new macros you've just defined.

<a name="hmlContents50"><h2>Configuration Files</h2></a>
<p>
The following listings are the default configurations at the time of this writing.
These are all in the top-level folder of the <em>hml.jar</em> file.
(Again, copy <em>hml.jar</em> to <em>hml.zip</em> and unzip it to examine the actual files.) 

<a name="listings"></a>
<div class="hmlListingTitle"><a name="hml.head"><span class="hmlTitle">Listing 1.</span> <em>hml.head</em></a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
2<br>
3<br>
4<br>
5<br>
6<br>
7<br>
8<br>
9<br>
10<br>
11<br>
12<br>
13<br>
14<br>
15<br>
16<br>
17<br>
18<br>
19<br>
20<br>
21<br>
22<br>
23<br>
24<br>
25<br>
26<br>
27<br>
28<br>
29<br>
30<br>
31<br>
32<br>
33<br>
34<br>
35<br>
36<br>
37<br>
38<br>
39<br>
40<br>
41<br>
42<br>
43<br>
44<br>
45<br>
46<br>
47<br>
48<br>
49<br>
50<br>
51<br>
52<br>
53<br>
54<br>
55<br>
56<br>
57<br>
58<br>
59<br>
60<br>
61<br>
62<br>
63<br>
64<br>
65<br>
66<br>
67<br>
68<br>
69<br>
70<br>
71<br>
72<br>
73<br>
74<br>
75<br>
76<br>
77<br>
78<br>
79<br>
80<br>
81<br>
82<br>
83<br>
84<br>
85<br>
86<br>
87<br>
88<br>
89<br>
90<br>
91<br>
92<br>
93<br>
94<br>
95<br>
96<br>
97<br>
98<br>
99<br>
100<br>
101<br>
102<br>
103<br>
104<br>
105<br>
106<br>
107<br>
108<br>
109<br>
110<br>
111<br>
112<br>
113<br>
114<br>
115<br>
116<br>
117<br>
118<br>
119<br>
120<br>
121<br>
122<br>
123<br>
124<br>
125<br>
126<br>
127<br>
128<br>
129<br>
130<br>
131<br>
132<br>
133<br>
134<br>
135<br>
136<br>
137<br>
138<br>
139<br>
140<br>
141<br>
142<br>
143<br>
144<br>
145<br>
146<br>
147<br>
148<br>
149<br>
150<br>
151<br>
152<br>
153<br>
154<br>
155<br>
156<br>
157<br>
158<br>
159<br>
160<br>
161<br>
162<br>
163<br>
164<br>
165<br>
166<br>
167<br>
168<br>
169<br>
170<br>
171<br>
172<br>
173<br>
174<br>
175<br>
176<br>
177<br>
178<br>
179<br>
180<br>
181<br>
182<br>
183<br>
184<br>
185<br>
186<br>
187<br>
188<br>
189<br>
190<br>
191<br>
192<br>
193<br>
194<br>
195<br>
196<br>
197<br>
198<br>
199<br>
200<br>
201<br>
202<br>
203<br>
204<br>
205<br>
206<br>
207<br>
208<br>
209<br>
210<br>
211<br>
212<br>
213<br>
214<br>
215<br>
216<br>
217<br>
218<br>
219<br>
220<br>
221<br>
222<br>
223<br>
224<br>
225<br>
226<br>
227<br>
228<br>
229<br>
230<br>
231<br>
232<br>
233<br>
234<br>
235<br>
236<br>
237<br>
<a name="notePopUp"></a>238<br>
239<br>
240<br>
241<br>
242<br>
243<br>
244<br>
245<br>
246<br>
247<br>
248<br>
249<br>
250<br>
251<br>
252<br>
253<br>
254<br>
255<br>
256<br>
257<br>
258<br>
259<br>
260<br>
261<br>
262<br>
263<br>
264<br>
265<br>
266<br>
267<br>
268<br>
269<br>
270<br>
271<br>
272<br>
273<br>
274<br>
275<br>
276<br>
277<br>
278<br>
279<br>
280<br>
281<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;!--
| You can add elements to the end of this head element using
| the HML processor's &lt;head&gt; element. The material you add goes
| at the end of the version supplied here, so will prempt/augment.
| the default style. Do that to customize the styling for a single
| document. Changes made in the current file affect ALL documents.
--&gt;
&lt;style&gt;
    <span class="hmlComment">/* ----------------------------------------------------------------------
     * Font info for the document. The line height in the listings must
     * be sufficient to accommodate slightly different letter height in the
     * different fonts.
     */</span>

    body, td {
        font: 10pt Helvetica,Arial,sans-serif;
    }

    .hmlPre {
        font-size: 10pt;
        line-height: 11pt;
    }

    .hmlCodeAnnotations {       <span class="hmlComment">/* line numbers in the listings */</span>
        font-size: 9pt;
        line-height: 11pt;
    }

    <span class="hmlComment">/* ---------------------------------------------------------------------- */</span>

    body {
        margin-left: .75in;
        margin-right: .5in;
    }

    @media print
    {
        body {
            margin-left: .1in;
            margin-right: .1in;
        }
    }


    td {
    }

    .hmlBox {
        margin: 3pt 0 3pt 0;
        border-style: solid;
        border-width:1px;
        padding: 3pt 3pt 3pt 3pt;
    }

    .hmlListingGroup, .hmlPreGroup { <span class="hmlComment">/* Group together code and annotations in listing or pre */</span>
        margin:  1em 0em 1em 2em;
        padding: 0pt 0pt 0pt 0pt;
    }

    .hmlListingGroup {
        border: 1px solid lightgray;
    }

    .hmlCodeAnnotations {                   <span class="hmlComment">/* All annotations (both listing and pre ) */</span>
        text-align: right;
        display:table-cell;
    }

    .hmlListingGroup .hmlCodeAnnotations {  <span class="hmlComment">/* augmentations for listing annotations only */</span> 
        border-right: 1px solid lightgray;
        padding-right: .5em;
        width:.4in;
        color: lightblue;
        font-style: italic;
    }

    .hmlCode {              <span class="hmlComment">/* Div that holds the code in a listing or pre */</span>
        padding-left:.5em;
        display:table-cell;
    }

    .hmlPre {               <span class="hmlComment">/* The pre block inside the div generated by a listing or pre */</span>
        margin:  0pt 0pt 0pt 0pt;
        padding: 0pt 0pt 0pt 0pt;
    }

    .hmlComment {           <span class="hmlComment">/* A comment in a listing or pre */</span>
        color: green;
        font-style: italic;
    }
    
    .hmlKeyword {           <span class="hmlComment">/* A keyword in a listing or pre */</span>
        color: rgb(119,12,80);
    }

    .hmlListingTitle,
    .hmlFigureTitle,
    .hmlTableTitle
    {   font-weight: bold;
    }

    <span class="hmlComment">/* Tables introduced with | */</span>
    .hmlTable {
    }

    .hmlTitle {
        font-style: italic;
    }

    .hmlTable,
    .hmlBlock {
        margin-top: 1em;
        margin-left: 2em; <span class="hmlComment">/* same as pre blocks. */</span>
        margin-bottom: 1em;
    }

    .hmlTable td {
        vertical-align: top;
        padding-right: 1em;
    }

    .hmlTable .hmlTableLine {
        border-bottom: 1px solid black;
        font-size: .1pt;
    }

    .hmlToc {
        border: 1px solid black;
        padding: 1em 1em 1em 1em;
        width: auto;
    }

    .hmlTocTitle {
        font-weight: bold;
        margin-bottom: 1em;
    }

    .hmlTocLev0,
    .hmlTocLev1,
    .hmlTocLev2,
    .hmlTocLev3,
    .hmlTocLev4,
    .hmlTocLev5,
    .hmlTocLev6,
    .hmlTocLev7,
    .hmlTocLev8,
    .hmlTocLev9
    {
        font-weight: normal;
        padding: 0 0 0 0;
        margin-top: 0pt;
        margin-bottom: 0pt;
        margin-right; 0pt;
        width: auto;
    }

    .hmlTocLev2{ margin-left: 2em; }
    .hmlTocLev3{ margin-left: 4em; }
    .hmlTocLev4{ margin-left: 6em; }
    .hmlTocLev5{ margin-left: 8em; }
    .hmlTocLev6{ margin-left: 10em; }
    .hmlTocLev7{ margin-left: 12em; }
    .hmlTocLev8{ margin-left: 14em; }
    .hmlTocLev9{ margin-left: 16em; }
    
    .hmlIndex {}    <span class="hmlComment">/* the entire index, including the title */</span>
    .hmlTopics {    <span class="hmlComment">/* The index body */</span>
        -moz-column-count: 2;
        -webkit-column-count: 2;
        column-count: 2;
        
        -moz=column-gap: 2em;
        -webkit=column-gap: 2em;
    }
    .hmlTopicGroup {}                               <span class="hmlComment">/* The combined topic title and references */</span>
    .hmlTopic { display:inline; font-weight:bold; } <span class="hmlComment">/* The topic title */</span>
    .hmlTopicLocationGroup { display:inline; }      <span class="hmlComment">/* The set of references */</span>
    .hmlTopicLocation { display:inline; }           <span class="hmlComment">/* A single reference */</span>

    <span class="hmlComment">/* The entire notes section, including the title.
     * Contains several hmlNoteGroup divs, one for each note.
     */</span>
    .hmlNotes {
    }

    <span class="hmlComment">/* A note reference and a single note. Contains an .hmlNoteRef and an .htmlNoteBody
    */</span>
    .hmlNoteGroup {
        margin-top: 6pt;
        display: table-row;
    }

    .hmlNoteRef {   <span class="hmlComment">/* The mark designator in the hmlNotes section */</span>
        font-size: 10pt;
        top: 0pt;
        display: table-cell;
        width: .3in;
    }  
    
    .hmlNoteBody  { <span class="hmlComment">/* the note text in the hmlNotes section */</span>
        display: table-cell;
    }

    .hmlNote   { <span class="hmlComment">/* The reference mark to a note within the text itself */</span>
    }
    
    .hmlSuperscript, .hmlNote {
        font-size: 7pt;
        position: relative;
        top: -3pt;
    }

    .hmlSubscript {
        font-size: 7pt;
        position: relative;
        top: 3pt;
    }

    .hmlNotePopup {
        width: 4in;
        padding: 1em 1em 1em 1em;
        border: 1px solid #B0AB9A;
        background-color: #FFF8E0;
        box-shadow: 7px 7px 10px #B0AB9A;
    }

    @media print
    {    
        .hmlNote {
            text-decoration: none;
        }
    }
&lt;/style&gt;

&lt;!-- This script element causes the endnote to pop up when you hover the mouse 
    over the reference mark. If you'd rather click on the mark to jump to the
    note at the end of the page, just remove the script
--&gt;
&lt;script&gt;
    function popupNote( leftOffset, topOffset )
    {
        var popup = document.getElementById("hmlNotePopup");

        popup.style.display  = "block";
        popup.style.position = "absolute";
        popup.style.zIndex   = 1000;
        popup.style.top      = topOffset   + "px" ;
        popup.style.left     = leftOffset  + "px" ;
    }

    window.onload =
        function setUpNotePopups()
        {
            var noteRefs = document.getElementsByClassName("hmlNote");
            for( i = 0; i &lt; noteRefs.length; ++i )
            {
                var currentNote = noteRefs[i]
                var popup       = document.getElementById("hmlNotePopup");

                noteRefs[i].onmouseover = function( e ) {
                    var noteId      = e.target.id.replace( /.*-/, "hmlNoteBody-");
                    var leftOffset  = e.clientX + document.documentElement.scrollLeft -10;
                    var topOffset   = e.clientY + document.documentElement.scrollTop  -10;

                    popup.innerHTML = document.getElementById( noteId ).innerHTML ;
                    popupNote( leftOffset, topOffset );
                }

                popup.onmouseout = function() {
                    popup.style.display = "none";
                }

            }
        };
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="hmlNotePopup" class="hmlNotePopup" style="display:none;"&gt;&lt;/div&gt;
</pre>
</div>
</div>
<div class="hmlListingTitle"><a name="hml.tail"><span class="hmlTitle">Listing 2.</span> <em>hml.tail</em></a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
2<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
</div><div class="hmlListingTitle"><a name="hml.macros"><span class="hmlTitle">Listing 3.</span> <em>hml.macros</em></a></div>
<div class="hmlListingGroup">
<div class="hmlCodeAnnotations">
1<br>
2<br>
3<br>
4<br>
5<br>
6<br>
7<br>
8<br>
9<br>
10<br>
11<br>
12<br>
13<br>
14<br>
15<br>
16<br>
17<br>
18<br>
19<br>
20<br>
21<br>
22<br>
23<br>
24<br>
25<br>
26<br>
27<br>
28<br>
29<br>
30<br>
31<br>
32<br>
33<br>
34<br>
35<br>
36<br>
37<br>
38<br>
39<br>
40<br>
41<br>
42<br>
43<br>
44<br>
45<br>
46<br>
47<br>
48<br>
49<br>
50<br>
51<br>
52<br>
53<br>
54<br>
55<br>
56<br>
57<br>
58<br>
59<br>
60<br>
61<br>
62<br>
63<br>
64<br>
65<br>
66<br>
67<br>
68<br>
69<br>
70<br>
71<br>
72<br>
73<br>
74<br>
75<br>
76<br>
77<br>
78<br>
79<br>
80<br>
81<br>
82<br>
83<br>
84<br>
85<br>
86<br>
87<br>
88<br>
89<br>
90<br>
91<br>
92<br>
93<br>
94<br>
95<br>
96<br>
97<br>
98<br>
99<br>
100<br>
101<br>
102<br>
103<br>
104<br>
105<br>
106<br>
107<br>
108<br>
109<br>
110<br>
111<br>
112<br>
113<br>
114<br>
115<br>
116<br>
117<br>
118<br>
119<br>
120<br>
121<br>
122<br>
123<br>
124<br>
125<br>
126<br>
127<br>
128<br>
129<br>
130<br>
131<br>
132<br>
133<br>
134<br>
135<br>
136<br>
137<br>
138<br>
139<br>
140<br>
141<br>
142<br>
143<br>
144<br>
145<br>
146<br>
147<br>
148<br>
149<br>
150<br>
151<br>
152<br>
153<br>
154<br>
155<br>
156<br>
157<br>
158<br>
159<br>
160<br>
161<br>
162<br>
163<br>
164<br>
165<br>
166<br>
167<br>
168<br>
169<br>
170<br>
171<br>
172<br>
173<br>
174<br>
175<br>
176<br>
177<br>
178<br>
179<br>
180<br>
181<br>
182<br>
183<br>
184<br>
185<br>
186<br>
187<br>
188<br>
189<br>
190<br>
191<br>
192<br>
193<br>
194<br>
195<br>
196<br>
197<br>
198<br>
199<br>
200<br>
201<br>
202<br>
203<br>
204<br>
205<br>
206<br>
207<br>
208<br>
209<br>
210<br>
211<br>
212<br>
213<br>
214<br>
215<br>
216<br>
217<br>
218<br>
219<br>
220<br>
221<br>
222<br>
223<br>
224<br>
225<br>
226<br>
227<br>
228<br>
229<br>
230<br>
231<br>
232<br>
233<br>
234<br>
235<br>
236<br>
237<br>
238<br>
239<br>
240<br>
241<br>
242<br>
243<br>
244<br>
245<br>
246<br>
247<br>
248<br>
249<br>
250<br>
251<br>
252<br>
253<br>
254<br>
255<br>
256<br>
257<br>
258<br>
259<br>
260<br>
261<br>
262<br>
263<br>
264<br>
265<br>
266<br>
267<br>
268<br>
269<br>
270<br>
271<br>
272<br>
273<br>
274<br>
275<br>
276<br>
277<br>
278<br>
279<br>
280<br>
281<br>
282<br>
283<br>
284<br>
285<br>
286<br>
287<br>
288<br>
289<br>
290<br>
291<br>
292<br>
293<br>
294<br>
295<br>
296<br>
297<br>
298<br>
299<br>
300<br>
301<br>
302<br>
303<br>
304<br>
305<br>
306<br>
307<br>
308<br>
309<br>
310<br>
311<br>
312<br>
313<br>
314<br>
315<br>
316<br>
317<br>
318<br>
319<br>
320<br>
321<br>
322<br>
323<br>
324<br>
325<br>
326<br>
327<br>
328<br>
329<br>
330<br>
331<br>
332<br>
333<br>
334<br>
335<br>
336<br>
337<br>
338<br>
339<br>
340<br>
341<br>
342<br>
343<br>
344<br>
345<br>
346<br>
347<br>
348<br>
349<br>
350<br>
351<br>
352<br>
353<br>
354<br>
355<br>
356<br>
357<br>
358<br>
359<br>
360<br>
361<br>
362<br>
363<br>
364<br>
365<br>
366<br>
367<br>
368<br>
369<br>
370<br>
371<br>
372<br>
373<br>
374<br>
375<br>
376<br>
377<br>
378<br>
379<br>
380<br>
381<br>
382<br>
383<br>
384<br>
385<br>
386<br>
387<br>
388<br>
389<br>
390<br>
391<br>
392<br>
393<br>
394<br>
395<br>
396<br>
397<br>
398<br>
399<br>
400<br>
401<br>
402<br>
403<br>
404<br>
405<br>
406<br>
407<br>
408<br>
<a name="commentMacros"></a>409<br>
410<br>
<a name="xxx"></a>411<br>
412<br>
413<br>
414<br>
415<br>
416<br>
417<br>
418<br>
419<br>
420<br>
421<br>
422<br>
423<br>
424<br>
425<br>
426<br>
427<br>
428<br>
429<br>
430<br>
431<br>
432<br>
433<br>
434<br>
435<br>
436<br>
437<br>
438<br>
439<br>
440<br>
441<br>
</div>
<div class="hmlCode">
<pre class="hmlPre">
<span class="hmlComment">#           DON'T MODIFY THIS FILE UNLESS YOU KNOW WHAT YOU'RE DOING!</span>
<span class="hmlComment">#
# In particular, you need to know regular expressions thoroughly. I</span>
<span class="hmlComment"># recommend reading Jeffrey Friedl's book "Mastering Regular Expressions:"</span>
<span class="hmlComment">#
#   http://www.amazon.com/gp/product/0596528124/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0596528124&amp;linkCode=as2&amp;tag=alleiholuasso</span>
<span class="hmlComment"># </span>
<span class="hmlComment"># The regular expressions in this file follow the Java conventions (which are very similar to the Perl</span>
<span class="hmlComment"># conventions) described here:</span>
<span class="hmlComment">#
#   http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html</span>
<span class="hmlComment">#
# Regular expressions are notoriously difficult to both program and debug. I recommend running a full test</span>
<span class="hmlComment"># after every change, no matter how small. All the macros in this file are tested at the Java level</span>
<span class="hmlComment"># by the MacroTest jUnit test. ****** IF YOU CHANGE A MACRO IN THIS FILE, CHANGE THE JUNIT TEST TOO! *****</span>
<span class="hmlComment"># Running the documentation file (hmldoc.hml) is also not a bad boundary-layer</span>
<span class="hmlComment"># test, since it uses every feature of the system.</span>
<span class="hmlComment">#
# Blank lines, and all lines that start with a # are ignored, as is all text that follows a</span>
<span class="hmlComment">#
# None of the macros in this file are applied to code: they have no effect within</span>
<span class="hmlComment"># a &lt;pre&gt;...&lt;/pre&gt;, &lt;listing&gt;...&lt;/listing&gt;, or `code` block.</span>
<span class="hmlComment">#
# Macros are expanded in the order they appear, which is sometimes important.</span>
<span class="hmlComment"># For example, the character-escape macros (\\, \{, etc.) are defined very</span>
<span class="hmlComment"># early so that they'll be applied before any of the macros that might</span>
<span class="hmlComment"># use those characters.</span>
<span class="hmlComment">#
# If you introduce a new macro, make sure that it doesn't conflict with an existing one.</span>
<span class="hmlComment"># None of the macros in this file are ambiguous. That is, a given input string will not</span>
<span class="hmlComment"># be recognized by more than one of the macros defined here.</span>
<span class="hmlComment">#
# Macros definitions take the form:</span>
<span class="hmlComment">#
#       /regex/replacement/flags</span>
<span class="hmlComment">#
# The first character is used as the delimiter, but you can't use a space or tab as a delimiter.</span>
<span class="hmlComment"># The flags are standard java Pattern-class flags, and you can OR them together (e.g. MULTILINE|DOTALL).</span>
<span class="hmlComment"># Note that you must specify MULTILINE for ^ and $ to work and DOTALL</span>
<span class="hmlComment"># if you want a . to match newlines.</span>
<span class="hmlComment">#
# The following escape sequences are recognized in replacement-text strings: \t \b \n \r \f </span>
<span class="hmlComment"># All other characters are treated literally (so you don't have to use \\ to get a backslash</span>
<span class="hmlComment"># into a replacement string, and you don't have to escape quote marks).</span>
<span class="hmlComment">#
# The following nonstandard variables can also be used in your replacement text:</span>
<span class="hmlComment">#
# %(timestamp)  Full timestamp for "now"</span>
<span class="hmlComment"># %(month)      Month (1-12)</span>
<span class="hmlComment"># %(day)        Day of the month</span>
<span class="hmlComment"># %(month)      Month in English</span>
<span class="hmlComment"># %(day)        day of the week in English</span>
<span class="hmlComment"># %(year)       year (e.g. 2013)</span>
<span class="hmlComment"># %(hr)         hour of the day (0--23)</span>
<span class="hmlComment"># %(min)        minute of the hour (0-60)</span>
<span class="hmlComment"># %(sec)        second of the minute (0-60)</span>
<span class="hmlComment">#
# Use \% to put any of the above into your replacement text as literals.</span>
<span class="hmlComment">#----------------------------------------------------------------------</span>
<span class="hmlComment">#   The following prefixes can introduce macros (eg: code: /regex/repl/flags)</span>
<span class="hmlComment">#
#   text:   Macro is expanded in text blocks only.</span>
<span class="hmlComment">#   code:   Macro is expanded in code blocks only.</span>
<span class="hmlComment">#   ref:    (not implemented, yet) Macro is expanded in a reference-expansion pass that occurs towards the end of</span>
<span class="hmlComment">#           processing only (after all listings are processed). Macro is expanded in</span>
<span class="hmlComment">#           both text and code!</span>
<span class="hmlComment">#----------------------------------------------------------------------</span>

<span class="hmlComment"># Handle escaped characters. With the exception of backquote and open brace,</span>
<span class="hmlComment"># all of these are restored to their original form by the post-macro processing</span>
<span class="hmlComment">#
`\\\\`\&amp;#92;`</span>
`\\\|`\&amp;#124;`
`\\\[`\&amp;#91;`
`\\\]`\&amp;#93;`
`\\\{`\&amp;#123;`
`\\\}`\&amp;#125;`
`\\\*`\&amp;#42;`
`\\\^`\&amp;#94;`
`\\\_`\&amp;#95;`
|\\`|\&amp;#96;|

`&amp;(?!\#?[a-zA-Z0-9]+;)|&amp;$`&amp;amp;`MULTILINE

<span class="hmlComment"># Comments. Note that the HML ... is handled by Hml.expand()</span>
<span class="hmlComment"># so it can span a &lt;pre&gt;...&lt;/pre&gt; or &lt;listing&gt;...&lt;/listing&gt; element. Macros are handled</span>
<span class="hmlComment"># in a normal Pass, though there scope is limited to a single TEXT block.</span>

<span class="hmlComment"># A C-style end-of-line comment. First handle all real comments, but</span>
<span class="hmlComment"># don't touch \//. Then replaces the \// with a //.</span>
`(^\s*(?&lt;![\\:])<span class="hmlComment">//.*\n)|(\s*(?&lt;![\\:])//[^\n]*)``MULTILINE|DOTALL</span>
`\\<span class="hmlComment">//`//`</span>

<span class="hmlComment"># An HML comment. replaced with ellipsis</span>
`\[\*.*?\*\]`...`DOTALL

`\[\]`&amp;nbsp;&amp;nbsp;`
`\[#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\#\#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`
`\[#\#\#\#\#\#\#\#\]`&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;`

`^-+$`&lt;hr class="hmlRule"&gt;`MULTILINE`

`&lt;&lt;`\&amp;laquo;`
`&gt;&gt;`\&amp;raquo;`

<span class="hmlComment"># Angle brackets. Don't map &lt; or &gt; in HTML/XML elements.</span>
<span class="hmlComment"># This expression is a kluge, but using negative look-behind to protect the trailing &gt;</span>
<span class="hmlComment"># fails. That is, the following expression fails at the final {0,16}:</span>
<span class="hmlComment">#        `(?&lt;<[a-zA-Z]\w{1,32}(\s{1,32}\w{1,32}=".{0,128}"){0,16})&gt;`\&amp;lt;`MULTILINE|DOTALL)</span>
<span class="hmlComment"># This appears to be a bug in Java, not in the expression, but who knows? This stuff is complicated!</span>
<span class="hmlComment"># Instead of look-behind, protect the angle brackets in an HTML element by mapping them to</span>
<span class="hmlComment"># entities, process any brackets that don't form elements, then put back the ones we protected.</span>
<span class="hmlComment">#
# Note that the last two macros (which put things back) don't display properly in HTML. Here's</span>
<span class="hmlComment"># a version with an extra space after the ampersand that's not in the real definition.</span>
<span class="hmlComment">#     '&amp; #60;'&lt;'</span>
<span class="hmlComment">#     '&amp; #62;'&gt;'</span>
<span class="hmlComment">#     '&amp; #38;'\&amp;'</span>
<span class="hmlComment">#
`(?&lt;!\\)&lt;(https?://.*?(?&lt;!\\))&gt;`<$1>`MULTILINE|DOTALL</span>
`(?&lt;!\\)&lt;(/?[\p{Alnum}_-]+(\s+\w+=".*?")*)\s*(?&lt;!\\)&gt;`<$1>`MULTILINE|DOTALL
`&lt;=`\&amp;le;`
`&gt;=`\&amp;ge;`
`&lt;-`<strong>&amp;larr;</strong>`
`-&gt;`<strong>&amp;rarr;</strong>`
`\\?&lt;`\&amp;lt;`
`\\?&gt;`\&amp;gt;`
`<`&lt;`
`>`&gt;`

`(?&lt;=[a-zA-Z])---(?=[a-zA-Z])`\&amp;mdash;`
`(?&lt;=[0-9])--(?=[0-9])`\&amp;ndash;`
`\[---\]`\&amp;mdash;`
`\[--\]`\&amp;ndash;`
`\.\.\.`\&amp;hellip;`

`\([rR]\)`\&amp;reg;`
`\([cC]\)`\&amp;copy;`
`\[(tm|TM)\]`\&amp;trade;`

`(\+-)|(\+/-)|(-\+)`\&amp;plusmn;`
`\[\*\]`\&amp;times;`
`\[/\]`\&amp;divide;`
`\[\+\]`\&amp;plus;`
`\[-\]`\&amp;minus;`
`\[!=\]`\&amp;ne;`
`!=`\&amp;ne;`

`1/4`\&amp;frac14;`
`1/2`\&amp;frac12;`
`3/4`\&amp;frac34;`

`\^1`\&amp;sup1;`
`\^2`\&amp;sup2;`
`\^3`\&amp;sup3;`
`\^o`\&amp;deg;`

`\[SS\]`\&amp;sect;`
`\[dagger\]`\&amp;dagger;`
`\[Dagger\]`\&amp;Dagger;`

`\[Delta\]`\&amp;Delta;`

<span class="hmlComment"># Accented vowels</span>
/\[a``\]/&amp;agrave;/
/\[a'\]/&amp;aacute;/
/\[a\^\]/&amp;acirc;/
/\[e``\]/&amp;egrave;/
/\[e'\]/&amp;eacute;/
/\[e\^\]/&amp;ecirc;/
/\[i``\]/&amp;igrave;/
/\[i'\]/&amp;iacute;/
/\[i\^\]/&amp;icirc;/
/\[o``\]/&amp;ograve;/
/\[o'\]/&amp;oacute;/
/\[o\^\]/&amp;ocirc;/
/\[u``\]/&amp;ugrave;/
/\[u'\]/&amp;uacute;/
/\[u\^\]/&amp;ucirc;/

/\[A``\]/&amp;Agrave;/
/\[A'\]/&amp;Aacute;/
/\[A\^\]/&amp;Acirc;/
/\[E``\]/&amp;Egrave;/
/\[E'\]/&amp;Eacute;/
/\[E\^\]/&amp;Ecirc;/
/\[I``\]/&amp;Igrave;/
/\[I'\]/&amp;Iacute;/
/\[I\^\]/&amp;Icirc;/
/\[O``\]/&amp;Ograve;/
/\[O'\]/&amp;Oacute;/
/\[O\^\]/&amp;Ocirc;/
/\[U``\]/&amp;Ugrave;/
/\[U'\]/&amp;Uacute;/
/\[U\^\]/&amp;Ucirc;/

`\[timestamp\]`%(timestamp)`
`\[Month\]`%(Month)`
`\[Day\]`%(Day)`
`\[month\]`%(month)`
`\[day\]`%(day)`
`\[year\]`%(year)`
`\[hr\]`%(hr)`
`\[min\]`%(min)`
`\[sec\]`%(sec)`

<span class="hmlComment"># boxes</span>

`&lt;box&gt;`&lt;div class="hmlBox"&gt;`
`&lt;/box&gt;`&lt;/div&gt;`

<span class="hmlComment"># ordering matters here. Do the three-quote versions first.</span>
/```/\&amp;ldquo;/
/'''/\&amp;rdquo;/
/``(?!`)/\&amp;lsquo;/
/''(?!')/\&amp;rsquo;/

<span class="hmlComment"># The &amp;#95; is the _ entity. It's turned back into an _ by the restoration macros at the end</span>
<span class="hmlComment"># of the current file.</span>
`\{amazon\s+(\S+)\s+([^}]*)\}`&lt;a href="http:<span class="hmlComment">//www.amazon.com/exec/obidos/ASIN/$1/alleiholuasso" target="&amp;#95;blank"&gt;&lt;em&gt;$2&lt;/em&gt;&lt;/a&gt;`</span>

<span class="hmlComment"># _italic_ *bold*</span>

`^\*(\S.+?)\*$`&lt;strong&gt;$1&lt;/strong&gt;`MULTILINE|DOTALL
`^\*(\S.+?)\*(?=[\s\p{Punct}])`&lt;strong&gt;$1&lt;/strong&gt;`MULTILINE|DOTALL
`(?&lt;=[\s\p{Punct}])\*(\S.+?)\*(?=[\s\p{Punct}])`&lt;strong&gt;$1&lt;/strong&gt;`MULTILINE|DOTALL

`^_(.+?)_$`&lt;em&gt;$1&lt;/em&gt;`MULTILINE
`^_(.+?)_(?=[\s"'!,\.:;\?&gt;\]}\)])`&lt;em&gt;$1&lt;/em&gt;`MULTILINE
`(?&lt;=[&lt;&gt;\[{\(\s])_(.+?)_(?=[\s"'!,\.:;\?&lt;&gt;\]}\)])`&lt;em&gt;$1&lt;/em&gt;`

<span class="hmlComment"># subscript/superscript. Must follow circumflex accents to avoid</span>
<span class="hmlComment"># ambiguity. Do multi-word forms first to avoid ambiguity.</span>
<span class="hmlComment"># Must also follow _italic_ macro.</span>

`(?&lt;![\s\\])\^(\p{Alnum}+)`&lt;sup style="hmlSuperscript"&gt;$1&lt;/sup&gt;`
`\{\^\s*(.*?)\}`&lt;sup style="hmlSuperscript"&gt;$1&lt;/sup&gt;`DOTALL

`(?&lt;=[\p{Alnum}\.;"'&gt;\)}\]])__(\S+)`&lt;sub style="hmlSubscript"&gt;$1&lt;/sub&gt;`
`\{_\s*(.*?)\}`&lt;sub style="hmlSubscript"&gt;$1&lt;/sub&gt;`DOTALL

<span class="hmlComment"># other font-related macros</span>

`\{b\s+(.*?)\}`&lt;strong&gt;$1&lt;/strong&gt;`DOTALL|MULTILINE
`\{i\s+(.*?)\}`&lt;em&gt;$1&lt;/em&gt;`DOTALL|MULTILINE
`\{bi\s+(.*?)\}`&lt;strong&gt;&lt;em&gt;$1&lt;/em&gt;&lt;/strong&gt;`DOTALL|MULTILINE
`\{ci\s+(.*?)\}`&lt;code&gt;&lt;em&gt;$1&lt;/em&gt;&lt;/code&gt;`DOTALL|MULTILINE
`\{cb\s+(.*?)\}`&lt;code&gt;&lt;strong&gt;$1&lt;/strong&gt;&lt;/code&gt;`DOTALL|MULTILINE
`\{u\s+(.*?)\}`&lt;u&gt;$1&lt;/u&gt;`DOTALL|MULTILINE
`\{x\s+([a-zA-Z0-0\-]+)\s+(.*?)\}`&lt;span class="$1"&gt;$2&lt;/span&gt;`DOTALL|MULTILINE
`\{s\s+(.*?)\}`&lt;span style="text-decoration:line-through;"&gt;$1&lt;/span&gt;`DOTALL|MULTILINE
`\{c\s+(.*?)\}`&lt;code&gt;$1&lt;/code&gt;`DOTALL|MULTILINE

`\{anchor\s+(.*?)\}`&lt;a name="$1"&gt;&lt;/a&gt;`DOTALL

<span class="hmlComment"># Bullet and number lists lists:</span>
<span class="hmlComment"># Line items in both lists. After this pass, line items are all introduced by (^*&lt;li&gt;).</span>
<span class="hmlComment"># </span>
`^([#*]|(\d+\.))(.*\n) \
	(([ \t\x0B\f]+.*\n)*) \
	`$1&lt;li&gt;$3$4&lt;/li&gt;\n \
`MULTILINE
<span class="hmlComment">#
# Now, wrap the whole list in the appropriate element.</span>
<span class="hmlComment">#
`^(\*&lt;.*?\n)\n`&lt;ul&gt;\n$1&lt;/ul&gt;\n`MULTILINE|DOTALL</span>
`^((#|\d+\.)&lt;.*?\n)\n`&lt;ol&gt;\n$1&lt;/ol&gt;\n`MULTILINE|DOTALL
<span class="hmlComment">#
#	Finally, get rid of the original list-item markers</span>
<span class="hmlComment">#
`^(\*&lt;)`&lt;`MULTILINE</span>
`^((#|\d+\.)&lt;)`&lt;`MULTILINE

<span class="hmlComment"># definition lists work pretty much like bullet lists, except ; introduces</span>
<span class="hmlComment"># the dt and : the dd.</span>

`^(:)(.*\n) \
	(([ \t\x0B\f]+.*\n)*)  \
	`$1&lt;dd&gt;$2$3&lt;/dd&gt;\n \
`MULTILINE

`^(;)(.*\n) \
	(([ \t\x0B\f]+.*\n)*)  \
	`$1&lt;dt&gt;$2$3&lt;/dt&gt;\n \
`MULTILINE

`^([;:]&lt;.*?\n)\n`&lt;dl&gt;\n$1&lt;/dl&gt;\n`MULTILINE|DOTALL
`^([:;]&lt;)`&lt;`MULTILINE
							
<span class="hmlComment"># Alternative table macros: [(] [|] [)], etc. Do these before Columnar-output</span>
<span class="hmlComment"># macros (which interpret the | in [|] specially</span>

`(?&lt;=\[[\|\(]\])(\s*)(?=\[[\|\)]\])` \&amp;nbsp; `	<span class="hmlComment">## Replace empty table cells with &amp;nbsp;</span>
`\[\(([^\]]*)\]`&lt;tr&gt;&lt;td valign="top"$1&gt;` 		<span class="hmlComment">## [(]</span>
`\[\|([^\]]*)\]`&lt;/td&gt;&lt;td valign="top"$1&gt;` 		<span class="hmlComment">## [|]</span>
`\[\)\]`&lt;/td&gt;&lt;/tr&gt;` 							<span class="hmlComment">## [)]</span>

<span class="hmlComment"># Columnar output/simple tables</span>
<span class="hmlComment">#
# Get rid of the optional trailing bars (at the end of a row): all bars</span>
<span class="hmlComment"># that are followed by a blank line, or are not followed by an indented continuation line</span>

`\|([ \t\f\x0B]*\n\n)`$1`MULTILINE
`\|([ \t\f\x0B]*\n\S)`$1`MULTILINE

<span class="hmlComment"># Add &amp;nbsp into empty table cells</span>
`\|([ \t\f\x0B]*(\n[ \t\f\x0B]*)?)\|`|&amp;nbsp;$1|`MULTILINE

<span class="hmlComment"># horizontal separators</span>
`^\s*\|-\s*(\d*).*`&lt;tr&gt;&lt;td class=\"hmlTableLine\" colspan="$1"&gt;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;`MULTILINE

<span class="hmlComment"># Rows</span>
`^(\|)(.*\n) \
	(([ \t\x0B\f]+.*\n)*)  \
	`|&lt;tr&gt;&lt;td valign="top"&gt;$2$3&lt;/td&gt;&lt;/tr&gt;\n \
`MULTILINE

<span class="hmlComment"># the entire table</span>
`^(\|&lt;.*?\n)\n`&lt;table class="hmlTable"&gt;\n$1&lt;/table&gt;\n\n`MULTILINE|DOTALL
`^\|&lt;tr&gt;`&lt;tr&gt;`MULTILINE

<span class="hmlComment"># column separators</span>
`\s*\|`&lt;/td&gt;&lt;td valign="top"&gt;`


<span class="hmlComment"># {link...}-shorthand macros ({link} itself is handled in the code)</span>
<span class="hmlComment"># Do this late in the file so that other macros that use square brackets.</span>
<span class="hmlComment"># are expanded first.</span>

`\[(?!!)(\S+?)((\s[^\]]+)*?)\]`{link $1 $2}`MULTILINE|DOTALL
`(?&lt;!\\)&lt;https?:<span class="hmlComment">//(\S+?)(?&lt;!\\)&gt;$`{link $1}`MULTILINE|DOTALL</span>

<span class="hmlComment"># Now do the {link itself}, in order: Note that all lower-case strings</span>
<span class="hmlComment"># are accepted as a protocol.</span>
<span class="hmlComment">#
# {link ./url}             // remove ./</span>
<span class="hmlComment"># {link ./url text...}     // remove ./</span>
<span class="hmlComment"># {link #url}</span>
<span class="hmlComment"># {link #url text...}</span>
<span class="hmlComment"># {link http://url}</span>
<span class="hmlComment"># {link http://url text...}</span>
<span class="hmlComment"># {link url}               // add http</span>
<span class="hmlComment"># {link url text...}       // add http </span>

`\{link\s*\./(\S*)\s*\}`&lt;a target="_blank" href="$1"&gt;$1&lt;/a&gt;`
`\{link\s*\./(\S*)\s*([^\s\}].*?)\}`&lt;a target="_blank" href="$1"&gt;$2&lt;/a&gt;`

`\{link\s*#(\S*)\s*\}`&lt;a href="#$1"&gt;$1&lt;/a&gt;`
`\{link\s*(#\S*)\s*([^\s\}].*?)\}`&lt;a href="$1"&gt;$2&lt;/a&gt;`

`\{link\s*([a-z]+:<span class="hmlComment">//\S*)\s*\}`&lt;a target="_blank" href="$1"&gt;$1&lt;/a&gt;`</span>
`\{link\s*([a-z]+:<span class="hmlComment">//\S*)\s*([^\s\}].*?)\}`&lt;a target="_blank" href="$1"&gt;$2&lt;/a&gt;`</span>

`\{link\s*(\S*)\s*\}`&lt;a target="_blank" href="http:<span class="hmlComment">//$1"&gt;$1&lt;/a&gt;`</span>
`\{link\s*(\S*)\s*([^\s\}].*?)\}`&lt;a target="_blank" href="http:<span class="hmlComment">//$1"&gt;$2&lt;/a&gt;`</span>


<span class="hmlComment"># Index</span>
`\{index\s*(.*?)\s*,\s*(.*?)\s*\}`&lt;index-entry topic="$1"&gt;$2&lt;/index-entry&gt;`
`\{index\s*(.*?)\s*\}`&lt;index-entry topic="$1"&gt;&lt;/index-entry&gt;`

<span class="hmlComment"># Mediawiki-style heading aliases (with an augmentation for labels)</span>
<span class="hmlComment"># First set handles the versions with no label (that set has to be done first),</span>
<span class="hmlComment"># then handle the labeled versions</span>

`^[ \t\f\xB0]*======/?([^=]*?)=*[ \t\f\xB0]*?$`&lt;h6&gt;$1&lt;/h6&gt;`MULTILINE
`^[ \t\f\xB0]*=====/?([^=]*?)=*[ \t\f\xB0]*?$`&lt;h5&gt;$1&lt;/h5&gt;`MULTILINE
`^[ \t\f\xB0]*====/?([^=]*?)=*[ \t\f\xB0]*?$`&lt;h4&gt;$1&lt;/h4&gt;`MULTILINE
`^[ \t\f\xB0]*===/?([^=]*?)=*[ \t\f\xB0]*?$`&lt;h3&gt;$1&lt;/h3&gt;`MULTILINE
`^[ \t\f\xB0]*==/?([^=]*?)=*[ \t\f\xB0]*?$`&lt;h2&gt;$1&lt;/h2&gt;`MULTILINE
`^[ \t\f\xB0]*=/([^=]*?)=*[ \t\f\xB0]*?$`&lt;h1&gt;$1&lt;/h1&gt;`MULTILINE
`^[ \t\f\xB0]*=([^=]*?)=*[ \t\f\xB0]*?$`&lt;h0&gt;$1&lt;/h0&gt;`MULTILINE

`^[ \t\f\xB0]*======/?([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h6 label="$2"&gt;$1&lt;/h6&gt;`MULTILINE
`^[ \t\f\xB0]*=====/?([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h5 label="$2"&gt;$1&lt;/h5&gt;`MULTILINE
`^[ \t\f\xB0]*====/?([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h4 label="$2"&gt;$1&lt;/h4&gt;`MULTILINE
`^[ \t\f\xB0]*===/?([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h3 label="$2"&gt;$1&lt;/h3&gt;`MULTILINE
`^[ \t\f\xB0]*==/?([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h2 label="$2"&gt;$1&lt;/h2&gt;`MULTILINE
`^[ \t\f\xB0]*=/([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h1 label="$2"&gt;$1&lt;/h1&gt;`MULTILINE
`^[ \t\f\xB0]*=([^=]+?)(?:=+)[ \t\f\xB0]*(\S+).*?$`&lt;h0 label="$2"&gt;$1&lt;/h0&gt;`MULTILINE

<span class="hmlComment"># implicit paragraphs </span>
`\n([ \t\f\x0B]*\n[ \t\f\x0B]*)+(\p{Alnum}|\[|\{|\()`\n&lt;p&gt;\n$2`MULTILINE

<span class="hmlComment"># zero-width space</span>
/\[!\]<span class="hmlComment">//</span>

<span class="hmlComment"># Code macros are somewhat limited in what they can do, and if a code macro changes the</span>
<span class="hmlComment"># number of lines in the listing, all of the line numbering and associated HTML links</span>
<span class="hmlComment"># will be messed up. Don't do that. You can see which of of the HML mappings are done</span>
<span class="hmlComment"># here. Everything else is done by the HML processor **before** code-macro expansion</span>
<span class="hmlComment"># occurs. In particular, "bang comments" cannot be handled by macros because they can</span>
<span class="hmlComment"># change the line numbering.</span>
<span class="hmlComment">#
</span>
code: '(?&lt;!!)&amp;(?!#(38|60|62);)'\&amp;amp;'
code: '!&(?!#(38|60|62);)`\&amp;`
code: '(?&lt;!!)&lt;'\&amp;lt;'
code: '&gt;(?!!)'\&amp;gt;'
code: '<'&lt;'
code: '>'&gt;'


<span class="hmlComment"># Macros that handle comments. The first two handle empty comments (which can</span>
<span class="hmlComment"># occur after  marks are processed and removed. </span>
<span class="hmlComment"># Multi-line comments (e.g. <span class="hmlComment">/*...*/</span>)</span>
<span class="hmlComment"># that contain nothing but whitespace are removed entirely. Empty end of line</span>
<span class="hmlComment"># comments (e.g. //...) are removed if there's something to their left, but</span>
<span class="hmlComment"># a // that has nothing but white space on both sides of it is not removed.</span>
<span class="hmlComment"># After the empty comments are removed, other comments are surrounded by</span>
<span class="hmlComment"># a &lt;span&gt; that formats them differently from the rest of the code.</span>
#start-comment-macros

code: '/\*\s*?\*/''MULTILINE
code: '^([ \t]*[^ \t/].*?)[ \t]*(?:<span class="hmlComment">//|(?&lt;!&)#+)[ \t]*$'$1'MULTILINE     </span>

code: '/\*.*?\*/'&lt;span class=\"hmlComment\"&gt;$0&lt;/span&gt;'DOTALL|MULTILINE
code: '(?:<span class="hmlComment">//|(?&lt;!&)#+[- \n=]).*'&lt;span class=\"hmlComment\"&gt;$0&lt;/span&gt;'MULTILINE</span>

#end-comment-macros
<span class="hmlComment"># These entities are inserted in the Listing process to protect &lt; &gt; and &amp; symbols</span>
<span class="hmlComment"># that it inserts from macro expansion. Now that we're done with macro expansion,</span>
<span class="hmlComment"># put them back.</span>
<span class="hmlComment">#
# The following macros WILL NOT DISPLAY properly in the documentation (because</span>
<span class="hmlComment"># they'll be expanded)! Here are versions with a space added after the &amp; so</span>
<span class="hmlComment"># that they'll print. That space isn't present in the actual file.</span>
<span class="hmlComment">#
#     code: '&amp; #60;'&lt;'</span>
<span class="hmlComment">#     code: '&amp; #62;'&gt;'</span>
<span class="hmlComment">#     code: '&amp; #38;'\&amp;'</span>

code: '<'&lt;'
code: '>'&gt;'
code: '&'\&amp;'
</pre>
</div>
</div>
<div  class="hmlNotes">

<a name="notes"><h1>Notes</h1></a>
<div class="hmlNoteGroup" id="hmlNote-59"><div class="hmlNoteRef"><a name="hmlNote59" href="#hmlRef-59">1</a></div><div class="hmlNoteBody" id="hmlNoteBody-59">
Here's the note.
</div></div>
<div class="hmlNoteGroup" id="hmlNote-60"><div class="hmlNoteRef"><a name="hmlNote60" href="#hmlRef-60">2</a></div><div class="hmlNoteBody" id="hmlNoteBody-60">
	Here's a second note, created using
	<blockquote class="hmlBlock">
<em>&hellip;use.</em><br>
		<nobr><code>&lt;note&gt;</code></nobr><br>
		<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;Here&apos;s&nbsp;the&nbsp;second&nbsp;note,&nbsp;created&nbsp;using</code></nobr><br>
		<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&lt;block&gt;</code></nobr><br>
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip;<br>
		<nobr><code>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/block&gt;</code></nobr><br>
		<nobr><code>&lt;/note&gt;</code></nobr><br>
</blockquote>
	Note that, even though the <nobr><code>&lt;note&gt;</code></nobr> tag is on the next line from the annotated sentence, the annotation
	itself is where it belongs, right next to the period. White space to the left of the <nobr><code>&lt;note&gt;</code></nobr> is effectively
	ignored.
</div></div>
<div class="hmlNoteGroup" id="hmlNote-64"><div class="hmlNoteRef"><a name="hmlNote64" href="#hmlRef-64">&dagger;</a></div><div class="hmlNoteBody" id="hmlNoteBody-64">This is a note with a non-numeric callout.</div></div>
<div class="hmlNoteGroup" id="hmlNote-66"><div class="hmlNoteRef"><a name="hmlNote66" href="#hmlRef-66">10</a></div><div class="hmlNoteBody" id="hmlNoteBody-66">
	This is note number 10, created using
	<blockquote class="hmlBlock">
<nobr><code>&lt;note&nbsp;mark=&quot;10&quot;&nbsp;label=&quot;note10&quot;&gt;...&lt;/note&gt;</code></nobr><br>
</blockquote>
	The <nobr><code>mark=</code></nobr> gives the note the number 10 (the next note is 11), and the
	<nobr><code>label=</code></nobr> lets us reference the note by name (e.g.,<nobr><code>{note&nbsp;note10}</code></nobr>).
</div></div>
<div class="hmlNoteGroup" id="hmlNote-67"><div class="hmlNoteRef"><a name="hmlNote67" href="#hmlRef-67">11</a></div><div class="hmlNoteBody" id="hmlNoteBody-67">Here's the first note in a two-note sequence. This one is
specified with <nobr><code>&lt;note&nbsp;suffix=&quot;,&nbsp;&quot;&gt;</code></nobr>. note the space following the comma.
</div></div>
<div class="hmlNoteGroup" id="hmlNote-68"><div class="hmlNoteRef"><a name="hmlNote68" href="#hmlRef-68">12</a></div><div class="hmlNoteBody" id="hmlNoteBody-68">Here's the second note in the two-note sequence. There's no suffix, here.</div></div>
<div class="hmlNoteGroup" id="hmlNote-69"><div class="hmlNoteRef"><a name="hmlNote69" href="#hmlRef-69">13</a></div><div class="hmlNoteBody" id="hmlNoteBody-69">Like this.</div></div>
<div class="hmlNoteGroup" id="hmlNote-71"><div class="hmlNoteRef"><a name="hmlNote71" href="#hmlRef-71">14</a></div><div class="hmlNoteBody" id="hmlNoteBody-71">The reference to this note has brackets.</div></div>
<div class="hmlNoteGroup" id="hmlNote-178"><div class="hmlNoteRef"><a name="hmlNote178" href="#hmlRef-178">*</a></div><div class="hmlNoteBody" id="hmlNoteBody-178">
	Read Jeffrey Friedl's book
	<a href="http://www.amazon.com/exec/obidos/ASIN/0596528124/alleiholuasso" target="_blank"><em><em>Mastering Regular Expressions</em></em></a>. Also, there's
	a good tutorial at <a target="_blank" href="http://www.regular-expressions.info/">http://www.regular-expressions.info/</a>.
	The Rubular.com <a target="_blank" href="http://rubular.com/">regular-expression tester</a> can help you try things
	out dynamically, but it uses the Ruby regex syntax, which is slightly different than
	HML's Java syntax, which is described on the
	<a target="_blank" href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html">Java-<nobr><code>Pattern</code></nobr>-class documentation page</a>.
</div></div>
<div class="hmlNoteGroup" id="hmlNote-247"><div class="hmlNoteRef"><a name="hmlNote247" href="#hmlRef-247">**</a></div><div class="hmlNoteBody" id="hmlNoteBody-247">
In Windows, set environment variables from your System dialog.
(Find instructions for Windows 7 <a target="_blank" href="https://kb.wisc.edu/cae/page.php?id=24500">here</a>).
On the Mac, add a line to the <em>.profile</em> or <em>.bashrc</em> file in your home directory.
This can be complicated. A discussion of how to do it is
<a target="_blank" href="http://stackoverflow.com/questions/7501678/set-environment-variables-on-mac-os-x-lion">here</a>).
</div></div>
<div class="hmlNoteGroup" id="hmlNote-248"><div class="hmlNoteRef"><a name="hmlNote248" href="#hmlRef-248">15</a></div><div class="hmlNoteBody" id="hmlNoteBody-248">
The <nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr> elements are processed very early, long before code blocks and
snippets are processed (but after <nobr><code>&lt;import&gt;</code></nobr> statements are processed),
so if you're writing about HML for some reason, you cannot
protect the string <nobr><code>&lt;</code></nobr><nobr><code>config&gt;</code></nobr> by treating it as code.
</div></div>
</div>

<div class="hmlIndex"">
<a name="index"><h1>Index</h1></a>
<div class="hmlTopics">
<div class="hmlTopicGroup" id="48">
	<div class="hmlTopic"># (numbered list)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-48-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="36">
	<div class="hmlTopic">`&hellip;.` code snippets</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-36-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="50">
	<div class="hmlTopic">* (bullet list)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-50-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="244">
	<div class="hmlTopic">--out</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-244-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="245">
	<div class="hmlTopic">-o</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-245-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="98">
	<div class="hmlTopic"><code>\\</code></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-98-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="101">
	<div class="hmlTopic"><code>\</code><code>`</code></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-101-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="216">
	<div class="hmlTopic"><nobr><code>{#&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-216-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="215">
	<div class="hmlTopic"><nobr><code>{:&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-215-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="207">
	<div class="hmlTopic"><nobr><code>{=name}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-207-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="150">
	<div class="hmlTopic"><nobr><code>{amazon...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-150-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="24">
	<div class="hmlTopic"><nobr><code>{b...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-24-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="29">
	<div class="hmlTopic"><nobr><code>{bi...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-29-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="26">
	<div class="hmlTopic"><nobr><code>{c...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-26-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="28">
	<div class="hmlTopic"><nobr><code>{cb...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-28-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="27">
	<div class="hmlTopic"><nobr><code>{ci...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-27-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="25">
	<div class="hmlTopic"><nobr><code>{i...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-25-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="217">
	<div class="hmlTopic"><nobr><code>{line&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-217-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="16">
	<div class="hmlTopic"><nobr><code>{link&nbsp;...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-16-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="213">
	<div class="hmlTopic"><nobr><code>{ref&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-213-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-213-2">2</a>
	</div>
</div>
<div class="hmlTopicGroup" id="31">
	<div class="hmlTopic"><nobr><code>{s...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-31-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="169">
	<div class="hmlTopic"><nobr><code>{section&nbsp;...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-169-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="212">
	<div class="hmlTopic"><nobr><code>{sref&nbsp;</code></nobr><em>id</em><nobr><code>}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-212-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-212-2">2</a>
	</div>
</div>
<div class="hmlTopicGroup" id="30">
	<div class="hmlTopic"><nobr><code>{u...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-30-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="32">
	<div class="hmlTopic"><nobr><code>{x...}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-32-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="56">
	<div class="hmlTopic"><nobr><code>|-</code></nobr><em>N</em></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-56-1">columnar output horizontal divider</a>
	</div>
</div>
<div class="hmlTopicGroup" id="55">
	<div class="hmlTopic"><nobr><code>|</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-55-1">columnar output</a>
	</div>
</div>
<div class="hmlTopicGroup" id="130">
	<div class="hmlTopic"><nobr><code>!=</code></nobr> macro</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-130-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="119">
	<div class="hmlTopic"><nobr><code>(c)</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-119-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="120">
	<div class="hmlTopic"><nobr><code>(r)</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-120-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="34">
	<div class="hmlTopic"><nobr><code>*bold*</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-34-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="121">
	<div class="hmlTopic"><nobr><code>+-</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-121-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="38">
	<div class="hmlTopic"><nobr><code>,</code></nobr>&hellip; (easy code block)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-38-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="103">
	<div class="hmlTopic"><nobr><code>----</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-103-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="112">
	<div class="hmlTopic"><nobr><code>---</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-112-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="114">
	<div class="hmlTopic"><nobr><code>--</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-114-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="116">
	<div class="hmlTopic"><nobr><code>...</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-116-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="8">
	<div class="hmlTopic"><nobr><code>//...</code></nobr> comment</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-8-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="40">
	<div class="hmlTopic"><nobr><code>=</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-40-1">heading</a>
	</div>
</div>
<div class="hmlTopicGroup" id="157">
	<div class="hmlTopic"><nobr><code>[|]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-157-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="104">
	<div class="hmlTopic"><nobr><code>[!]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-104-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="106">
	<div class="hmlTopic"><nobr><code>[##]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-106-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="155">
	<div class="hmlTopic"><nobr><code>[(]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-155-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="156">
	<div class="hmlTopic"><nobr><code>[)]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-156-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="10">
	<div class="hmlTopic"><nobr><code>[*...*]</code></nobr> comment</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-10-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="122">
	<div class="hmlTopic"><nobr><code>[*]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-122-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="126">
	<div class="hmlTopic"><nobr><code>[+]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-126-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="128">
	<div class="hmlTopic"><nobr><code>[-]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-128-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="44">
	<div class="hmlTopic"><nobr><code>[...]</code></nobr> link</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-44-1">to reference sections in document</a>
	</div>
</div>
<div class="hmlTopicGroup" id="124">
	<div class="hmlTopic"><nobr><code>[/]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-124-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="139">
	<div class="hmlTopic"><nobr><code>[a&apos;]</code></nobr> etc.</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-139-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="143">
	<div class="hmlTopic"><nobr><code>[day]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-143-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-143-2">2</a>
	</div>
</div>
<div class="hmlTopicGroup" id="145">
	<div class="hmlTopic"><nobr><code>[hr]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-145-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="17">
	<div class="hmlTopic"><nobr><code>[http://...]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-17-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="146">
	<div class="hmlTopic"><nobr><code>[min]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-146-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="142">
	<div class="hmlTopic"><nobr><code>[month]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-142-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-142-2">2</a>
	</div>
</div>
<div class="hmlTopicGroup" id="147">
	<div class="hmlTopic"><nobr><code>[sec]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-147-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="141">
	<div class="hmlTopic"><nobr><code>[timestamp]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-141-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="118">
	<div class="hmlTopic"><nobr><code>[tm]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-118-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="144">
	<div class="hmlTopic"><nobr><code>[year]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-144-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="94">
	<div class="hmlTopic"><nobr><code>\{</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-94-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="95">
	<div class="hmlTopic"><nobr><code>\}</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-95-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="99">
	<div class="hmlTopic"><nobr><code>\*</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-99-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="96">
	<div class="hmlTopic"><nobr><code>\[</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-96-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="97">
	<div class="hmlTopic"><nobr><code>\]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-97-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="100">
	<div class="hmlTopic"><nobr><code>\^</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-100-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="102">
	<div class="hmlTopic"><nobr><code>\_</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-102-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="134">
	<div class="hmlTopic"><nobr><code>^</code></nobr> macros</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-134-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="136">
	<div class="hmlTopic"><nobr><code>_</code></nobr> macros</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-136-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="33">
	<div class="hmlTopic"><nobr><code>_italic_</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-33-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="107">
	<div class="hmlTopic"><nobr><code>&amp;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-107-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="111">
	<div class="hmlTopic"><nobr><code>&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-111-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="131">
	<div class="hmlTopic"><nobr><code>&lt;=</code></nobr> macro</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-131-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="108">
	<div class="hmlTopic"><nobr><code>&lt;&lt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-108-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="110">
	<div class="hmlTopic"><nobr><code>&lt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-110-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="6">
	<div class="hmlTopic"><nobr><code>&lt;</code></nobr><nobr><code>!=...=!</code></nobr><nobr><code>&gt;</code></nobr> comment</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-6-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="45">
	<div class="hmlTopic"><nobr><code>&lt;block&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-45-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="153">
	<div class="hmlTopic"><nobr><code>&lt;box&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-153-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="72">
	<div class="hmlTopic"><nobr><code>&lt;endnotes&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-72-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="186">
	<div class="hmlTopic"><nobr><code>&lt;figure-title&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-186-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="233">
	<div class="hmlTopic"><nobr><code>&lt;head&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-233-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="18">
	<div class="hmlTopic"><nobr><code>&lt;http://...&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-18-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="225">
	<div class="hmlTopic"><nobr><code>&lt;import&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-225-1">arguments</a>
	</div>
</div>
<div class="hmlTopicGroup" id="224">
	<div class="hmlTopic"><nobr><code>&lt;include&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-224-1">arguments</a>
	</div>
</div>
<div class="hmlTopicGroup" id="85">
	<div class="hmlTopic"><nobr><code>&lt;index-entry&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-85-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="185">
	<div class="hmlTopic"><nobr><code>&lt;listing-title&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-185-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="62">
	<div class="hmlTopic"><nobr><code>&lt;note&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-62-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="223">
	<div class="hmlTopic"><nobr><code>&lt;pre&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-223-1">nesting</a>
	</div>
</div>
<div class="hmlTopicGroup" id="187">
	<div class="hmlTopic"><nobr><code>&lt;table-title&gt;</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-187-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="132">
	<div class="hmlTopic"><nobr><code>1/2</code></nobr> macro</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-132-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="133">
	<div class="hmlTopic"><nobr><code>3/4</code></nobr> macro</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-133-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="172">
	<div class="hmlTopic"><nobr><code>code:</code></nobr> macro type</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-172-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="214">
	<div class="hmlTopic"><nobr><code>lable=</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-214-1">in <nobr><code>&lt;listing-title&gt;</code></nobr> required for <nobr><code>{ref...}</code></nobr> or <nobr><code>{sref...}</code></nobr></a>
	</div>
</div>
<div class="hmlTopicGroup" id="174">
	<div class="hmlTopic"><nobr><code>ref:</code></nobr> macro type</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-174-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="173">
	<div class="hmlTopic"><nobr><code>text:</code></nobr> macro type</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-173-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="201">
	<div class="hmlTopic"><nobr><code>title=</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-201-1">in <nobr><code>&lt;listing&gt;</code></nobr></a>
	</div>
</div>
<div class="hmlTopicGroup" id="192">
	<div class="hmlTopic">{index #</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-192-1">comments in code</a>
	</div>
</div>
<div class="hmlTopicGroup" id="49">
	<div class="hmlTopic">0. (numbered list)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-49-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="138">
	<div class="hmlTopic">accents</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-138-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="151">
	<div class="hmlTopic">amazon link</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-151-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="231">
	<div class="hmlTopic">argument</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-231-1">pass through</a>
	</div>
</div>
<div class="hmlTopicGroup" id="229">
	<div class="hmlTopic">attribute</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-229-1">propogation</a>,
<a class="hmlTopicLocation" href="#hmlIndex-229-2">pass through</a>
	</div>
</div>
<div class="hmlTopicGroup" id="220">
	<div class="hmlTopic">automatic tagging</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-220-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="193">
	<div class="hmlTopic">bang comment</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-193-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="19">
	<div class="hmlTopic">boldface</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-19-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="152">
	<div class="hmlTopic">boxed paragraph</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-152-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="232">
	<div class="hmlTopic">class=</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-232-1">replace hml with custom</a>
	</div>
</div>
<div class="hmlTopicGroup" id="88">
	<div class="hmlTopic">code</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-88-1">importing</a>,
<a class="hmlTopicLocation" href="#hmlIndex-88-2">comments in</a>
	</div>
</div>
<div class="hmlTopicGroup" id="37">
	<div class="hmlTopic">code block</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-37-1">easy (<nobr><code>,</code></nobr>&hellip;)</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-2">2</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-3">substations in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-4">HTML markup in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-5">comments in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-6">marking lines</a>,
<a class="hmlTopicLocation" href="#hmlIndex-37-7">CSS styling</a>
	</div>
</div>
<div class="hmlTopicGroup" id="23">
	<div class="hmlTopic">code font</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-23-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="35">
	<div class="hmlTopic">code snippets (`&hellip;`)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-35-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="53">
	<div class="hmlTopic">columnar list</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-53-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="4">
	<div class="hmlTopic">command line</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-4-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="5">
	<div class="hmlTopic">comments</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-5-1"><nobr><code>&lt;</code></nobr><nobr><code>!=...=!</code></nobr><nobr><code>&gt;</code></nobr></a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-2"><nobr><code>//...</code></nobr></a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-3"><nobr><code>[*...*]</code></nobr></a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-4">in macro definition</a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-5">in code</a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-6">in code</a>,
<a class="hmlTopicLocation" href="#hmlIndex-5-7">javadoc</a>
	</div>
</div>
<div class="hmlTopicGroup" id="246">
	<div class="hmlTopic">configuration</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-246-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="235">
	<div class="hmlTopic">CSS</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-235-1">adding to head</a>
	</div>
</div>
<div class="hmlTopicGroup" id="222">
	<div class="hmlTopic">declarations</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-222-1">tagging automatically</a>
	</div>
</div>
<div class="hmlTopicGroup" id="125">
	<div class="hmlTopic">divide sign</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-125-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="226">
	<div class="hmlTopic">dropbox</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-226-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="228">
	<div class="hmlTopic">element attributes (arguments)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-228-1">pass through</a>
	</div>
</div>
<div class="hmlTopicGroup" id="11">
	<div class="hmlTopic">elide text with <nobr><code>[*...*]</code></nobr></div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-11-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="117">
	<div class="hmlTopic">elipsis</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-117-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="113">
	<div class="hmlTopic">em-dash</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-113-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="21">
	<div class="hmlTopic">emphasis</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-21-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="115">
	<div class="hmlTopic">en-dash</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-115-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="63">
	<div class="hmlTopic">end notes</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-63-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-63-2">non-numeric</a>,
<a class="hmlTopicLocation" href="#hmlIndex-63-3">referencing by label</a>,
<a class="hmlTopicLocation" href="#hmlIndex-63-4">displaying</a>
	</div>
</div>
<div class="hmlTopicGroup" id="3">
	<div class="hmlTopic">executing</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-3-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="183">
	<div class="hmlTopic">expression</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-183-1">regular</a>
	</div>
</div>
<div class="hmlTopicGroup" id="164">
	<div class="hmlTopic">figure</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-164-1">reference to</a>
	</div>
</div>
<div class="hmlTopicGroup" id="86">
	<div class="hmlTopic">file</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-86-1">importing</a>
	</div>
</div>
<div class="hmlTopicGroup" id="22">
	<div class="hmlTopic">fonts</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-22-1">code</a>
	</div>
</div>
<div class="hmlTopicGroup" id="109">
	<div class="hmlTopic">guillemet</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-109-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="234">
	<div class="hmlTopic">head</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-234-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="41">
	<div class="hmlTopic">heading</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-41-1"><nobr><code>=</code></nobr>, <nobr><code>=/</code></nobr>, etc.</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-2">adding a label</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-3">access with arbitrary text</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-4">exclude from table of contents</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-5">HTML-style</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-6">labeling</a>,
<a class="hmlTopicLocation" href="#hmlIndex-41-7">changing section number</a>
	</div>
</div>
<div class="hmlTopicGroup" id="163">
	<div class="hmlTopic">heading number</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-163-1">changing</a>
	</div>
</div>
<div class="hmlTopicGroup" id="237">
	<div class="hmlTopic">hml.head</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-237-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="238">
	<div class="hmlTopic">hml.tail</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-238-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="57">
	<div class="hmlTopic">horizontal line in table</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-57-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="15">
	<div class="hmlTopic">hot links (hyperlinks)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-15-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="13">
	<div class="hmlTopic">hyperlinks</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-13-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="89">
	<div class="hmlTopic">importing</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-89-1">code</a>,
<a class="hmlTopicLocation" href="#hmlIndex-89-2">listings</a>
	</div>
</div>
<div class="hmlTopicGroup" id="76">
	<div class="hmlTopic">index</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-76-1">macro-style</a>,
<a class="hmlTopicLocation" href="#hmlIndex-76-2">macro-style</a>,
<a class="hmlTopicLocation" href="#hmlIndex-76-3">subtopic in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-76-4">visible text of reference</a>,
<a class="hmlTopicLocation" href="#hmlIndex-76-5">HTML-style</a>,
<a class="hmlTopicLocation" href="#hmlIndex-76-6">styling</a>
	</div>
</div>
<div class="hmlTopicGroup" id="1">
	<div class="hmlTopic">installation</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-1-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="20">
	<div class="hmlTopic">italics</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-20-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="221">
	<div class="hmlTopic">java</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-221-1">tagging declarations</a>
	</div>
</div>
<div class="hmlTopicGroup" id="197">
	<div class="hmlTopic">javadoc</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-197-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="205">
	<div class="hmlTopic">lines</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-205-1">marking for reference</a>
	</div>
</div>
<div class="hmlTopicGroup" id="14">
	<div class="hmlTopic">links</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-14-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="46">
	<div class="hmlTopic">list</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-46-1">bullet</a>,
<a class="hmlTopicLocation" href="#hmlIndex-46-2">numbered</a>,
<a class="hmlTopicLocation" href="#hmlIndex-46-3">definition</a>,
<a class="hmlTopicLocation" href="#hmlIndex-46-4">containing <nobr><code>&lt;pre&gt;</code></nobr></a>
	</div>
</div>
<div class="hmlTopicGroup" id="87">
	<div class="hmlTopic">listing</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-87-1">importing</a>,
<a class="hmlTopicLocation" href="#hmlIndex-87-2">reference to</a>,
<a class="hmlTopicLocation" href="#hmlIndex-87-3"><nobr><code>title=</code></nobr></a>,
<a class="hmlTopicLocation" href="#hmlIndex-87-4">references to lines in</a>
	</div>
</div>
<div class="hmlTopicGroup" id="199">
	<div class="hmlTopic">listing title</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-199-1">automatic generation</a>
	</div>
</div>
<div class="hmlTopicGroup" id="243">
	<div class="hmlTopic">log4j</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-243-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="91">
	<div class="hmlTopic">macros</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-91-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-2">types</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-3">predefined</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-4">nesting</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-5">user defined</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-6">categories (<nobr><code>code:</code></nobr>, <nobr><code>text:</code></nobr>, <nobr><code>ref:</code></nobr></a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-7">file format</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-8">defining</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-9">defining</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-10">special characters in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-91-11">comments in definition</a>
	</div>
</div>
<div class="hmlTopicGroup" id="227">
	<div class="hmlTopic">MediaWiki</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-227-1">differences from</a>
	</div>
</div>
<div class="hmlTopicGroup" id="129">
	<div class="hmlTopic">minu sign</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-129-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="61">
	<div class="hmlTopic">notes</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-61-1">(see end notes</a>
	</div>
</div>
<div class="hmlTopicGroup" id="12">
	<div class="hmlTopic">paragraphs</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-12-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="127">
	<div class="hmlTopic">plus sign</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-127-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="140">
	<div class="hmlTopic">quotation marks</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-140-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="202">
	<div class="hmlTopic">references</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-202-1">to lines in listings</a>
	</div>
</div>
<div class="hmlTopicGroup" id="168">
	<div class="hmlTopic">reference</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-168-1">to section</a>,
<a class="hmlTopicLocation" href="#hmlIndex-168-2">symbolic in listing (<nobr><code>{=name}</code></nobr>)</a>,
<a class="hmlTopicLocation" href="#hmlIndex-168-3">to line in listing</a>
	</div>
</div>
<div class="hmlTopicGroup" id="182">
	<div class="hmlTopic">regular expression</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-182-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="2">
	<div class="hmlTopic">running</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-2-1">from command line</a>
	</div>
</div>
<div class="hmlTopicGroup" id="167">
	<div class="hmlTopic">section</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-167-1">reference</a>
	</div>
</div>
<div class="hmlTopicGroup" id="162">
	<div class="hmlTopic">section number</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-162-1">changing</a>
	</div>
</div>
<div class="hmlTopicGroup" id="236">
	<div class="hmlTopic">styling</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-236-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="137">
	<div class="hmlTopic">subscript</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-137-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="135">
	<div class="hmlTopic">superscript</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-135-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="211">
	<div class="hmlTopic">symbolic reference</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-211-1">to line in listing</a>
	</div>
</div>
<div class="hmlTopicGroup" id="208">
	<div class="hmlTopic">symbolic reference (<nobr><code>{=name}</code></nobr>)</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-208-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="39">
	<div class="hmlTopic">tab</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-39-1">in <nobr><code>,</code></nobr>&hellip; code block</a>
	</div>
</div>
<div class="hmlTopicGroup" id="240">
	<div class="hmlTopic">tables</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-240-1">CSS styling</a>
	</div>
</div>
<div class="hmlTopicGroup" id="54">
	<div class="hmlTopic">table</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-54-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-54-2">horizontal line in</a>,
<a class="hmlTopicLocation" href="#hmlIndex-54-3">reference to</a>
	</div>
</div>
<div class="hmlTopicGroup" id="154">
	<div class="hmlTopic">table macros</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-154-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="204">
	<div class="hmlTopic">tags</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-204-1">manual</a>
	</div>
</div>
<div class="hmlTopicGroup" id="123">
	<div class="hmlTopic">times sign</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-123-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="184">
	<div class="hmlTopic">titles</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-184-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="75">
	<div class="hmlTopic">toc</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-75-1">argument to <nobr><code>H</code></nobr><em>N</em></a>
	</div>
</div>
<div class="hmlTopicGroup" id="242">
	<div class="hmlTopic">vim</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-242-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="105">
	<div class="hmlTopic">zero-width space</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-105-1">1</a>
	</div>
</div>
<div class="hmlTopicGroup" id="78">
	<div class="hmlTopic">ZZ</div>
	<div class="hmlTopicLocationGroup">
<a class="hmlTopicLocation" href="#hmlIndex-78-1">1</a>,
<a class="hmlTopicLocation" href="#hmlIndex-78-2">subtopic</a>,
<a class="hmlTopicLocation" href="#hmlIndex-78-3">3</a>,
<a class="hmlTopicLocation" href="#hmlIndex-78-4">plural version</a>
	</div>
</div>
</div></div>
</body>
</html>
